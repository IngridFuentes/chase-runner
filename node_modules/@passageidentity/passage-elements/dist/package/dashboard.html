<!DOCTYPE html>
<html lang="">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0" />
        <link rel="icon" href="<%= BASE_URL %>favicon.ico" />
        <title>Passage Local Dashboard</title>
    </head>
    <style>
        body {
            background: #e5e5e5;
        }

        .container {
            background: white;
            box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
            border-radius: 20px;
            width: 360px;
            margin: 30px auto;
        }

        .profile-container {
            width: 100%;
        }
    </style>
    <body>
        <noscript>
            <strong
                >We're sorry but Passage Local doesn't work properly without JavaScript enabled. Please enable it to
                continue.</strong
            >
        </noscript>
        <div class="container profile-container" id="passage-profile-container">
            <!--<passage-profile app-id="preflight" default-country-code="us"></passage-profile>-->
        </div>
        <script src="index.umd.js"></script>
        <script>
            let appId = 'preflight';
            loadAppId();

            function loadAppId() {
                const storedAppId = localStorage.getItem('passage-app-id');
                if (storedAppId) {
                    appId = storedAppId;
                }
            }

            function renderProfile() {
                const profileElem = document.getElementById('passage-profile-container');
                profileElem.innerHTML = `<passage-profile app-id="${appId}" default-country-code="us"></passage-profile>`;
            }

            window.onload = renderProfile;
        </script>
        <!-- built files will be auto injected -->
    </body>
</html>
