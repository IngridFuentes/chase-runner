{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { PassageUser } from '@passageidentity/passage-auth/passage-user';\nexport function useCurrentUser() {\n  _s();\n  const [result, setResult] = useState({\n    isLoading: true,\n    isAuthorized: false,\n    username: ''\n  });\n  useEffect(() => {\n    let cancelRequest = false;\n    new PassageUser().userInfo().then(userInfo => {\n      if (cancelRequest) {\n        return;\n      }\n      if (userInfo === undefined) {\n        setResult({\n          isLoading: false,\n          isAuthorized: false,\n          username: \"\"\n        });\n        return;\n      }\n      setResult({\n        isLoading: false,\n        isAuthorized: true,\n        username: userInfo.email ? userInfo.email : userInfo.phone\n      });\n    });\n    return () => {\n      cancelRequest = true;\n    };\n  }, []);\n  return result;\n}\n_s(useCurrentUser, \"iPaPuKco5R50ISJz6OrJxOOLyPc=\");","map":{"version":3,"names":["useState","useEffect","PassageUser","useCurrentUser","_s","result","setResult","isLoading","isAuthorized","username","cancelRequest","userInfo","then","undefined","email","phone"],"sources":["/Users/ingridf/Documents/chase-runner/src/hooks/userCurrentUser.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { PassageUser } from '@passageidentity/passage-auth/passage-user';\n\nexport function useCurrentUser() {\n    const [result, setResult] = useState({\n        isLoading: true,\n        isAuthorized: false,\n        username: '',\n    });\n\n    useEffect(() => {\n        let cancelRequest = false;\n        new PassageUser().userInfo().then(userInfo=> {\n            if( cancelRequest ) {\n                return;\n            }\n            if(userInfo === undefined){\n                setResult({\n                    isLoading: false,\n                    isAuthorized: false,\n                    username: \"\",\n                });\n                return;\n            }\n            setResult({\n                isLoading: false,\n                isAuthorized: true,\n                username: userInfo.email ? userInfo.email : userInfo.phone,\n            });\n        });\n        return () => {\n            cancelRequest = true;\n        };\n    }, []);\n    return result;\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,4CAA4C;AAExE,OAAO,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC;IACjCO,SAAS,EAAE,IAAI;IACfC,YAAY,EAAE,KAAK;IACnBC,QAAQ,EAAE;EACd,CAAC,CAAC;EAEFR,SAAS,CAAC,MAAM;IACZ,IAAIS,aAAa,GAAG,KAAK;IACzB,IAAIR,WAAW,CAAC,CAAC,CAACS,QAAQ,CAAC,CAAC,CAACC,IAAI,CAACD,QAAQ,IAAG;MACzC,IAAID,aAAa,EAAG;QAChB;MACJ;MACA,IAAGC,QAAQ,KAAKE,SAAS,EAAC;QACtBP,SAAS,CAAC;UACNC,SAAS,EAAE,KAAK;UAChBC,YAAY,EAAE,KAAK;UACnBC,QAAQ,EAAE;QACd,CAAC,CAAC;QACF;MACJ;MACAH,SAAS,CAAC;QACNC,SAAS,EAAE,KAAK;QAChBC,YAAY,EAAE,IAAI;QAClBC,QAAQ,EAAEE,QAAQ,CAACG,KAAK,GAAGH,QAAQ,CAACG,KAAK,GAAGH,QAAQ,CAACI;MACzD,CAAC,CAAC;IACN,CAAC,CAAC;IACF,OAAO,MAAM;MACTL,aAAa,GAAG,IAAI;IACxB,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EACN,OAAOL,MAAM;AACjB;AAACD,EAAA,CAhCeD,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}