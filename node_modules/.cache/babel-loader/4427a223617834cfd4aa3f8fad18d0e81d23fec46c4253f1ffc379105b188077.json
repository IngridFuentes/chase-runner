{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nimport { f as ref, g as watch, d as defineComponent, h as useLocale, i as usePassage, j as computed, k as onMounted, l as ce, m as onBeforeUnmount, c as createElementBlock, w as withDirectives, v as vShow, a as createBaseVNode, n as createTextVNode, t as toDisplayString, u as unref, p as withModifiers, q as normalizeClass, x as vModelText, r as renderSlot, y as normalizeStyle, z as createCommentVNode, _ as _export_sfc, o as openBlock, A as pushScopeId, B as popScopeId, C as re, D as readonly, E as he, W, U as UAParser, b as createBlock, e as withCtx, F as createVNode, G as h, I as Icons, H as InlineSvg, J as isRef, K as useDefaultCountryCode, P, T as Transition, L as Fragment, M as E, N as normalizeProps, O as guardReactiveProps, Q as vModelDynamic, R as renderList, S as useAddDevice, V as reactive, X as Dropdown, Y as useAppInfo, Z as mergeProps, $ as resolveDynamicComponent, a0 as onBeforeUpdate, a1 as useStoreLocale, a2 as useIntlTelInput, a3 as createPassageInstance } from \"./customElements.es.js\";\nimport { i as intlTelInput, t as transformMetadata, L as LayoutType, U as UserMetadata, C as Checkbox } from \"./customElements.es3.js\";\nfunction isStringNullish(value) {\n  return value === void 0 || value === null || value === \"\" || value === \" \";\n}\nvar IdentifierType = /* @__PURE__ */(IdentifierType2 => {\n  IdentifierType2[\"phone\"] = \"PHONE\";\n  IdentifierType2[\"email\"] = \"EMAIL\";\n  return IdentifierType2;\n})(IdentifierType || {});\nfunction useAutofocusButton() {\n  const autofocusButton = ref();\n  function autofocus() {\n    if (autofocusButton.value === void 0 || autofocusButton.value === null) {\n      return;\n    }\n    autofocusButton.value.focus();\n  }\n  watch(autofocusButton, () => {\n    autofocus();\n  });\n  return {\n    autofocusButton\n  };\n}\nfunction inputStyles() {\n  const css = `\n      .psg-input{\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        box-sizing: border-box;\n        color: var(--passage-input-text-color, var(--passage-body-text-color-default));\n        font-family: var(--passage-body-font-family, var(--passage-body-font-family-default));\n        font-size: var(--passage-body-font-size, var(--passage-body-font-size-default));\n        font-weight: var(--passage-body-font-weight, var(--passage-body-font-weight-default));\n\n        min-height: 40px;\n        width: 100%;\n\n        padding-left: 10px;\n        padding-right: 10px;\n        margin: 0;\n\n        background-color: var(--passage-input-box-background-color, var(--passage-input-box-background-color-default));\n        border-style: solid;\n        border-color: var(--passage-control-border-color, var(--passage-control-border-color-default));\n        border-width: 1px;\n        border-radius: var(--passage-input-box-border-radius, var(--passage-input-box-border-radius-default));\n\n        transition: all 0.3s;\n\n        text-overflow: ellipsis;\n      }\n\n      .psg-input:focus{\n        outline: none;\n        box-shadow: none !important;\n        border-color: var(--passage-control-border-active-color, var(--passage-control-border-active-color-default));\n      }\n\n      .psg-input:active{\n        outline: none;\n        box-shadow: none !important;\n        border-color: var(--passage-control-border-active-color, var(--passage-control-border-active-color-default));\n      }\n\n      .psg-input.has-error{\n        border-color: var(--passage-error-color, var(--passage-error-color-default));\n      }\n      .psg-input.is-danger{\n        border-color: var(--passage-error-color, var(--passage-error-color-default));\n      }\n      .iti {\n        width: 100%;\n      }\n\n        .iti__country-list {\n            border-radius: 6px;\n        }\n\n        .iti__country {\n            padding: 5px 10px;\n        }\n\n        .iti__selected-flag {\n            border-top-left-radius: var(--passage-control-border-radius, var(--passage-input-box-border-radius-default));\n            border-bottom-left-radius: var(--passage-control-border-radius, var(--passage-input-box-border-radius-default));\n        }\n\n    .iti--container {\n        top: unset !important;\n        left: unset !important;\n    }`;\n  const style = document.createElement(\"style\");\n  style.appendChild(document.createTextNode(css));\n  return style;\n}\nfunction itiStyles() {\n  const link = document.createElement(\"link\");\n  link.rel = \"stylesheet\";\n  link.href = \"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/css/intlTelInput.css\";\n  return link;\n}\nfunction otcStyles() {\n  const css = `\n      .psg-otp-input-container{\n        margin: 0px;\n        padding: 0px;\n        align-items: center;\n        height: auto;\n        width: auto;\n      }\n      .psg-otp-single-input-container{\n        margin: 0px;\n        padding: 0px;\n        height: auto;\n        width: auto;\n      }\n      .psg-otp-input {\n        width: 40px;\n        height: 40px;\n        padding: 0px;\n        margin-left: 4px;\n        margin-right: 4px;\n        font-size: 24px;\n        font-weight: 400;\n        color: var(--passage-input-text-color, var(--passage-body-text-color-default));\n        font-family: var(--passage-body-font-family, var(--passage-body-font-family-default));\n        line-height: 29px;\n        border-radius: 4px;\n        border: 1px solid transparent;\n        text-align: center;\n        background-color: var(--passage-otp-input-background-color, var(--passage-otp-input-background-color-default));\n        -moz-appearance: textfield;\n      }\n      .psg-otp-input:read-only {\n        background-color: var(--passage-otp-input-background-color, var(--passage-otp-input-background-color-default));\n      }\n      .psg-otp-input::-webkit-inner-spin-button{\n        -webkit-appearance: none;\n        display: none;\n        margin: 0;\n      }\n      .psg-otp-input::-webkit-outer-spin-button{\n        -webkit-appearance: none;\n        display: none;\n        margin: 0;\n      }\n      .psg-input.has-error{\n        border-color: var(--passage-error-color, var(--passage-error-color-default)) !important;\n      }\n      .psg-input.is-danger {\n        border-color: var(--passage-error-color, var(--passage-error-color-default)) !important;\n      }\n      .psg-input:focus {\n        outline: none;\n        box-shadow: none !important;\n        border-color: var(--passage-control-border-active-color, var(--passage-control-border-active-color-default));\n      }\n      .psg-input:active {\n        outline: none;\n        box-shadow: none !important;\n        border-color: var(--passage-control-border-active-color, var(--passage-control-border-active-color-default));\n      }`;\n  const style = document.createElement(\"style\");\n  style.appendChild(document.createTextNode(css));\n  return style;\n}\nvar ValidatedIdentifierForm_vue_vue_type_style_index_0_scoped_true_lang = \"\";\nconst _withScopeId = n => (pushScopeId(\"data-v-1ea7af8c\"), n = n(), popScopeId(), n);\nconst _hoisted_1$r = {\n  class: \"identifier-form\"\n};\nconst _hoisted_2$i = {\n  class: \"has-text-centered\"\n};\nconst _hoisted_3$g = /* @__PURE__ */_withScopeId(() => /* @__PURE__ */createBaseVNode(\"br\", null, null, -1));\nconst _hoisted_4$e = {\n  class: \"identifier-text\"\n};\nconst _hoisted_5$d = [\"onSubmit\"];\nconst _hoisted_6$b = [\"autocomplete\", \"inputmode\", \"placeholder\", \"onInput\"];\nconst _hoisted_7$b = {\n  class: \"flex-row flex-center\"\n};\nconst _hoisted_8$9 = [\"onClick\"];\nconst _hoisted_9$9 = {\n  key: 0,\n  style: {\n    \"margin-top\": \"30px\"\n  },\n  class: \"link has-text-centered\"\n};\nconst _hoisted_10$6 = [\"onClick\"];\nconst _sfc_main$v = defineComponent({\n  __name: \"ValidatedIdentifierForm\",\n  props: {\n    validationError: {\n      default: \"\"\n    },\n    identifier: {},\n    countryCode: {},\n    identifierMode: {},\n    showWelcomeBack: {\n      type: Boolean,\n      default: false\n    },\n    conditionalUI: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"onSubmit\", \"update:validationError\", \"update:identifier\", \"update:countryCode\", \"update:showWelcomeBack\"],\n  setup(__props, _ref) {\n    let {\n      emit\n    } = _ref;\n    const props = __props;\n    const {\n      t\n    } = useLocale();\n    const identifierParseError = ref(\"\");\n    const identifierInput = ref();\n    const controlContainer = ref();\n    const {\n      autofocusButton\n    } = useAutofocusButton();\n    const {\n      passage\n    } = usePassage();\n    const showWelcomeUI = computed(() => {\n      return props.showWelcomeBack;\n    });\n    const label = computed(() => {\n      let identifierType;\n      switch (props.identifierMode) {\n        case ce.phone:\n          identifierType = t(\"phone-number\");\n          break;\n        case ce.email:\n          identifierType = t(\"email-address\");\n          break;\n        case ce.both:\n          identifierType = t(\"email-or-phone-number\");\n          break;\n      }\n      return identifierType.charAt(0).toUpperCase() + identifierType.slice(1);\n    });\n    const placeholder = computed(() => {\n      return \"example@email.com\";\n    });\n    const inputMode = computed(() => {\n      if (props.identifierMode === ce.phone) {\n        return \"tel\";\n      }\n      return \"email\";\n    });\n    const autocomplete = computed(() => {\n      var _a;\n      if (props.conditionalUI) {\n        return `${inputMode.value} webauthn`;\n      }\n      return (_a = inputMode.value) != null ? _a : \"\";\n    });\n    const identifierText = computed({\n      get() {\n        return props.identifier;\n      },\n      set(newIdentifier) {\n        emit(\"update:identifier\", newIdentifier);\n      }\n    });\n    function formattedIdentifier() {\n      var _a;\n      if (!identifierText.value) {\n        return \"\";\n      }\n      let identifier2 = identifierText.value;\n      if (!showWelcomeUI.value) {\n        identifier2 = isPhoneNumber() ? (_a = phoneInput == null ? void 0 : phoneInput.getNumber()) != null ? _a : \"\" : identifierText.value;\n      }\n      return identifier2.trim().toLowerCase();\n    }\n    const error = computed(() => {\n      if (!isStringNullish(props.validationError)) {\n        return props.validationError;\n      }\n      if (!isStringNullish(identifierParseError.value)) {\n        return identifierParseError.value;\n      }\n      return \"\";\n    });\n    function clearErrors() {\n      identifierParseError.value = \"\";\n      emit(\"update:validationError\", \"\");\n    }\n    function checkIdentifier() {\n      return __async(this, null, function* () {\n        if (!validateInput()) {\n          return;\n        }\n        let identifierExists,\n          emailVerified,\n          phoneVerified = false;\n        let webauthnTypes = [];\n        let userStatus;\n        let userID = \"\";\n        try {\n          const userInfo = yield passage.identifierExists(formattedIdentifier());\n          if (userInfo !== null) {\n            identifierExists = true;\n            userStatus = userInfo.status;\n            userID = userInfo.id;\n            emailVerified = userInfo.email_verified;\n            phoneVerified = userInfo.phone_verified;\n            webauthnTypes = userInfo.webauthn_types;\n          } else {\n            identifierExists = false;\n            userStatus = re.INACTIVE;\n          }\n        } catch (e) {\n          let errorMessage;\n          switch (props.identifierMode) {\n            case ce.email:\n              errorMessage = t(\"enter-a-valid-email-address\");\n              break;\n            case ce.phone:\n              errorMessage = t(\"enter-a-valid-phone-number\");\n              break;\n            case ce.both:\n              errorMessage = t(\"enter-a-valid-email-or-phone-number\");\n              break;\n          }\n          identifierParseError.value = errorMessage;\n          return;\n        }\n        emit(\"onSubmit\", {\n          identifier: formattedIdentifier(),\n          identifierExists,\n          identifierType: isPhoneNumber() ? IdentifierType.phone : IdentifierType.email,\n          userStatus,\n          userID,\n          emailVerified,\n          phoneVerified,\n          webauthnTypes\n        });\n      });\n    }\n    function isEmail() {\n      const emailRegEx = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return emailRegEx.test(formattedIdentifier());\n    }\n    function isPhoneNumber() {\n      if (showWelcomeUI.value) {\n        return isPhoneNumberRegex();\n      }\n      if (phoneInput === void 0) {\n        return false;\n      }\n      return phoneInput.isValidNumber();\n    }\n    function validateInput() {\n      if (formattedIdentifier() === \"\") {\n        let message = \"\";\n        switch (props.identifierMode) {\n          case ce.phone:\n            message = t(\"enter-a-phone-number\");\n            break;\n          case ce.email:\n            message = t(\"enter-an-email-address\");\n            break;\n          case ce.both:\n            message = t(\"enter-an-email-or-phone-number\");\n            break;\n        }\n        identifierParseError.value = message;\n        return false;\n      } else if (props.identifierMode === ce.email && !isEmail()) {\n        identifierParseError.value = t(\"enter-a-valid-email-address\");\n        return false;\n      } else if (props.identifierMode === ce.phone && !isPhoneNumber()) {\n        identifierParseError.value = t(\"enter-a-valid-phone-number\");\n        return false;\n      } else if (props.identifierMode === ce.both && !isPhoneNumber() && !isEmail()) {\n        identifierParseError.value = t(\"enter-a-valid-email-or-phone-number\");\n        return false;\n      }\n      return true;\n    }\n    let phoneInput;\n    function showCountryCode() {\n      if (phoneInput !== void 0) {\n        return;\n      }\n      identifierInput.value.addEventListener(\"countrychange\", () => {\n        var _a;\n        emit(\"update:countryCode\", (_a = phoneInput == null ? void 0 : phoneInput.getSelectedCountryData().iso2) != null ? _a : \"\");\n      });\n      phoneInput = intlTelInput(identifierInput.value, {\n        initialCountry: props.countryCode,\n        utilsScript: \"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js\",\n        dropdownContainer: controlContainer.value,\n        autoPlaceholder: \"aggressive\"\n      });\n      identifierInput.value.focus();\n    }\n    function hideCountryCode() {\n      if (phoneInput === void 0) {\n        return;\n      }\n      phoneInput.destroy();\n      phoneInput = void 0;\n      if (identifierInput.value) {\n        identifierInput.value.focus();\n      }\n    }\n    onMounted(() => {\n      if (props.conditionalUI) {\n        moveInput();\n      }\n      if (props.identifierMode === ce.phone) {\n        showCountryCode();\n      }\n    });\n    function isPhoneNumberRegex() {\n      const phoneNumberRegex = /^\\+$|^\\+?[0-9,(,),\\-, ]+$/;\n      return phoneNumberRegex.test(identifierText.value.trim());\n    }\n    if (props.identifierMode === ce.both) {\n      watch(identifierText, () => {\n        if (isPhoneNumberRegex()) {\n          showCountryCode();\n        } else {\n          hideCountryCode();\n        }\n      });\n    }\n    const countryCodeText = computed(() => {\n      return props.countryCode;\n    });\n    watch(countryCodeText, newValue => {\n      phoneInput == null ? void 0 : phoneInput.setCountry(newValue);\n    });\n    function switchAccount() {\n      emit(\"update:showWelcomeBack\", false);\n      identifierText.value = \"\";\n    }\n    const identifierForm = ref();\n    function moveInput() {\n      const parent = identifierForm.value.getRootNode().host;\n      if (parent !== void 0) {\n        identifierForm.value.appendChild(inputStyles());\n        identifierForm.value.appendChild(itiStyles());\n        parent.appendChild(identifierForm.value);\n      }\n    }\n    function cleanupInput() {\n      identifierForm.value.remove();\n    }\n    onBeforeUnmount(() => {\n      cleanupInput();\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$r, [withDirectives(createBaseVNode(\"div\", _hoisted_2$i, [createTextVNode(toDisplayString(unref(t)(\"welcome-back-sign-in-as\")), 1), _hoisted_3$g, createBaseVNode(\"strong\", _hoisted_4$e, toDisplayString(identifierText.value), 1)], 512), [[vShow, _ctx.showWelcomeBack]]), withDirectives(createBaseVNode(\"div\", null, [createBaseVNode(\"div\", {\n        class: \"label\",\n        ref: \"labelRef\"\n      }, toDisplayString(label.value), 513), createBaseVNode(\"form\", {\n        ref_key: \"identifierForm\",\n        ref: identifierForm,\n        slot: \"loginInput\",\n        onSubmit: withModifiers(checkIdentifier, [\"prevent\"])\n      }, [withDirectives(createBaseVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => identifierText.value = $event),\n        type: \"text\",\n        class: normalizeClass([\"input psg-input\", {\n          \"is-danger\": error.value\n        }]),\n        part: \"input\",\n        autocomplete: autocomplete.value,\n        inputmode: inputMode.value,\n        id: \"identifier\",\n        placeholder: placeholder.value,\n        onInput: withModifiers(clearErrors, [\"prevent\"]),\n        \"data-test\": \"identifier-input\",\n        ref_key: \"identifierInput\",\n        ref: identifierInput\n      }, null, 42, _hoisted_6$b), [[vModelText, identifierText.value]])], 40, _hoisted_5$d), renderSlot(_ctx.$slots, \"loginInput\", {}, void 0, true)], 512), [[vShow, !_ctx.showWelcomeBack]]), createBaseVNode(\"div\", {\n        ref_key: \"controlContainer\",\n        ref: controlContainer,\n        style: {\n          \"width\": \"100%\"\n        }\n      }, null, 512), createBaseVNode(\"div\", {\n        style: normalizeStyle(`text-align: ${showWelcomeUI.value ? \"center\" : \"left\"};`),\n        class: \"help is-danger error-message\",\n        \"data-test\": \"validation-error\"\n      }, toDisplayString(error.value), 5), renderSlot(_ctx.$slots, \"metadataFields\", {}, void 0, true), createBaseVNode(\"div\", _hoisted_7$b, [createBaseVNode(\"button\", {\n        class: \"button is-primary\",\n        part: \"button\",\n        \"data-test\": \"continue-button\",\n        ref_key: \"autofocusButton\",\n        ref: autofocusButton,\n        onClick: withModifiers(checkIdentifier, [\"prevent\"])\n      }, toDisplayString(unref(t)(\"continue\")), 9, _hoisted_8$9)]), showWelcomeUI.value ? (openBlock(), createElementBlock(\"div\", _hoisted_9$9, [createBaseVNode(\"a\", {\n        onClick: withModifiers(switchAccount, [\"prevent\"]),\n        role: \"button\",\n        class: \"body-link\",\n        \"data-test\": \"register-link\"\n      }, toDisplayString(unref(t)(\"switch-account\")), 9, _hoisted_10$6)])) : createCommentVNode(\"\", true)]);\n    };\n  }\n});\nvar ValidatedIdentifierForm = /* @__PURE__ */_export_sfc(_sfc_main$v, [[\"__scopeId\", \"data-v-1ea7af8c\"]]);\nvar OnEventType = /* @__PURE__ */(OnEventType2 => {\n  OnEventType2[\"onLoaded\"] = \"onLoaded\";\n  OnEventType2[\"onRegisterDevice\"] = \"onRegisterDevice\";\n  OnEventType2[\"onVerifyIdentity\"] = \"onVerifyIdentity\";\n  OnEventType2[\"onMagicLinkLogin\"] = \"onMagicLinkLogin\";\n  OnEventType2[\"onMagicLinkRegister\"] = \"onMagicLinkRegister\";\n  OnEventType2[\"onMagicLinkActivated\"] = \"onMagicLinkActivated\";\n  OnEventType2[\"onMagicLinkActivateSuccess\"] = \"onMagicLinkActivateSuccess\";\n  OnEventType2[\"onOneTimePasscodeLogin\"] = \"onOneTimePasscodeLogin\";\n  OnEventType2[\"onOneTimePasscodeRegister\"] = \"onOneTimePasscodeRegister\";\n  OnEventType2[\"onOneTimePasscodeActivated\"] = \"onOneTimePasscodeActivated\";\n  OnEventType2[\"onOneTimePasscodeActivateSuccess\"] = \"onOneTimePasscodeActivateSuccess\";\n  return OnEventType2;\n})(OnEventType || {});\nconst defaultBeforeAuth = () => {\n  return true;\n};\nconst defaultOnSuccess = authResult2 => {\n  window.location.href = authResult2.redirect_url;\n};\nconst defaultOnEvent = () => {\n  return;\n};\nconst beforeAuth = ref(defaultBeforeAuth);\nconst onSuccess = ref(defaultOnSuccess);\nconst onEvent = ref(defaultOnEvent);\nfunction setBeforeAuth(newBeforeAuth) {\n  if (newBeforeAuth === void 0) {\n    beforeAuth.value = defaultBeforeAuth;\n    return;\n  }\n  beforeAuth.value = newBeforeAuth;\n}\nfunction setOnSuccess(newOnSuccess) {\n  if (newOnSuccess === void 0) {\n    onSuccess.value = defaultOnSuccess;\n    return;\n  }\n  onSuccess.value = newOnSuccess;\n}\nfunction setOnEvent(newOnEvent) {\n  if (newOnEvent === void 0) {\n    onEvent.value = defaultOnEvent;\n    return;\n  }\n  onEvent.value = newOnEvent;\n}\nfunction useCallbacks() {\n  return {\n    beforeAuth: readonly(beforeAuth),\n    onSuccess: readonly(onSuccess),\n    onEvent: readonly(onEvent),\n    setBeforeAuth,\n    setOnSuccess,\n    setOnEvent\n  };\n}\nconst storageKey = \"psg_last_login\";\nfunction getLastLogin() {\n  return localStorage.getItem(storageKey);\n}\nfunction storeLastLogin(appInfo, passage, identiferOrUserInfo) {\n  return __async(this, null, function* () {\n    if (identiferOrUserInfo && typeof identiferOrUserInfo === \"string\") {\n      localStorage.setItem(storageKey, identiferOrUserInfo);\n      return;\n    }\n    let currentInfo = identiferOrUserInfo;\n    if (identiferOrUserInfo === void 0) {\n      try {\n        currentInfo = yield passage.getCurrentUser().userInfo();\n      } catch (err) {\n        console.error(\"Failed to fetch current user, auth token likely missing or invalid\", err);\n      }\n    }\n    if (currentInfo === void 0) {\n      return;\n    }\n    let identifierToStore = \"\";\n    switch (appInfo.allowed_identifier) {\n      case ce.email:\n        identifierToStore = currentInfo.email;\n        break;\n      case ce.phone:\n        identifierToStore = currentInfo.phone;\n        break;\n      case ce.both:\n        identifierToStore = currentInfo.email ? currentInfo.email : currentInfo.phone;\n        break;\n    }\n    localStorage.setItem(storageKey, identifierToStore);\n  });\n}\nfunction createdUserEventHandler(payload, eventHandlerState) {\n  const {\n    appInfo,\n    router,\n    browserFeatures\n  } = eventHandlerState;\n  const {\n    identifier: identifier2,\n    identifierType\n  } = payload;\n  const {\n    emitEvent: emitEvent2\n  } = useAuthEvent();\n  if (!browserFeatures.securityKey || appInfo.require_identifier_verification) {\n    emitEvent2({\n      type: AuthEventType.FallbackAuth,\n      payload: {\n        identifier: identifier2,\n        identifierType,\n        identifierVerifying: appInfo.require_identifier_verification,\n        userIsRegistering: true,\n        userInitiated: false\n      }\n    });\n    return;\n  }\n  useCallbacks().onEvent.value(OnEventType.onRegisterDevice, {\n    identifier: identifier2\n  });\n  router.push(RegisterDeviceRoute, {\n    identifier: identifier2,\n    identifierType,\n    appInfo,\n    browserFeatures\n  });\n}\nfunction changeIdenfitierEventHandler(eventHandlerState) {\n  const {\n    appInfo,\n    router,\n    browserFeatures\n  } = eventHandlerState;\n  router.push(router.homeRoute, {\n    appInfo,\n    conditionalUI: browserFeatures.conditionalUI,\n    changeEmail: true\n  });\n}\nfunction isWebauthnGetMonkeypatched() {\n  const isGetNative = navigator.credentials.get.toString().includes(\"[native code]\");\n  return !isGetNative;\n}\nfunction loginUserEventHandler(payload, eventHandlerState, passage) {\n  return __async(this, null, function* () {\n    const {\n      browserFeatures,\n      appInfo,\n      router\n    } = eventHandlerState;\n    const {\n      emitEvent: emitEvent2\n    } = useAuthEvent();\n    const {\n      identifier: identifier2,\n      identifierType,\n      webauthnTypes,\n      emailVerified,\n      phoneVerified,\n      userID\n    } = payload;\n    const noFallback = appInfo.auth_fallback_method === he.None;\n    if (webauthnTypes.length === 0 && noFallback) {\n      router.push(LoginNotSupportedRoute);\n      return;\n    }\n    const userHasPasskey = webauthnTypes.includes(W.Passkey);\n    const userHasPlatform = webauthnTypes.includes(W.Platform);\n    const userHasSecurityKey = webauthnTypes.includes(W.SecurityKey);\n    const verificationRequired = userNeedsToVerify(appInfo, emailVerified, phoneVerified, identifierType);\n    const canTryPlaform = browserFeatures.platform && userHasPlatform && passage.credIDExists(userID);\n    const canTryPasskey = (browserFeatures.syncedCredential || browserFeatures.crossDeviceCredential) && userHasPasskey;\n    const canTrySecurityKey = browserFeatures.securityKey && userHasSecurityKey;\n    const tryWebauthnWithNoFallback = browserFeatures.platform && noFallback;\n    const tryNonNativeWebauthn = userHasPasskey && browserFeatures.platform && isWebauthnGetMonkeypatched();\n    const canTryWebAuthn = !verificationRequired && (canTryPasskey || canTryPlaform || canTrySecurityKey || tryWebauthnWithNoFallback || tryNonNativeWebauthn);\n    if (canTryWebAuthn) {\n      useCallbacks().onEvent.value(OnEventType.onVerifyIdentity);\n      router.push(WebauthnSignInRoute, {\n        identifier: identifier2,\n        identifierType,\n        appInfo\n      });\n    } else {\n      emitEvent2({\n        type: AuthEventType.FallbackAuth,\n        payload: {\n          identifier: identifier2,\n          identifierType,\n          userInitiated: false,\n          identifierVerifying: verificationRequired,\n          setupNewDevice: browserFeatures.platform\n        }\n      });\n    }\n  });\n}\nfunction userNeedsToVerify(appInfo, emailVerified, phoneVerified, identifierType) {\n  if (appInfo.require_identifier_verification) {\n    if (identifierType === IdentifierType.email && !emailVerified || identifierType === IdentifierType.phone && !phoneVerified) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction fallbackAuthEventHandler(payload, eventHandlerState) {\n  const {\n    authState,\n    appInfo,\n    router\n  } = eventHandlerState;\n  authState.userInitiatedFallback = payload.userInitiated;\n  switch (appInfo.auth_fallback_method) {\n    case he.LoginCode:\n      otpCallback(payload);\n      router.push(OneTimePasscodeRoute, payload);\n      break;\n    case he.MagicLink:\n      magicLinkCallback(payload);\n      router.push(MagicLinkRoute, payload);\n      break;\n    case he.None:\n      router.push(DisableFallbacksRoute);\n      break;\n  }\n}\nfunction magicLinkCallback(payload) {\n  const {\n    identifier: identifier2,\n    userIsRegistering\n  } = payload;\n  if (userIsRegistering) {\n    useCallbacks().onEvent.value(OnEventType.onMagicLinkRegister, {\n      identifier: identifier2\n    });\n  } else {\n    useCallbacks().onEvent.value(OnEventType.onMagicLinkLogin);\n  }\n}\nfunction otpCallback(payload) {\n  const {\n    identifier: identifier2,\n    userIsRegistering\n  } = payload;\n  if (userIsRegistering) {\n    useCallbacks().onEvent.value(OnEventType.onOneTimePasscodeRegister, {\n      identifier: identifier2\n    });\n  } else {\n    useCallbacks().onEvent.value(OnEventType.onOneTimePasscodeLogin);\n  }\n}\nfunction authSuccessEventHandler(payload, eventHandlerState, passage) {\n  return __async(this, null, function* () {\n    if (isStringNullish(payload.authResult.auth_token) || isStringNullish(payload.authResult.redirect_url)) {\n      return;\n    }\n    yield storeLastLogin(eventHandlerState.appInfo, passage, payload.identifier);\n    useCallbacks().onSuccess.value(payload.authResult);\n  });\n}\nfunction fallbackAuthSuccessEventHandler(payload, eventHandlerState) {\n  const {\n    webauthnAllowed,\n    authState,\n    router\n  } = eventHandlerState;\n  if (webauthnAllowed && !authState.userInitiatedFallback) {\n    router.push(AddDeviceRoute, payload);\n    return;\n  }\n  useAuthEvent().emitEvent({\n    type: AuthEventType.AuthSuccess,\n    payload\n  });\n}\nfunction isSafariVersionLessThan164() {\n  var _a;\n  const userAgent = new UAParser();\n  return ((_a = userAgent.getBrowser().name) == null ? void 0 : _a.toLowerCase().includes(\"safari\")) && parseFloat(userAgent.getBrowser().version || \"\") < 16.4;\n}\nvar AuthEventType = /* @__PURE__ */(AuthEventType2 => {\n  AuthEventType2[\"CreatedUser\"] = \"CreatedUser\";\n  AuthEventType2[\"ChangeIdentifier\"] = \"ChangeIdentifier\";\n  AuthEventType2[\"LoginUser\"] = \"LoginUser\";\n  AuthEventType2[\"FallbackAuth\"] = \"FallbackAuth\";\n  AuthEventType2[\"AuthSuccess\"] = \"AuthSuccess\";\n  AuthEventType2[\"FallbackAuthSuccess\"] = \"FallbackAuthSuccess\";\n  return AuthEventType2;\n})(AuthEventType || {});\nclass EventHandler {\n  constructor(appInfo, router, passage) {\n    this.appInfo = appInfo;\n    this.router = router;\n    this.passage = passage;\n    this.authState = {\n      userInitiatedFallback: false\n    };\n    this.authOriginValid = false;\n    this.browserFeatures = {\n      securityKey: false,\n      platform: false,\n      syncedCredential: false,\n      crossDeviceCredential: false,\n      conditionalUI: false,\n      isAvailable: false\n    };\n  }\n  initializeEventHandler() {\n    return __async(this, null, function* () {\n      this.authOriginValid = this.passage.checkWebauthnConfig(this.appInfo);\n      if (this.authOriginValid) {\n        this.browserFeatures = yield this.passage.getCredentialAvailable();\n        if (isSafariVersionLessThan164()) {\n          this.browserFeatures.conditionalUI = false;\n        }\n      }\n      if (!this.checkMagicLink()) {\n        this.router.push(this.router.homeRoute, {\n          appInfo: this.appInfo,\n          conditionalUI: this.browserFeatures.conditionalUI\n        });\n      }\n    });\n  }\n  handleEvent(event) {\n    return __async(this, null, function* () {\n      switch (event.type) {\n        case \"CreatedUser\":\n          createdUserEventHandler(event.payload, this.eventHandlerState);\n          break;\n        case \"ChangeIdentifier\":\n          changeIdenfitierEventHandler(this.eventHandlerState);\n          break;\n        case \"LoginUser\":\n          loginUserEventHandler(event.payload, this.eventHandlerState, this.passage);\n          break;\n        case \"FallbackAuth\":\n          fallbackAuthEventHandler(event.payload, this.eventHandlerState);\n          break;\n        case \"AuthSuccess\":\n          authSuccessEventHandler(event.payload, this.eventHandlerState, this.passage);\n          break;\n        case \"FallbackAuthSuccess\":\n          fallbackAuthSuccessEventHandler(event.payload, this.eventHandlerState);\n          break;\n      }\n    });\n  }\n  get eventHandlerState() {\n    return {\n      appInfo: this.appInfo,\n      webauthnAllowed: this.browserFeatures.platform,\n      router: this.router,\n      authState: this.authState,\n      browserFeatures: this.browserFeatures\n    };\n  }\n  checkMagicLink() {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    let magicLink = null;\n    if (urlParams.has(\"psg_magic_link\")) {\n      magicLink = urlParams.get(\"psg_magic_link\");\n    } else if (urlParams.has(\"psg_verify_link\")) {\n      magicLink = urlParams.get(\"psg_verify_link\");\n    }\n    if (magicLink !== null) {\n      this.router.push(ActivateMagicLinkRoute, {\n        magicLink,\n        webauthnAllowed: this.browserFeatures.platform\n      });\n      return true;\n    }\n    return false;\n  }\n}\nlet eventHandler = void 0;\nfunction initEventHandler(appInfo, router, passage) {\n  return __async(this, null, function* () {\n    eventHandler = new EventHandler(appInfo, router, passage);\n    yield eventHandler.initializeEventHandler();\n  });\n}\nfunction getEventHandler() {\n  return eventHandler;\n}\nfunction emitEvent(event) {\n  return __async(this, null, function* () {\n    return eventHandler == null ? void 0 : eventHandler.handleEvent(event);\n  });\n}\nfunction useAuthEvent() {\n  return {\n    initEventHandler,\n    getEventHandler,\n    emitEvent\n  };\n}\nconst _sfc_main$u = defineComponent({\n  __name: \"Login\",\n  props: {\n    canToggleLoginRegister: {\n      type: Boolean\n    },\n    identifier: {},\n    countryCode: {},\n    appInfo: {},\n    visible: {\n      type: Boolean\n    },\n    conditionalUI: {\n      type: Boolean\n    },\n    changeEmail: {\n      type: Boolean\n    }\n  },\n  emits: [\"update:identifier\", \"update:countryCode\"],\n  setup(__props, _ref2) {\n    let {\n      emit\n    } = _ref2;\n    const props = __props;\n    const {\n      t\n    } = useLocale();\n    const {\n      passage\n    } = usePassage();\n    const error = ref(\"\");\n    const identifierText = computed({\n      get() {\n        return props.identifier;\n      },\n      set(newIdentifier) {\n        emit(\"update:identifier\", newIdentifier);\n      }\n    });\n    const countryCodeText = computed({\n      get() {\n        return props.countryCode;\n      },\n      set(newCountryCode) {\n        emit(\"update:countryCode\", newCountryCode);\n      }\n    });\n    const inputForm = ref();\n    watch(inputForm, () => __async(this, null, function* () {\n      useCallbacks().onEvent.value(OnEventType.onLoaded);\n      triggerConditionalUI();\n    }));\n    const identifierMode = computed(() => {\n      var _a;\n      return (_a = props.appInfo.allowed_identifier) != null ? _a : ce.email;\n    });\n    function onSubmit(event) {\n      return __async(this, null, function* () {\n        const {\n          identifier: identifier2,\n          identifierExists,\n          userStatus,\n          userID,\n          identifierType,\n          emailVerified,\n          phoneVerified,\n          webauthnTypes\n        } = event;\n        const beforeAuthResult = useCallbacks().beforeAuth.value(identifier2);\n        if (!beforeAuthResult) {\n          return;\n        }\n        const errorString = checkIdentifierExistsAndStatus(identifierExists, identifierType, userStatus);\n        if (errorString !== \"\") {\n          error.value = errorString;\n          return;\n        }\n        useAuthEvent().emitEvent({\n          type: AuthEventType.LoginUser,\n          payload: {\n            identifier: identifier2,\n            identifierType,\n            userID,\n            emailVerified,\n            phoneVerified,\n            webauthnTypes\n          }\n        });\n      });\n    }\n    function checkIdentifierExistsAndStatus(identifierExists, identifierType, userStatus) {\n      if (!identifierExists) {\n        let identiferString = identifierType === IdentifierType.email ? t(\"email\") : t(\"phone\");\n        identiferString = `${identiferString.charAt(0).toUpperCase()}${identiferString.slice(1)}`;\n        let message = `${t(\"not-recognized\", [identiferString])}.`;\n        if (props.canToggleLoginRegister && props.appInfo.public_signup) {\n          message = `${message} ${t(\"toggle-register\")}`;\n        }\n        return message;\n      }\n      if (identifierExists && userStatus === re.INACTIVE) {\n        return t(\"account-no-longer-active\");\n      }\n      return \"\";\n    }\n    const showWelcomeBack = ref(false);\n    let abortController;\n    onMounted(() => {\n      const lastLogin = getLastLogin();\n      if (lastLogin && !props.changeEmail) {\n        identifierText.value = lastLogin;\n        showWelcomeBack.value = true;\n      }\n    });\n    function triggerConditionalUI() {\n      return __async(this, null, function* () {\n        if (props.conditionalUI) {\n          abortController = new AbortController();\n          passage.loginConditional(abortController.signal).then(authResult => {\n            useAuthEvent().emitEvent({\n              type: AuthEventType.AuthSuccess,\n              payload: {\n                authResult\n              }\n            });\n          }).catch(() => {});\n        }\n      });\n    }\n    function cancelConditionalUI() {\n      abortController == null ? void 0 : abortController.abort();\n    }\n    onBeforeUnmount(() => {\n      cancelConditionalUI();\n    });\n    watch(() => props.visible, () => {\n      if (showWelcomeBack.value === true) {\n        identifierText.value = \"\";\n      }\n      showWelcomeBack.value = false;\n      if (props.visible) {\n        triggerConditionalUI();\n      } else {\n        cancelConditionalUI();\n      }\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(ValidatedIdentifierForm, {\n        identifierMode: identifierMode.value,\n        conditionalUI: _ctx.conditionalUI,\n        showWelcomeBack: showWelcomeBack.value,\n        \"onUpdate:showWelcomeBack\": _cache[0] || (_cache[0] = $event => showWelcomeBack.value = $event),\n        identifier: identifierText.value,\n        \"onUpdate:identifier\": _cache[1] || (_cache[1] = $event => identifierText.value = $event),\n        validationError: error.value,\n        \"onUpdate:validationError\": _cache[2] || (_cache[2] = $event => error.value = $event),\n        countryCode: countryCodeText.value,\n        \"onUpdate:countryCode\": _cache[3] || (_cache[3] = $event => countryCodeText.value = $event),\n        onOnSubmit: _cache[4] || (_cache[4] = $event => onSubmit($event)),\n        ref_key: \"inputForm\",\n        ref: inputForm\n      }, {\n        loginInput: withCtx(() => [renderSlot(_ctx.$slots, \"loginInput\")]),\n        _: 3\n      }, 8, [\"identifierMode\", \"conditionalUI\", \"showWelcomeBack\", \"identifier\", \"validationError\", \"countryCode\"]);\n    };\n  }\n});\nconst _hoisted_1$q = {\n  key: 0,\n  class: \"notification is-danger has-text-centered\",\n  \"data-test\": \"invalid-app-id\"\n};\nconst _sfc_main$t = defineComponent({\n  __name: \"Register\",\n  props: {\n    canToggleLoginRegister: {\n      type: Boolean\n    },\n    identifier: {},\n    countryCode: {},\n    appInfo: {}\n  },\n  emits: [\"update:identifier\", \"update:countryCode\", \"authEvent\"],\n  setup(__props, _ref3) {\n    let {\n      emit\n    } = _ref3;\n    const props = __props;\n    const {\n      t\n    } = useLocale();\n    const {\n      passage\n    } = usePassage();\n    const {\n      emitEvent: emitEvent2\n    } = useAuthEvent();\n    const error = ref(\"\");\n    const identifierText = computed({\n      get() {\n        return props.identifier;\n      },\n      set(newIdentifier) {\n        emit(\"update:identifier\", newIdentifier);\n      }\n    });\n    const countryCodeText = computed({\n      get() {\n        return props.countryCode;\n      },\n      set(newCountryCode) {\n        emit(\"update:countryCode\", newCountryCode);\n      }\n    });\n    const publicSignup = computed(() => {\n      return props.appInfo.public_signup;\n    });\n    const identifierMode = computed(() => {\n      return props.appInfo.allowed_identifier;\n    });\n    function onSubmit(event) {\n      return __async(this, null, function* () {\n        const {\n          identifier: identifier2,\n          identifierExists,\n          userStatus,\n          identifierType\n        } = event;\n        const beforeAuthResult = useCallbacks().beforeAuth.value(identifier2);\n        if (!beforeAuthResult) {\n          return;\n        }\n        let validMetadata = true;\n        if (metadataComponent.value) {\n          validMetadata = metadataComponent.value.validate();\n        }\n        if (identifierExists) {\n          if (userStatus === re.ACTIVE) {\n            let message = t(\"account-already-exists\", [identifierType === IdentifierType.email ? t(\"email\") : t(\"phone-number\")]);\n            if (props.canToggleLoginRegister) {\n              message = message + \" \" + t(\"toggle-login\");\n            }\n            error.value = message;\n            return;\n          } else if (userStatus === re.INACTIVE) {\n            error.value = t(\"account-no-longer-active\");\n            return;\n          }\n        }\n        if (!validMetadata) {\n          return;\n        }\n        try {\n          yield passage.createUser({\n            identifier: identifier2,\n            user_metadata: transformMetadata(metadata.value, props.appInfo.user_metadata_schema, true)\n          });\n        } catch (err) {\n          if (err instanceof h && err.message.startsWith(\"Public signup\")) {\n            error.value = err.message;\n          } else {\n            error.value = t(\"unexpected-error\");\n          }\n          return;\n        }\n        emitEvent2({\n          type: AuthEventType.CreatedUser,\n          payload: {\n            identifier: identifier2,\n            identifierType\n          }\n        });\n      });\n    }\n    const metadata = ref({});\n    const metadataComponent = ref();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", null, [createVNode(ValidatedIdentifierForm, {\n        identifierMode: identifierMode.value,\n        identifier: identifierText.value,\n        \"onUpdate:identifier\": _cache[0] || (_cache[0] = $event => identifierText.value = $event),\n        validationError: error.value,\n        \"onUpdate:validationError\": _cache[1] || (_cache[1] = $event => error.value = $event),\n        countryCode: countryCodeText.value,\n        \"onUpdate:countryCode\": _cache[2] || (_cache[2] = $event => countryCodeText.value = $event),\n        onOnSubmit: _cache[3] || (_cache[3] = $event => onSubmit($event))\n      }, {\n        metadataFields: withCtx(() => [_ctx.appInfo && _ctx.appInfo.layouts.registration.length > 0 ? (openBlock(), createBlock(UserMetadata, {\n          key: 0,\n          isEditing: true,\n          appInfo: _ctx.appInfo,\n          layoutType: unref(LayoutType).Registration,\n          userMetadata: metadata.value,\n          ref_key: \"metadataComponent\",\n          ref: metadataComponent\n        }, null, 8, [\"appInfo\", \"layoutType\", \"userMetadata\"])) : createCommentVNode(\"\", true)]),\n        _: 1\n      }, 8, [\"identifierMode\", \"identifier\", \"validationError\", \"countryCode\"]), !publicSignup.value ? (openBlock(), createElementBlock(\"div\", _hoisted_1$q, toDisplayString(unref(t)(\"public-registration-not-allowed\")), 1)) : createCommentVNode(\"\", true)]);\n    };\n  }\n});\nconst _hoisted_1$p = {\n  key: 0,\n  class: \"link has-text-centered\"\n};\nconst _hoisted_2$h = {\n  class: \"passage-branding\"\n};\nconst _hoisted_3$f = {\n  href: \"https://passage.1password.com/\",\n  target: \"_new_tab\"\n};\nconst _sfc_main$s = defineComponent({\n  __name: \"PassageBranding\",\n  props: {\n    appInfo: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return _ctx.appInfo.passage_branding ? (openBlock(), createElementBlock(\"div\", _hoisted_1$p, [createBaseVNode(\"div\", _hoisted_2$h, [createBaseVNode(\"a\", _hoisted_3$f, [createVNode(unref(InlineSvg), {\n        src: unref(Icons).poweredByPassage,\n        alt: \"Powered by Passage Icon\"\n      }, null, 8, [\"src\"])])])])) : createCommentVNode(\"\", true);\n    };\n  }\n});\nconst _hoisted_1$o = {\n  class: \"view-email-input\"\n};\nconst _hoisted_2$g = {\n  class: \"auth-flex-container\"\n};\nconst _hoisted_3$e = {\n  class: \"title main-title has-text-centered\"\n};\nconst _hoisted_4$d = /* @__PURE__ */createBaseVNode(\"div\", {\n  style: {\n    \"height\": \"20px\"\n  }\n}, null, -1);\nconst _hoisted_5$c = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"spacer\"\n}, null, -1);\nconst _hoisted_6$a = {\n  class: \"link has-text-centered\"\n};\nconst _hoisted_7$a = {\n  key: 0\n};\nconst _hoisted_8$8 = [\"onClick\"];\nconst _hoisted_9$8 = {\n  key: 1\n};\nconst _hoisted_10$5 = [\"onClick\"];\nconst _sfc_main$r = defineComponent({\n  __name: \"AuthView\",\n  props: {\n    register: {\n      type: Boolean\n    },\n    appInfo: {},\n    conditionalUI: {\n      type: Boolean\n    },\n    changeEmail: {\n      type: Boolean\n    }\n  },\n  setup(__props) {\n    const props = __props;\n    const {\n      t\n    } = useLocale();\n    const showLogin = ref(!props.register);\n    const identifier2 = ref(\"\");\n    const {\n      defaultCountryCode\n    } = useDefaultCountryCode();\n    const countryCode = defaultCountryCode;\n    const publicSignup = computed(() => {\n      return props.appInfo.public_signup;\n    });\n    function changeInputPage() {\n      showLogin.value = !showLogin.value;\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$o, [createBaseVNode(\"div\", _hoisted_2$g, [createBaseVNode(\"div\", _hoisted_3$e, toDisplayString(showLogin.value ? unref(t)(\"login-title\") : unref(t)(\"register-title\")), 1), _hoisted_4$d, withDirectives(createVNode(_sfc_main$u, {\n        identifier: identifier2.value,\n        \"onUpdate:identifier\": _cache[0] || (_cache[0] = $event => identifier2.value = $event),\n        canToggleLoginRegister: true,\n        countryCode: unref(countryCode),\n        \"onUpdate:countryCode\": _cache[1] || (_cache[1] = $event => isRef(countryCode) ? countryCode.value = $event : null),\n        appInfo: _ctx.appInfo,\n        visible: showLogin.value,\n        conditionalUI: _ctx.conditionalUI,\n        changeEmail: _ctx.changeEmail\n      }, {\n        loginInput: withCtx(() => [renderSlot(_ctx.$slots, \"loginInput\")]),\n        _: 3\n      }, 8, [\"identifier\", \"countryCode\", \"appInfo\", \"visible\", \"conditionalUI\", \"changeEmail\"]), [[vShow, showLogin.value]]), withDirectives(createVNode(_sfc_main$t, {\n        identifier: identifier2.value,\n        \"onUpdate:identifier\": _cache[2] || (_cache[2] = $event => identifier2.value = $event),\n        canToggleLoginRegister: true,\n        countryCode: unref(countryCode),\n        \"onUpdate:countryCode\": _cache[3] || (_cache[3] = $event => isRef(countryCode) ? countryCode.value = $event : null),\n        appInfo: _ctx.appInfo\n      }, null, 8, [\"identifier\", \"countryCode\", \"appInfo\"]), [[vShow, !showLogin.value]]), _hoisted_5$c, createBaseVNode(\"div\", _hoisted_6$a, [showLogin.value && publicSignup.value ? (openBlock(), createElementBlock(\"div\", _hoisted_7$a, [createTextVNode(toDisplayString(unref(t)(\"dont-have-an-account\")) + \" \", 1), createBaseVNode(\"a\", {\n        onClick: withModifiers(changeInputPage, [\"prevent\"]),\n        role: \"button\",\n        class: \"body-link\",\n        \"data-test\": \"register-link\"\n      }, toDisplayString(unref(t)(\"register-here\")), 9, _hoisted_8$8)])) : !showLogin.value ? (openBlock(), createElementBlock(\"div\", _hoisted_9$8, [createTextVNode(toDisplayString(unref(t)(\"already-have-an-account\")) + \" \", 1), createBaseVNode(\"a\", {\n        onClick: withModifiers(changeInputPage, [\"prevent\"]),\n        role: \"button\",\n        class: \"body-link\",\n        \"data-test\": \"login-link\"\n      }, toDisplayString(unref(t)(\"login-here\")), 9, _hoisted_10$5)])) : createCommentVNode(\"\", true)])]), createVNode(_sfc_main$s, {\n        \"app-info\": _ctx.appInfo\n      }, null, 8, [\"app-info\"])]);\n    };\n  }\n});\nfunction useUIState() {\n  const showFailure = ref(false);\n  const showSuccess = ref(false);\n  const loading = ref(false);\n  const pageLoading = ref(true);\n  const {\n    t\n  } = useLocale();\n  const title = computed(() => {\n    if (showSuccess.value) {\n      return t(\"success\");\n    }\n    if (showFailure.value) {\n      return t(\"something-went-wrong\");\n    }\n    return t(\"log-in-with-a-passkey\");\n  });\n  const uiSuccess = () => {\n    showSuccess.value = true;\n    showFailure.value = false;\n    loading.value = false;\n  };\n  const uiError = () => {\n    showSuccess.value = false;\n    showFailure.value = true;\n    loading.value = false;\n  };\n  const uiLoading = () => {\n    showSuccess.value = false;\n    showFailure.value = false;\n    loading.value = true;\n  };\n  return {\n    showFailure,\n    showSuccess,\n    loading,\n    pageLoading,\n    title,\n    uiSuccess,\n    uiError,\n    uiLoading\n  };\n}\nvar MagicLinkActionEnum = /* @__PURE__ */(MagicLinkActionEnum2 => {\n  MagicLinkActionEnum2[\"LOGIN\"] = \"psg_magic_link\";\n  MagicLinkActionEnum2[\"VERIFY\"] = \"psg_verify_link\";\n  return MagicLinkActionEnum2;\n})(MagicLinkActionEnum || {});\nconst useMagicLinkUtils = magicLink => {\n  const magicLinkAction = ref();\n  const invalidMagicLink = ref(false);\n  const isMagicLinkValid = () => {\n    const searchParams = new URLSearchParams(window.location.href.split(\"?\")[1]);\n    if (searchParams.has(\"psg_magic_link\")) {\n      magicLinkAction.value = \"psg_magic_link\";\n    } else if (searchParams.has(\"psg_verify_link\")) {\n      magicLinkAction.value = \"psg_verify_link\";\n    }\n    if (!magicLinkAction.value || !magicLink) {\n      invalidMagicLink.value = true;\n    }\n    return !invalidMagicLink.value;\n  };\n  return {\n    magicLinkAction,\n    invalidMagicLink,\n    isMagicLinkValid\n  };\n};\nconst useMagicLinkActivation = _ref4 => {\n  let {\n    magicLink,\n    uiState,\n    magicLinkUtils,\n    passage\n  } = _ref4;\n  const authResult2 = ref(null);\n  const onBeforeActivate = () => {\n    uiState.uiLoading();\n    authResult2.value = {\n      auth_token: \"\",\n      redirect_url: \"\"\n    };\n  };\n  const onActivateError = () => {\n    uiState.uiError();\n  };\n  const onActivateErrorInvalidMagicLink = () => {\n    magicLinkUtils.invalidMagicLink.value = true;\n    uiState.uiError();\n  };\n  const onActivateSuccess = _0 => __async(void 0, [_0], function (_ref5) {\n    let {\n      webauthnAllowed,\n      magicLinkAction,\n      result\n    } = _ref5;\n    return function* () {\n      authResult2.value = result;\n      if (!webauthnAllowed || magicLinkAction === MagicLinkActionEnum.VERIFY) {\n        uiState.uiSuccess();\n        yield new Promise(resolve => {\n          setTimeout(resolve, 2e3);\n        });\n      }\n      if (authResult2.value.redirect_url) {\n        useAuthEvent().emitEvent({\n          type: magicLinkAction === MagicLinkActionEnum.VERIFY ? AuthEventType.AuthSuccess : AuthEventType.FallbackAuthSuccess,\n          payload: {\n            authResult: result\n          }\n        });\n      }\n    }();\n  });\n  const activateWithoutBiometrics = (webauthnAllowed, magicLinkAction) => __async(void 0, null, function* () {\n    onBeforeActivate();\n    try {\n      const result = yield passage.magicLinkActivate(magicLink);\n      onActivateSuccess({\n        webauthnAllowed,\n        magicLinkAction,\n        result\n      });\n    } catch (err) {\n      if (err.statusCode === P.NotFound) {\n        onActivateErrorInvalidMagicLink();\n      } else {\n        onActivateError();\n      }\n    }\n  });\n  return {\n    authResult: authResult2,\n    onBeforeActivate,\n    onActivateError,\n    onActivateErrorInvalidMagicLink,\n    onActivateSuccess,\n    activateWithoutBiometrics\n  };\n};\nconst _hoisted_1$n = {\n  class: \"auth-flex-container\"\n};\nconst _hoisted_2$f = {\n  class: \"image has-text-centered\"\n};\nconst _hoisted_3$d = {\n  class: \"content has-text-centered\",\n  \"data-test\": \"activate-magic-link-message\"\n};\nconst _hoisted_4$c = {\n  key: 0\n};\nconst _hoisted_5$b = {\n  key: 1\n};\nconst _hoisted_6$9 = {\n  key: 2\n};\nconst _hoisted_7$9 = {\n  key: 3\n};\nconst _hoisted_8$7 = {\n  key: 4\n};\nconst _hoisted_9$7 = {\n  key: 0,\n  class: \"flex-row flex-center\",\n  style: {\n    \"padding\": \"20px 0px\"\n  }\n};\nconst _hoisted_10$4 = [\"onClick\", \"disabled\"];\nconst _hoisted_11$4 = {\n  key: 0\n};\nconst _hoisted_12$4 = {\n  key: 1\n};\nconst _hoisted_13$4 = {\n  key: 2\n};\nconst _sfc_main$q = defineComponent({\n  __name: \"ActivateMagicLink\",\n  props: {\n    magicLink: {},\n    webauthnAllowed: {\n      type: Boolean\n    }\n  },\n  setup(__props) {\n    const props = __props;\n    const {\n      t\n    } = useLocale();\n    const {\n      passage\n    } = usePassage();\n    const uiState = useUIState();\n    const {\n      showFailure,\n      showSuccess,\n      loading,\n      pageLoading,\n      title\n    } = uiState;\n    const magicLinkUtils = useMagicLinkUtils(props.magicLink);\n    const {\n      isMagicLinkValid,\n      invalidMagicLink,\n      magicLinkAction\n    } = magicLinkUtils;\n    const activation = useMagicLinkActivation({\n      uiState,\n      magicLinkUtils,\n      passage,\n      magicLink: props.magicLink\n    });\n    function onButtonClick() {\n      if (invalidMagicLink.value) {\n        window.location.href = window.location.href.split(\"?\")[0];\n      } else {\n        activation.activateWithoutBiometrics(props.webauthnAllowed, magicLinkAction.value);\n      }\n    }\n    onMounted(() => __async(this, null, function* () {\n      if (isMagicLinkValid()) {\n        yield activation.activateWithoutBiometrics(props.webauthnAllowed, magicLinkAction.value);\n        useCallbacks().onEvent.value(OnEventType.onMagicLinkActivateSuccess);\n      } else {\n        uiState.uiError();\n      }\n      pageLoading.value = false;\n    }));\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Transition, {\n        name: \"fade\",\n        mode: \"out-in\",\n        appear: \"\"\n      }, {\n        default: withCtx(() => [withDirectives(createBaseVNode(\"div\", _hoisted_1$n, [createBaseVNode(\"div\", {\n          class: normalizeClass([\"title has-text-centered\", [unref(showSuccess) ? \"main-title\" : \"secondary-title\"]])\n        }, toDisplayString(unref(showFailure) ? unref(invalidMagicLink) ? unref(t)(\"invalid-link\") : unref(t)(\"device-login-failed-title\") : unref(title)), 3), createBaseVNode(\"figure\", _hoisted_2$f, [unref(showSuccess) ? (openBlock(), createBlock(unref(InlineSvg), {\n          key: 0,\n          src: unref(Icons).success,\n          alt: \"Magic link success\"\n        }, null, 8, [\"src\"])) : unref(showFailure) ? (openBlock(), createBlock(unref(InlineSvg), {\n          key: 1,\n          src: unref(Icons).failure,\n          alt: \"Magic link failure\"\n        }, null, 8, [\"src\"])) : createCommentVNode(\"\", true)]), createBaseVNode(\"div\", _hoisted_3$d, [unref(showSuccess) && unref(magicLinkAction) === unref(MagicLinkActionEnum).LOGIN ? (openBlock(), createElementBlock(\"div\", _hoisted_4$c, toDisplayString(unref(t)(\"successfully-logged-in-redirect\")), 1)) : unref(showSuccess) && unref(magicLinkAction) === unref(MagicLinkActionEnum).VERIFY ? (openBlock(), createElementBlock(\"div\", _hoisted_5$b, toDisplayString(unref(t)(\"successfully-changed-email\")), 1)) : unref(showFailure) && unref(invalidMagicLink) && unref(magicLinkAction) === unref(MagicLinkActionEnum).VERIFY ? (openBlock(), createElementBlock(\"div\", _hoisted_6$9, toDisplayString(unref(t)(\"link-invalid\")), 1)) : unref(showFailure) && unref(invalidMagicLink) ? (openBlock(), createElementBlock(\"div\", _hoisted_7$9, toDisplayString(unref(t)(\"login-link-invalid\")), 1)) : unref(showFailure) && unref(magicLinkAction) === unref(MagicLinkActionEnum).VERIFY ? (openBlock(), createElementBlock(\"div\", _hoisted_8$7, toDisplayString(unref(t)(\"verification-failed-please-try-again\")), 1)) : createCommentVNode(\"\", true)]), unref(showFailure) || unref(showSuccess) ? (openBlock(), createElementBlock(\"div\", _hoisted_9$7, [createBaseVNode(\"button\", {\n          onClick: withModifiers(onButtonClick, [\"prevent\"]),\n          type: \"button\",\n          class: normalizeClass([\"button is-primary\", {\n            \"is-loading\": unref(loading)\n          }]),\n          part: \"button\",\n          disabled: unref(loading),\n          \"data-test\": \"activate-magic-link-button\"\n        }, [unref(showFailure) && unref(invalidMagicLink) ? (openBlock(), createElementBlock(\"span\", _hoisted_11$4, toDisplayString(unref(t)(\"request-new-link\")), 1)) : unref(showFailure) ? (openBlock(), createElementBlock(\"span\", _hoisted_12$4, toDisplayString(unref(t)(\"try-again\")), 1)) : unref(showSuccess) ? (openBlock(), createElementBlock(\"span\", _hoisted_13$4, toDisplayString(unref(t)(\"redirect-now\")), 1)) : createCommentVNode(\"\", true)], 10, _hoisted_10$4)])) : createCommentVNode(\"\", true)], 512), [[vShow, !unref(pageLoading)]])]),\n        _: 1\n      });\n    };\n  }\n});\nconst _hoisted_1$m = {\n  class: \"view-verify-token\"\n};\nconst _sfc_main$p = defineComponent({\n  __name: \"ActivateMagicLinkView\",\n  props: {\n    magicLink: {},\n    webauthnAllowed: {\n      type: Boolean\n    }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$m, [createVNode(_sfc_main$q, {\n        magicLink: _ctx.magicLink,\n        webauthnAllowed: _ctx.webauthnAllowed\n      }, null, 8, [\"magicLink\", \"webauthnAllowed\"])]);\n    };\n  }\n});\nconst _hoisted_1$l = {\n  class: \"view-email-input\"\n};\nconst _sfc_main$o = defineComponent({\n  __name: \"LoginView\",\n  props: {\n    register: {\n      type: Boolean\n    },\n    appInfo: {},\n    conditionalUI: {\n      type: Boolean\n    },\n    changeEmail: {\n      type: Boolean\n    }\n  },\n  setup(__props) {\n    const identifier2 = ref(\"\");\n    const {\n      defaultCountryCode\n    } = useDefaultCountryCode();\n    const countryCode = defaultCountryCode;\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$l, [createVNode(_sfc_main$u, {\n        identifier: identifier2.value,\n        \"onUpdate:identifier\": _cache[0] || (_cache[0] = $event => identifier2.value = $event),\n        countryCode: unref(countryCode),\n        \"onUpdate:countryCode\": _cache[1] || (_cache[1] = $event => isRef(countryCode) ? countryCode.value = $event : null),\n        canToggleLoginRegister: false,\n        appInfo: _ctx.appInfo,\n        conditionalUI: _ctx.conditionalUI,\n        changeEmail: _ctx.changeEmail\n      }, {\n        loginInput: withCtx(() => [renderSlot(_ctx.$slots, \"loginInput\")]),\n        _: 3\n      }, 8, [\"identifier\", \"countryCode\", \"appInfo\", \"conditionalUI\", \"changeEmail\"]), createVNode(_sfc_main$s, {\n        \"app-info\": _ctx.appInfo\n      }, null, 8, [\"app-info\"])]);\n    };\n  }\n});\nconst _hoisted_1$k = {\n  class: \"view-email-input\"\n};\nconst _sfc_main$n = defineComponent({\n  __name: \"RegisterView\",\n  props: {\n    register: {\n      type: Boolean\n    },\n    appInfo: {}\n  },\n  setup(__props) {\n    const identifier2 = ref(\"\");\n    const {\n      defaultCountryCode\n    } = useDefaultCountryCode();\n    const countryCode = defaultCountryCode;\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$k, [createVNode(_sfc_main$t, {\n        identifier: identifier2.value,\n        \"onUpdate:identifier\": _cache[0] || (_cache[0] = $event => identifier2.value = $event),\n        countryCode: unref(countryCode),\n        \"onUpdate:countryCode\": _cache[1] || (_cache[1] = $event => isRef(countryCode) ? countryCode.value = $event : null),\n        canToggleLoginRegister: false,\n        appInfo: _ctx.appInfo\n      }, null, 8, [\"identifier\", \"countryCode\", \"appInfo\"]), createVNode(_sfc_main$s, {\n        \"app-info\": _ctx.appInfo\n      }, null, 8, [\"app-info\"])]);\n    };\n  }\n});\nconst _sfc_main$m = defineComponent({\n  name: \"Spinner\"\n});\nconst _hoisted_1$j = {\n  class: \"spinner-box\"\n};\nconst _hoisted_2$e = {\n  class: \"spinner-content\"\n};\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$j, [createBaseVNode(\"div\", _hoisted_2$e, [renderSlot(_ctx.$slots, \"default\")])]);\n}\nvar Spinner = /* @__PURE__ */_export_sfc(_sfc_main$m, [[\"render\", _sfc_render]]);\nconst _hoisted_1$i = {\n  class: \"auth-flex-container\"\n};\nconst _hoisted_2$d = {\n  class: \"title has-text-centered\"\n};\nconst _hoisted_3$c = {\n  key: 0,\n  class: \"content has-text-centered\",\n  style: {\n    \"margin-bottom\": \"15px !important\"\n  }\n};\nconst _hoisted_4$b = [\"innerHTML\"];\nconst _hoisted_5$a = {\n  class: \"flex-row flex-center\"\n};\nconst _hoisted_6$8 = [\"onClick\", \"disabled\"];\nconst _hoisted_7$8 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"spacer\"\n}, null, -1);\nconst _hoisted_8$6 = {\n  class: \"link has-text-centered\"\n};\nconst _hoisted_9$6 = [\"onClick\"];\nconst _sfc_main$l = defineComponent({\n  __name: \"MagicLink\",\n  props: {\n    identifier: {},\n    userIsRegistering: {\n      type: Boolean\n    },\n    identifierVerifying: {\n      type: Boolean\n    },\n    setupNewDevice: {\n      type: Boolean\n    },\n    identifierType: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const {\n      t,\n      locale\n    } = useLocale();\n    const {\n      passage\n    } = usePassage();\n    const {\n      emitEvent: emitEvent2\n    } = useAuthEvent();\n    const isEmail = computed(() => {\n      return props.identifierType === IdentifierType.email;\n    });\n    const title = computed(() => {\n      if (props.identifierVerifying) {\n        if (isEmail.value) {\n          if (props.userIsRegistering) {\n            return t(\"verify-email-to-register\");\n          } else {\n            return t(\"verify-email-to-login\");\n          }\n        } else {\n          if (props.userIsRegistering) {\n            return t(\"verify-phone-to-register\");\n          } else {\n            return t(\"verify-phone-to-login\");\n          }\n        }\n      } else {\n        if (isEmail.value) {\n          if (props.userIsRegistering) {\n            return t(\"check-email-to-register\");\n          } else {\n            return t(\"check-email-to-login\");\n          }\n        } else {\n          if (props.userIsRegistering) {\n            return t(\"check-phone-to-register\");\n          } else {\n            return t(\"check-phone-to-login\");\n          }\n        }\n      }\n    });\n    const message = computed(() => {\n      let messageValue = \"\";\n      const messageType = props.identifierType === IdentifierType.email ? t(\"messagetype-email\") : t(\"messagetype-sms\");\n      const messageMedium = props.identifierType === IdentifierType.email ? t(\"email\") : t(\"phone-number\");\n      const registrationType = props.userIsRegistering ? t(\"registration\") : t(\"login\");\n      const loginMessage = props.identifierVerifying ? t(\"please-verify-identifier\", [messageMedium, registrationType]) : t(\"you-will-be-automatically-signed-in\");\n      messageValue = t(\"weve-sent-messagetype\", [messageType, props.identifier, loginMessage]);\n      if (props.setupNewDevice && !props.userIsRegistering) {\n        messageValue = t(\"we-dont-recognize-this-device\") + \" \" + messageValue;\n      }\n      return messageValue;\n    });\n    onMounted(() => {\n      if (props.userIsRegistering) {\n        magicLinkSendRegister();\n      } else {\n        magicLinkSendLogin();\n      }\n    });\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"magic_link_id\");\n      localStorage.removeItem(\"wait_count\");\n      waitForActivatedMagicLink(721);\n      emitEvent2({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    }\n    function resendMagicLink() {\n      return __async(this, null, function* () {\n        yield magicLinkSendLogin();\n      });\n    }\n    const showWaiting = ref(false);\n    const loading = ref(true);\n    function magicLinkSendRegister() {\n      return __async(this, null, function* () {\n        showWaiting.value = false;\n        loading.value = true;\n        yield new Promise(resolve => {\n          setTimeout(resolve, 2e3);\n        });\n        try {\n          const res = yield passage.newRegisterMagicLink(props.identifier, locale.value.split(\"-\")[0]);\n          if (res.id != \"\") {\n            localStorage.setItem(\"magic_link_id\", res.id);\n            waitForActivatedMagicLink(0);\n          }\n        } catch (err) {\n          console.log(\"magicLinkSend error\", err);\n        } finally {\n          loading.value = false;\n        }\n      });\n    }\n    function magicLinkSendLogin() {\n      return __async(this, null, function* () {\n        showWaiting.value = false;\n        loading.value = true;\n        try {\n          const res = yield passage.newLoginMagicLink(props.identifier, locale.value.split(\"-\")[0]);\n          if (res.id != \"\") {\n            localStorage.setItem(\"magic_link_id\", res.id);\n            waitForActivatedMagicLink(0);\n          }\n        } catch (err) {\n          console.log(\"magicLinkSend error\", err);\n        } finally {\n          yield new Promise(resolve => {\n            setTimeout(resolve, 3e3);\n          });\n          loading.value = false;\n        }\n      });\n    }\n    let authResult = void 0;\n    function lookupMagicLink() {\n      return __async(this, null, function* () {\n        const id = localStorage.getItem(\"magic_link_id\");\n        yield lookupMagicLinkActivated(id).then(() => __async(this, null, function* () {\n          if (authResult && authResult.redirect_url != \"\") {\n            localStorage.removeItem(\"magic_link_id\");\n            localStorage.removeItem(\"wait_count\");\n            useCallbacks().onEvent.value(OnEventType.onMagicLinkActivated);\n            emitEvent2({\n              type: AuthEventType.FallbackAuthSuccess,\n              payload: {\n                identifier: props.identifier,\n                authResult\n              }\n            });\n          }\n        }));\n      });\n    }\n    function lookupMagicLinkActivated(id) {\n      return __async(this, null, function* () {\n        yield passage.getMagicLinkStatus(id).then(res => {\n          waitForActivatedMagicLink(721);\n          authResult = res;\n        }).catch(() => {});\n        return;\n      });\n    }\n    let timer;\n    function waitForActivatedMagicLink(count) {\n      let i = count;\n      if (i < 720) {\n        showWaiting.value = true;\n        timer = setTimeout(() => __async(this, null, function* () {\n          delay(i);\n          i++;\n          waitForActivatedMagicLink(i);\n        }), 5e3);\n      } else {\n        clearTimeout(timer);\n        showWaiting.value = false;\n        return;\n      }\n    }\n    function delay(i) {\n      lookupMagicLink();\n      localStorage.setItem(\"wait_count\", i.toString());\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$i, [createBaseVNode(\"div\", _hoisted_2$d, [createBaseVNode(\"span\", null, toDisplayString(title.value), 1)]), createVNode(Spinner, null, {\n        default: withCtx(() => [isEmail.value ? (openBlock(), createBlock(unref(InlineSvg), {\n          key: 0,\n          src: unref(Icons).email,\n          alt: \"Email envelope\"\n        }, null, 8, [\"src\"])) : (openBlock(), createBlock(unref(InlineSvg), {\n          key: 1,\n          src: unref(Icons).phone,\n          alt: \"Message bubbles\"\n        }, null, 8, [\"src\"]))]),\n        _: 1\n      }), message.value ? (openBlock(), createElementBlock(\"div\", _hoisted_3$c, [createBaseVNode(\"span\", {\n        innerHTML: message.value\n      }, null, 8, _hoisted_4$b)])) : createCommentVNode(\"\", true), createBaseVNode(\"div\", _hoisted_5$a, [createBaseVNode(\"button\", {\n        onClick: withModifiers(resendMagicLink, [\"prevent\"]),\n        type: \"button\",\n        class: \"button is-primary\",\n        part: \"button\",\n        disabled: loading.value\n      }, toDisplayString(unref(t)(\"resend-isemail-email-message\", [isEmail.value ? unref(t)(\"email\") : unref(t)(\"message\")])), 9, _hoisted_6$8)]), _hoisted_7$8, createBaseVNode(\"div\", _hoisted_8$6, [createBaseVNode(\"a\", {\n        onClick: withModifiers(changeEmail, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"change-email-button\"\n      }, toDisplayString(unref(t)(\"change-isemail-email-phone\", [isEmail.value ? unref(t)(\"email\") : unref(t)(\"phone\")])), 9, _hoisted_9$6)])]);\n    };\n  }\n});\nconst _hoisted_1$h = {\n  class: \"view-access-token\"\n};\nconst _sfc_main$k = defineComponent({\n  __name: \"MagicLinkView\",\n  props: {\n    identifier: {},\n    userIsRegistering: {\n      type: Boolean\n    },\n    identifierVerifying: {\n      type: Boolean\n    },\n    setupNewDevice: {\n      type: Boolean\n    },\n    identifierType: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$h, [createVNode(_sfc_main$l, {\n        identifier: _ctx.identifier,\n        userIsRegistering: _ctx.userIsRegistering,\n        identifierVerifying: _ctx.identifierVerifying,\n        setupNewDevice: _ctx.setupNewDevice,\n        identifierType: _ctx.identifierType\n      }, null, 8, [\"identifier\", \"userIsRegistering\", \"identifierVerifying\", \"setupNewDevice\", \"identifierType\"])]);\n    };\n  }\n});\nconst _hoisted_1$g = {\n  class: \"passage-learnmore-modal\"\n};\nconst _hoisted_2$c = {\n  class: \"passage-learnmore-top\"\n};\nconst _hoisted_3$b = {\n  class: \"passage-learnmore-close-button\"\n};\nconst _hoisted_4$a = {\n  class: \"passage-learnmore-content\"\n};\nconst _hoisted_5$9 = {\n  style: {\n    \"margin-bottom\": \"32px\"\n  }\n};\nconst _sfc_main$j = defineComponent({\n  __name: \"LearnMoreLayout\",\n  setup(__props) {\n    const {\n      t\n    } = useLocale();\n    const showModal = ref(false);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [showModal.value ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: \"passage-learnmore\",\n        onClick: _cache[1] || (_cache[1] = $event => showModal.value = false)\n      }, [createBaseVNode(\"div\", _hoisted_1$g, [createBaseVNode(\"div\", _hoisted_2$c, [createBaseVNode(\"div\", {\n        style: {\n          \"cursor\": \"pointer\"\n        },\n        onClick: _cache[0] || (_cache[0] = $event => showModal.value = false)\n      }, [createBaseVNode(\"span\", _hoisted_3$b, toDisplayString(unref(t)(\"close\")), 1), createVNode(unref(InlineSvg), {\n        src: unref(Icons).close\n      }, null, 8, [\"src\"])])]), createBaseVNode(\"div\", _hoisted_4$a, [renderSlot(_ctx.$slots, \"body\")])])])) : createCommentVNode(\"\", true), createBaseVNode(\"div\", null, [createBaseVNode(\"div\", _hoisted_5$9, [createBaseVNode(\"span\", null, [renderSlot(_ctx.$slots, \"cta\"), createTextVNode(\" \\xA0 \")]), createBaseVNode(\"a\", {\n        style: {\n          \"text-decoration\": \"underline\"\n        },\n        onClick: _cache[2] || (_cache[2] = $event => showModal.value = true),\n        role: \"button\"\n      }, toDisplayString(unref(t)(\"learn-more\")), 1), createTextVNode(\" \\u2192 \")])])], 64);\n    };\n  }\n});\nconst _hoisted_1$f = {\n  style: {\n    \"margin-bottom\": \"12px\"\n  }\n};\nconst _hoisted_2$b = {\n  class: \"passage-learnmore-header\"\n};\nconst _hoisted_3$a = {\n  class: \"passage-learnmore-body\"\n};\nconst _hoisted_4$9 = {\n  class: \"passage-learnmore-header\"\n};\nconst _hoisted_5$8 = {\n  class: \"passage-learnmore-body\"\n};\nconst _hoisted_6$7 = {\n  class: \"passage-learnmore-header\"\n};\nconst _hoisted_7$7 = {\n  class: \"passage-learnmore-body\"\n};\nconst _sfc_main$i = defineComponent({\n  __name: \"LearnMorePasskey\",\n  props: {\n    cta: {}\n  },\n  setup(__props) {\n    const {\n      t\n    } = useLocale();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$j, null, {\n        cta: withCtx(() => [createBaseVNode(\"div\", _hoisted_1$f, toDisplayString(unref(t)(\"passkeys-are-a-simple\")), 1), createTextVNode(\" \" + toDisplayString(_ctx.cta), 1)]),\n        body: withCtx(() => [createBaseVNode(\"div\", _hoisted_2$b, [createVNode(unref(InlineSvg), {\n          src: unref(Icons).privateIcon,\n          style: {\n            \"margin-right\": \"8px\"\n          }\n        }, null, 8, [\"src\"]), createTextVNode(\" \" + toDisplayString(unref(t)(\"private\")), 1)]), createBaseVNode(\"div\", _hoisted_3$a, toDisplayString(unref(t)(\"unlock-your-passkey\")), 1), createBaseVNode(\"div\", _hoisted_4$9, [createVNode(unref(InlineSvg), {\n          src: unref(Icons).secure,\n          style: {\n            \"margin-right\": \"8px\"\n          }\n        }, null, 8, [\"src\"]), createTextVNode(\" \" + toDisplayString(unref(t)(\"secure\")), 1)]), createBaseVNode(\"div\", _hoisted_5$8, toDisplayString(unref(t)(\"passkey-is-unique\")), 1), createBaseVNode(\"div\", _hoisted_6$7, [createVNode(unref(InlineSvg), {\n          src: unref(Icons).simple,\n          style: {\n            \"margin-right\": \"8px\"\n          }\n        }, null, 8, [\"src\"]), createTextVNode(\" \" + toDisplayString(unref(t)(\"simple\")), 1)]), createBaseVNode(\"div\", _hoisted_7$7, toDisplayString(unref(t)(\"easy-to-use\")), 1)]),\n        _: 1\n      });\n    };\n  }\n});\nconst _hoisted_1$e = {\n  class: \"auth-flex-container\",\n  \"data-tag\": \"register-device-message\"\n};\nconst _hoisted_2$a = {\n  class: \"title secondary-title has-text-centered\"\n};\nconst _hoisted_3$9 = {\n  class: \"image has-text-centered\"\n};\nconst _hoisted_4$8 = {\n  key: 0\n};\nconst _hoisted_5$7 = {\n  key: 1\n};\nconst _hoisted_6$6 = {\n  key: 1\n};\nconst _hoisted_7$6 = {\n  style: {\n    \"margin-bottom\": \"12px\"\n  }\n};\nconst _hoisted_8$5 = {\n  style: {\n    \"margin-bottom\": \"22px\"\n  }\n};\nconst _hoisted_9$5 = {\n  key: 2\n};\nconst _hoisted_10$3 = {\n  style: {\n    \"margin-bottom\": \"32px\"\n  }\n};\nconst _hoisted_11$3 = {\n  key: 2,\n  class: \"flex-row flex-center\"\n};\nconst _hoisted_12$3 = [\"onClick\", \"disabled\"];\nconst _hoisted_13$3 = [\"onClick\", \"disabled\"];\nconst _hoisted_14$3 = {\n  key: 3,\n  class: \"flex-column flex-center\",\n  style: {\n    \"margin\": \"auto\"\n  }\n};\nconst _hoisted_15$3 = [\"onClick\", \"disabled\"];\nconst _hoisted_16$3 = [\"onClick\", \"disabled\"];\nconst _hoisted_17$2 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"spacer\"\n}, null, -1);\nconst _hoisted_18$1 = {\n  key: 4,\n  class: \"content has-text-centered\",\n  style: {\n    \"margin-top\": \"20px !important\"\n  }\n};\nconst _hoisted_19$1 = {\n  class: \"link\"\n};\nconst _hoisted_20$1 = [\"onClick\"];\nconst _hoisted_21$1 = {\n  class: \"link\"\n};\nconst _hoisted_22$1 = [\"onClick\"];\nconst _hoisted_23$1 = {\n  key: 0,\n  class: \"link\"\n};\nconst _hoisted_24$1 = [\"onClick\"];\nconst _sfc_main$h = defineComponent({\n  __name: \"RegisterDevice\",\n  props: {\n    identifier: {},\n    identifierType: {},\n    appInfo: {},\n    browserFeatures: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const showFailure = ref(false);\n    const loading = ref(false);\n    const {\n      t,\n      te\n    } = useLocale();\n    const {\n      passage\n    } = usePassage();\n    const {\n      emitEvent: emitEvent2\n    } = useAuthEvent();\n    const {\n      autofocusButton\n    } = useAutofocusButton();\n    const supportsPlatform = computed(() => {\n      return props.browserFeatures.platform;\n    });\n    const supportsCrossPlatform = computed(() => {\n      return props.browserFeatures.securityKey;\n    });\n    const isEmail = computed(() => {\n      return props.identifierType === IdentifierType.email;\n    });\n    const fallbackAuth = computed(() => {\n      var _a;\n      return (_a = props.appInfo.auth_fallback_method) != null ? _a : he.MagicLink;\n    });\n    const supportsFallback = computed(() => {\n      return props.appInfo.auth_fallback_method !== he.None;\n    });\n    const fallbackRegisterWithCodeEmailOrTextBtnCopy = computed(() => {\n      if (fallbackAuth.value === he.LoginCode) {\n        return te(\"register-with-code\") ? t(\"register-with-code\") : \"Register with a code\";\n      } else {\n        return t(\"register-with-link\", [isEmail.value ? t(\"email\") : t(\"sms-text\")]);\n      }\n    });\n    const fallbackSendCodeEmailOrTextBtnCopy = computed(() => {\n      if (fallbackAuth.value === he.LoginCode) {\n        return te(\"send-code\") ? t(\"send-code\") : \"Send code\";\n      } else {\n        return t(\"send-email-or-text-link\", [isEmail.value ? t(\"email\") : t(\"sms-text\")]);\n      }\n    });\n    const failureCreateText = computed(() => {\n      switch (props.appInfo.auth_fallback_method) {\n        case he.LoginCode:\n          return te(\"passkey-create-fail-try-code\") ? t(\"passkey-create-fail-try-code\") : \"Unable to create a passkey. Try again or register with a one-time code.\";\n        case he.MagicLink:\n          return t(\"passkey-create-fail-try-link\");\n        case he.None:\n          return t(\"passkey-create-fail-no-fallback\");\n      }\n    });\n    let previousAttachment = E.Platform;\n    function signUpWebAuthn(identifier2, authenticatorAttachment) {\n      return __async(this, null, function* () {\n        loading.value = true;\n        try {\n          previousAttachment = authenticatorAttachment;\n          const authResult = yield passage.register(identifier2, {\n            authenticatorAttachment\n          });\n          loading.value = false;\n          emitEvent2({\n            type: AuthEventType.AuthSuccess,\n            payload: {\n              authResult,\n              identifier: props.identifier\n            }\n          });\n        } catch (err) {\n          showFailure.value = true;\n          loading.value = false;\n        }\n      });\n    }\n    function registerWithFallback() {\n      emitEvent2({\n        type: AuthEventType.FallbackAuth,\n        payload: {\n          identifier: props.identifier,\n          identifierType: props.identifierType,\n          userIsRegistering: true,\n          userInitiated: true\n        }\n      });\n    }\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      useAuthEvent().emitEvent({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    }\n    function primaryRegister() {\n      if (supportsPlatform.value === true) {\n        signUpWebAuthn(props.identifier, E.Platform);\n      } else {\n        signUpWebAuthn(props.identifier, E.CrossPlatform);\n      }\n    }\n    function secondaryRegister() {\n      signUpWebAuthn(props.identifier, E.CrossPlatform);\n    }\n    function tryAgain() {\n      signUpWebAuthn(props.identifier, previousAttachment);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$e, [createBaseVNode(\"div\", _hoisted_2$a, toDisplayString(supportsPlatform.value ? unref(t)(\"register-with-a-passkey\") : unref(t)(\"register-passkey-another-device\")), 1), createBaseVNode(\"figure\", _hoisted_3$9, [createVNode(unref(InlineSvg), {\n        src: unref(Icons).passkey,\n        alt: \"Register with a passkey\"\n      }, null, 8, [\"src\"])]), showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_4$8, [createBaseVNode(\"p\", null, toDisplayString(failureCreateText.value), 1)])) : (openBlock(), createElementBlock(\"div\", _hoisted_5$7, [supportsPlatform.value && !supportsCrossPlatform.value ? (openBlock(), createBlock(_sfc_main$i, {\n        key: 0,\n        cta: unref(t)(\"register-your-account\")\n      }, null, 8, [\"cta\"])) : createCommentVNode(\"\", true), supportsPlatform.value && supportsCrossPlatform.value ? (openBlock(), createElementBlock(\"div\", _hoisted_6$6, [createBaseVNode(\"div\", _hoisted_7$6, toDisplayString(unref(t)(\"passkeys-are-a-simple\")), 1), createBaseVNode(\"div\", _hoisted_8$5, toDisplayString(unref(t)(\"passkey-register-options\")), 1)])) : createCommentVNode(\"\", true), !supportsPlatform.value && supportsCrossPlatform.value ? (openBlock(), createElementBlock(\"div\", _hoisted_9$5, [createBaseVNode(\"div\", _hoisted_10$3, toDisplayString(unref(t)(\"passkeys-not-supported-try-another-device\")), 1)])) : createCommentVNode(\"\", true)])), showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_11$3, [createBaseVNode(\"button\", {\n        onClick: withModifiers(tryAgain, [\"prevent\"]),\n        type: \"button\",\n        part: \"button\",\n        class: \"button is-primary\",\n        disabled: loading.value,\n        style: {\n          \"margin-right\": \"5px\"\n        }\n      }, toDisplayString(unref(t)(\"try-again\")), 9, _hoisted_12$3), _ctx.appInfo.auth_fallback_method !== unref(he).None ? (openBlock(), createElementBlock(\"button\", {\n        key: 0,\n        onClick: withModifiers(registerWithFallback, [\"prevent\"]),\n        type: \"button\",\n        part: \"button button-secondary\",\n        class: \"button is-secondary\",\n        disabled: loading.value,\n        style: {\n          \"margin-left\": \"5px\"\n        },\n        \"data-test\": \"login-with-email-button\",\n        ref_key: \"autofocusButton\",\n        ref: autofocusButton\n      }, toDisplayString(fallbackSendCodeEmailOrTextBtnCopy.value), 9, _hoisted_13$3)) : createCommentVNode(\"\", true)])) : (openBlock(), createElementBlock(\"div\", _hoisted_14$3, [createBaseVNode(\"button\", {\n        onClick: withModifiers(primaryRegister, [\"prevent\"]),\n        type: \"button\",\n        class: normalizeClass([\"button\", [{\n          \"is-loading\": loading.value\n        }]]),\n        part: \"button\",\n        disabled: loading.value,\n        \"data-test\": \"register-main-button\",\n        tabindex: \"0\",\n        ref_key: \"autofocusButton\",\n        ref: autofocusButton,\n        style: {\n          \"margin-top\": \"0px\"\n        }\n      }, [createBaseVNode(\"span\", null, toDisplayString(supportsPlatform.value ? unref(t)(\"register-with-passkey\") : unref(t)(\"use-another-device\")), 1)], 10, _hoisted_15$3), supportsPlatform.value && supportsCrossPlatform.value ? (openBlock(), createElementBlock(\"button\", {\n        key: 0,\n        onClick: withModifiers(secondaryRegister, [\"prevent\"]),\n        type: \"button\",\n        class: normalizeClass([\"button is-secondary\", [{\n          \"is-loading\": loading.value\n        }]]),\n        part: \"button button-secondary\",\n        style: {\n          \"width\": \"100%\"\n        },\n        disabled: loading.value,\n        \"data-test\": \"register-secondary-button\",\n        tabindex: \"0\",\n        ref_key: \"autofocusButton\",\n        ref: autofocusButton\n      }, [createBaseVNode(\"span\", null, toDisplayString(unref(t)(\"use-another-device\")), 1)], 10, _hoisted_16$3)) : createCommentVNode(\"\", true)])), _hoisted_17$2, showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_18$1, [createBaseVNode(\"div\", _hoisted_19$1, [createBaseVNode(\"a\", {\n        onClick: withModifiers(changeEmail, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"change-email-button\"\n      }, toDisplayString(unref(t)(\"change-isemail-email-phone\", [isEmail.value ? unref(t)(\"email\") : unref(t)(\"phone\")])), 9, _hoisted_20$1)])])) : createCommentVNode(\"\", true), !showFailure.value ? (openBlock(), createElementBlock(\"div\", {\n        key: 5,\n        class: normalizeClass([\"flex-row flex-wrap\", supportsFallback.value ? \"flex-between\" : \"flex-center\"])\n      }, [createBaseVNode(\"div\", _hoisted_21$1, [createBaseVNode(\"a\", {\n        onClick: withModifiers(changeEmail, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"change-email-button\"\n      }, toDisplayString(unref(t)(\"back\")), 9, _hoisted_22$1)]), supportsFallback.value ? (openBlock(), createElementBlock(\"div\", _hoisted_23$1, [createBaseVNode(\"a\", {\n        onClick: withModifiers(registerWithFallback, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"register-email-button\"\n      }, toDisplayString(fallbackRegisterWithCodeEmailOrTextBtnCopy.value), 9, _hoisted_24$1)])) : createCommentVNode(\"\", true)], 2)) : createCommentVNode(\"\", true)]);\n    };\n  }\n});\nconst _sfc_main$g = defineComponent({\n  __name: \"RegisterDeviceView\",\n  props: {\n    identifier: {},\n    identifierType: {},\n    appInfo: {},\n    browserFeatures: {}\n  },\n  setup(__props) {\n    const props = __props;\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$h, normalizeProps(guardReactiveProps(props)), null, 16);\n    };\n  }\n});\nconst _hoisted_1$d = {\n  class: \"auth-flex-container\"\n};\nconst _hoisted_2$9 = {\n  class: \"title has-text-centered\"\n};\nconst _hoisted_3$8 = {\n  class: \"image has-text-centered\",\n  style: {\n    \"margin\": \"5px auto\"\n  }\n};\nconst _hoisted_4$7 = {\n  key: 1,\n  class: \"wrap-text\",\n  style: {\n    \"margin-bottom\": \"5px !important\"\n  }\n};\nconst _hoisted_5$6 = {\n  \"data-test\": \"failure-message\"\n};\nconst _hoisted_6$5 = {\n  key: 2,\n  class: \"flex-row flex-center\"\n};\nconst _hoisted_7$5 = [\"onClick\", \"disabled\"];\nconst _hoisted_8$4 = [\"onClick\", \"disabled\"];\nconst _hoisted_9$4 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"spacer\"\n}, null, -1);\nconst _hoisted_10$2 = {\n  key: 3,\n  class: \"content has-text-centered\",\n  style: {\n    \"margin-top\": \"20px !important\"\n  }\n};\nconst _hoisted_11$2 = {\n  class: \"link\"\n};\nconst _hoisted_12$2 = [\"onClick\"];\nconst _hoisted_13$2 = {\n  class: \"link\"\n};\nconst _hoisted_14$2 = [\"onClick\"];\nconst _hoisted_15$2 = {\n  key: 0,\n  class: \"link\"\n};\nconst _hoisted_16$2 = [\"onClick\"];\nconst _sfc_main$f = defineComponent({\n  __name: \"WebauthnSignIn\",\n  props: {\n    identifier: {},\n    identifierType: {},\n    appInfo: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const showFailure = ref(false);\n    const loading = ref(false);\n    const {\n      t,\n      te\n    } = useLocale();\n    const {\n      passage\n    } = usePassage();\n    const {\n      emitEvent: emitEvent2\n    } = useAuthEvent();\n    const isEmail = computed(() => {\n      return props.identifierType === IdentifierType.email;\n    });\n    const {\n      autofocusButton\n    } = useAutofocusButton();\n    const fallbackAuth = computed(() => {\n      var _a;\n      return (_a = props.appInfo.auth_fallback_method) != null ? _a : he.MagicLink;\n    });\n    const supportsFallback = computed(() => {\n      return props.appInfo.auth_fallback_method !== he.None;\n    });\n    const fallbackSendCodeEmailOrTextBtnCopy = computed(() => {\n      if (fallbackAuth.value === he.LoginCode) {\n        return te(\"send-code\") ? t(\"send-code\") : \"Send code\";\n      } else {\n        return t(\"send-email-or-text-link\", [isEmail.value ? t(\"email\") : t(\"sms-text\")]);\n      }\n    });\n    const loginWithCodeEmailOrTextBtnCopy = computed(() => {\n      if (fallbackAuth.value === he.LoginCode) {\n        return te(\"login-with-code\") ? t(\"login-with-code\") : \"Login with a code\";\n      } else {\n        return t(\"login-with-link\", [isEmail.value ? t(\"email\") : t(\"sms-text\")]);\n      }\n    });\n    const failureLoginText = computed(() => {\n      switch (props.appInfo.auth_fallback_method) {\n        case he.LoginCode:\n          return te(\"passkey-login-fail-try-code\") ? t(\"passkey-login-fail-try-code\") : \"Unable to log in with a passkey. Try again or log in with a one-time code.\";\n        case he.MagicLink:\n          return t(\"passkey-login-fail-try-link\");\n        case he.None:\n          return t(\"passkey-login-fail-no-fallback\");\n      }\n    });\n    function signInWebAuthn() {\n      return __async(this, null, function* () {\n        showFailure.value = false;\n        if (!props.identifier) {\n          return;\n        }\n        loading.value = true;\n        try {\n          const authResult = yield passage.login(props.identifier);\n          emitEvent2({\n            type: AuthEventType.AuthSuccess,\n            payload: {\n              authResult,\n              identifier: props.identifier\n            }\n          });\n          loading.value = false;\n        } catch (err) {\n          const error = err;\n          showFailure.value = true;\n          loading.value = false;\n          if (error.statusCode === P.PSGParsePublicKeyForLoginFailed) {\n            showFailure.value = true;\n          } else {\n            emitEvent2({\n              type: AuthEventType.FallbackAuth,\n              payload: {\n                identifier: props.identifier,\n                identifierType: props.identifierType,\n                userInitiated: false\n              }\n            });\n          }\n        }\n      });\n    }\n    function loginWithFallback() {\n      emitEvent2({\n        type: AuthEventType.FallbackAuth,\n        payload: {\n          identifier: props.identifier,\n          identifierType: props.identifierType,\n          userInitiated: true\n        }\n      });\n    }\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      emitEvent2({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    }\n    onMounted(() => {\n      signInWebAuthn();\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$d, [createBaseVNode(\"div\", _hoisted_2$9, toDisplayString(unref(t)(\"log-in-with-a-passkey\")), 1), createBaseVNode(\"figure\", _hoisted_3$8, [createVNode(unref(InlineSvg), {\n        src: unref(Icons).passkey,\n        alt: \"Log in with a passkey\",\n        style: {\n          \"margin\": \"5px\"\n        }\n      }, null, 8, [\"src\"])]), !showFailure.value ? (openBlock(), createBlock(_sfc_main$i, {\n        key: 0,\n        cta: unref(t)(\"log-into-your-account\")\n      }, null, 8, [\"cta\"])) : showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_4$7, [createBaseVNode(\"div\", _hoisted_5$6, [createBaseVNode(\"p\", null, toDisplayString(failureLoginText.value), 1)])])) : createCommentVNode(\"\", true), showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_6$5, [createBaseVNode(\"button\", {\n        onClick: withModifiers(signInWebAuthn, [\"prevent\"]),\n        type: \"button\",\n        part: \"button\",\n        class: \"button is-primary\",\n        disabled: loading.value,\n        style: {\n          \"margin-right\": \"5px\"\n        }\n      }, toDisplayString(unref(t)(\"try-again\")), 9, _hoisted_7$5), _ctx.appInfo.auth_fallback_method !== unref(he).None ? (openBlock(), createElementBlock(\"button\", {\n        key: 0,\n        onClick: withModifiers(loginWithFallback, [\"prevent\"]),\n        type: \"button\",\n        part: \"button button-secondary\",\n        class: \"button is-secondary\",\n        disabled: loading.value,\n        style: {\n          \"margin-left\": \"5px\"\n        },\n        \"data-test\": \"login-with-email-button\",\n        ref_key: \"autofocusButton\",\n        ref: autofocusButton\n      }, toDisplayString(fallbackSendCodeEmailOrTextBtnCopy.value), 9, _hoisted_8$4)) : createCommentVNode(\"\", true)])) : createCommentVNode(\"\", true), _hoisted_9$4, showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_10$2, [createBaseVNode(\"div\", _hoisted_11$2, [createBaseVNode(\"a\", {\n        onClick: withModifiers(changeEmail, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"change-email-button\"\n      }, toDisplayString(unref(t)(\"change-isemail-email-phone\", [isEmail.value ? unref(t)(\"email\") : unref(t)(\"phone\")])), 9, _hoisted_12$2)])])) : createCommentVNode(\"\", true), !showFailure.value ? (openBlock(), createElementBlock(\"div\", {\n        key: 4,\n        class: normalizeClass([\"flex-row flex-wrap\", supportsFallback.value ? \"flex-between\" : \"flex-center\"])\n      }, [createBaseVNode(\"div\", _hoisted_13$2, [createBaseVNode(\"a\", {\n        onClick: withModifiers(changeEmail, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"change-email-button\"\n      }, toDisplayString(unref(t)(\"back\")), 9, _hoisted_14$2)]), supportsFallback.value ? (openBlock(), createElementBlock(\"div\", _hoisted_15$2, [createBaseVNode(\"a\", {\n        onClick: withModifiers(loginWithFallback, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"register-email-button\"\n      }, toDisplayString(loginWithCodeEmailOrTextBtnCopy.value), 9, _hoisted_16$2)])) : createCommentVNode(\"\", true)], 2)) : createCommentVNode(\"\", true)]);\n    };\n  }\n});\nconst _hoisted_1$c = {\n  class: \"view-webauthn-sign-in\"\n};\nconst _sfc_main$e = defineComponent({\n  __name: \"WebauthnSignInView\",\n  props: {\n    identifier: {},\n    identifierType: {},\n    appInfo: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$c, [createVNode(_sfc_main$f, {\n        identifier: _ctx.identifier,\n        identifierType: _ctx.identifierType,\n        appInfo: _ctx.appInfo\n      }, null, 8, [\"identifier\", \"identifierType\", \"appInfo\"])]);\n    };\n  }\n});\nconst _hoisted_1$b = {\n  style: {\n    \"display\": \"flex\",\n    \"align-items\": \"center\"\n  },\n  class: \"psg-otp-single-input-container\"\n};\nconst _hoisted_2$8 = [\"data-test\", \"type\", \"inputtype\", \"placeholder\", \"inputmode\", \"disabled\", \"maxlength\", \"autocomplete\"];\nconst _hoisted_3$7 = {\n  key: 0\n};\nconst _hoisted_4$6 = [\"innerHTML\"];\nconst _sfc_main$d = defineComponent({\n  __name: \"OneTimePasscodeSingleInput\",\n  props: {\n    conditionalClass: {},\n    focus: {\n      type: Boolean\n    },\n    inputClasses: {\n      default: () => []\n    },\n    inputmode: {\n      default: \"numeric\"\n    },\n    inputType: {\n      default: \"number\"\n    },\n    isDisabled: {\n      type: Boolean\n    },\n    isLastChild: {\n      type: Boolean\n    },\n    placeholder: {},\n    separator: {\n      default: \"\"\n    },\n    shouldAutoFocus: {\n      type: Boolean,\n      default: false\n    },\n    value: {\n      default: \"\"\n    },\n    isFirstChild: {\n      type: Boolean\n    },\n    inputIdx: {},\n    inputCount: {}\n  },\n  emits: [\"on-change\", \"on-keydown\", \"on-paste\", \"on-focus\", \"on-blur\"],\n  setup(__props, _ref6) {\n    let {\n      emit\n    } = _ref6;\n    const props = __props;\n    const model = ref(props.value || \"\");\n    const input = ref(null);\n    const inputTypeValue = computed(() => {\n      return props.inputType === \"letter-numeric\" ? \"text\" : props.inputType;\n    });\n    const handleOnChange = () => {\n      model.value = model.value.toString();\n      if (model.value.length > 1) {\n        model.value = model.value.slice(0, 1);\n      }\n      return emit(\"on-change\", model.value);\n    };\n    const isCodeLetter = charCode => charCode >= 65 && charCode <= 90;\n    const isCodeNumeric = charCode => charCode >= 48 && charCode <= 57 || charCode >= 96 && charCode <= 105;\n    const handleOnKeyDown = event => {\n      if (props.isDisabled) {\n        event.preventDefault();\n      }\n      const keyEvent = event || window.event;\n      const charCode = keyEvent.which ? keyEvent.which : keyEvent.keyCode;\n      if (isCodeNumeric(charCode) || props.inputType === \"letter-numeric\" && isCodeLetter(charCode) || [8, 9, 13, 37, 39, 46, 86].includes(charCode)) {\n        emit(\"on-keydown\", event);\n      } else {\n        keyEvent.preventDefault();\n      }\n    };\n    const handleOnPaste = event => emit(\"on-paste\", event);\n    const handleOnFocus = () => {\n      input.value.select();\n      return emit(\"on-focus\");\n    };\n    const handleOnBlur = () => emit(\"on-blur\");\n    watch(() => props.value, (newValue, oldValue) => {\n      if (newValue !== oldValue) {\n        model.value = newValue;\n      }\n    });\n    watch(() => props.focus, (newFocusValue, oldFocusValue) => {\n      if (oldFocusValue !== newFocusValue && input.value && props.focus) {\n        input.value.focus();\n        input.value.select();\n      }\n    });\n    onMounted(() => {\n      if (input.value && props.focus && props.shouldAutoFocus) {\n        input.value.focus();\n        input.value.select();\n      }\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$b, [withDirectives(createBaseVNode(\"input\", {\n        \"data-test\": `otp-single-input-${_ctx.inputIdx}`,\n        type: inputTypeValue.value,\n        inputtype: inputTypeValue.value,\n        placeholder: _ctx.placeholder,\n        inputmode: _ctx.inputmode,\n        disabled: _ctx.isDisabled,\n        ref_key: \"input\",\n        ref: input,\n        pattern: \"[0-9]*\",\n        maxlength: _ctx.isFirstChild ? _ctx.inputCount : 1,\n        min: \"0\",\n        max: \"9\",\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => model.value = $event),\n        class: normalizeClass([\"psg-input\", \"psg-otp-input\", [...(_ctx.inputClasses || [])]]),\n        onInput: handleOnChange,\n        onKeydown: handleOnKeyDown,\n        onPaste: handleOnPaste,\n        onFocus: handleOnFocus,\n        onBlur: handleOnBlur,\n        autocomplete: _ctx.isFirstChild ? \"one-time-code\" : \"off\"\n      }, null, 42, _hoisted_2$8), [[vModelDynamic, model.value]]), !_ctx.isLastChild && _ctx.separator ? (openBlock(), createElementBlock(\"span\", _hoisted_3$7, [createBaseVNode(\"span\", {\n        innerHTML: _ctx.separator\n      }, null, 8, _hoisted_4$6)])) : createCommentVNode(\"\", true)]);\n    };\n  }\n});\nconst _hoisted_1$a = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\"\n  },\n  class: \"psg-otp-input-container\"\n};\nconst _hoisted_2$7 = {\n  key: 0,\n  autocomplete: \"off\",\n  name: \"hidden\",\n  type: \"text\",\n  style: {\n    \"display\": \"none\"\n  }\n};\nconst _sfc_main$c = defineComponent({\n  __name: \"OneTimePasscodeInput\",\n  props: {\n    value: {\n      default: \"\"\n    },\n    numInputs: {\n      default: 6\n    },\n    separator: {\n      default: \"\"\n    },\n    inputClasses: {},\n    conditionalClass: {\n      default: () => []\n    },\n    inputType: {\n      default: \"number\"\n    },\n    inputmode: {\n      default: \"numeric\"\n    },\n    shouldAutoFocus: {\n      type: Boolean,\n      default: false\n    },\n    placeholder: {\n      default: () => []\n    },\n    isDisabled: {\n      type: Boolean,\n      default: false\n    },\n    disableNonCurrent: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"update:value\", \"on-complete\", \"on-change\"],\n  setup(__props, _ref7) {\n    let {\n      emit\n    } = _ref7;\n    const props = __props;\n    const activeInput = ref(0);\n    const otp = ref([]);\n    const oldOtp = ref([]);\n    watch(() => props.value, val => {\n      const fill = (unref(val) || \"\").padEnd(props.numInputs, \" \").split(\"\");\n      otp.value = fill;\n    }, {\n      immediate: true\n    });\n    const handleOnFocus = index => {\n      activeInput.value = index;\n    };\n    const handleOnBlur = () => {\n      activeInput.value = -1;\n    };\n    const checkFilledAllInputs = () => {\n      if (otp.value.join(\"\").length === props.numInputs) {\n        emit(\"update:value\", otp.value.join(\"\"));\n        return emit(\"on-complete\", otp.value.join(\"\"));\n      }\n      return \"Wait until the user enters the required number of characters\";\n    };\n    const focusInput = input => {\n      activeInput.value = Math.max(Math.min(props.numInputs - 1, input), 0);\n    };\n    const focusNextInput = () => {\n      if (props.disableNonCurrent) {\n        setTimeout(() => {\n          focusInput(activeInput.value + 1);\n        }, 200);\n      } else {\n        focusInput(activeInput.value + 1);\n      }\n    };\n    const focusPrevInput = () => {\n      focusInput(activeInput.value - 1);\n    };\n    const changeCodeAtFocus = value => {\n      oldOtp.value = Object.assign([], otp.value);\n      otp.value[activeInput.value] = value;\n      if (oldOtp.value.join(\"\") !== otp.value.join(\"\")) {\n        emit(\"update:value\", otp.value.join(\"\"));\n        emit(\"on-change\", otp.value.join(\"\"));\n      }\n    };\n    const handleOnPaste = event => {\n      var _a;\n      event.preventDefault();\n      const pastedData = (_a = event.clipboardData) == null ? void 0 : _a.getData(\"text/plain\").slice(0, props.numInputs - activeInput.value).split(\"\");\n      if (props.inputType === \"number\" && !(pastedData == null ? void 0 : pastedData.join(\"\").match(/^\\d+$/))) {\n        return \"Invalid pasted data\";\n      }\n      if (props.inputType === \"letter-numeric\" && !(pastedData == null ? void 0 : pastedData.join(\"\").match(/^\\w+$/))) {\n        return \"Invalid pasted data\";\n      }\n      const currentCharsInOTP = otp.value.slice(0, activeInput.value);\n      const combinedWithPastedData = currentCharsInOTP.concat(pastedData || \"\");\n      combinedWithPastedData.slice(0, props.numInputs).forEach((value, i) => {\n        otp.value[i] = value;\n      });\n      focusInput(combinedWithPastedData.slice(0, props.numInputs).length);\n      return checkFilledAllInputs();\n    };\n    const handleOnChange = value => {\n      changeCodeAtFocus(value);\n      focusNextInput();\n    };\n    const handleOnKeyDown = event => {\n      switch (event.keyCode) {\n        case 8:\n          event.preventDefault();\n          changeCodeAtFocus(\"\");\n          focusPrevInput();\n          break;\n        case 46:\n          event.preventDefault();\n          changeCodeAtFocus(\"\");\n          break;\n        case 37:\n          event.preventDefault();\n          focusPrevInput();\n          break;\n        case 39:\n          event.preventDefault();\n          focusNextInput();\n          break;\n      }\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$a, [_ctx.inputType === \"password\" ? (openBlock(), createElementBlock(\"input\", _hoisted_2$7)) : createCommentVNode(\"\", true), (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.numInputs, (_, i) => {\n        return openBlock(), createBlock(_sfc_main$d, {\n          key: i,\n          focus: activeInput.value === i,\n          value: otp.value[i],\n          separator: _ctx.separator,\n          \"input-type\": _ctx.inputType,\n          inputmode: _ctx.inputmode,\n          \"input-classes\": _ctx.inputClasses,\n          conditionalClass: _ctx.conditionalClass[i],\n          \"is-last-child\": i === _ctx.numInputs - 1,\n          \"is-first-child\": i === 0,\n          \"should-auto-focus\": _ctx.shouldAutoFocus,\n          placeholder: _ctx.placeholder[i],\n          \"is-disabled\": _ctx.isDisabled || _ctx.disableNonCurrent && i > otp.value.join(\"\").trim().length,\n          \"input-idx\": i,\n          \"input-count\": _ctx.numInputs,\n          onOnChange: handleOnChange,\n          onOnKeydown: handleOnKeyDown,\n          onOnPaste: handleOnPaste,\n          onOnFocus: $event => handleOnFocus(i),\n          onOnBlur: handleOnBlur\n        }, null, 8, [\"focus\", \"value\", \"separator\", \"input-type\", \"inputmode\", \"input-classes\", \"conditionalClass\", \"is-last-child\", \"is-first-child\", \"should-auto-focus\", \"placeholder\", \"is-disabled\", \"input-idx\", \"input-count\", \"onOnFocus\"]);\n      }), 128))]);\n    };\n  }\n});\nconst _hoisted_1$9 = {\n  class: \"auth-flex-container\"\n};\nconst _hoisted_2$6 = {\n  class: \"flex flex-column\",\n  style: {\n    \"flex-grow\": \"1\"\n  }\n};\nconst _hoisted_3$6 = {\n  class: \"title has-text-centered\"\n};\nconst _hoisted_4$5 = {\n  class: \"content wrap-text\"\n};\nconst _hoisted_5$5 = {\n  style: {\n    \"margin-top\": \"32px\",\n    \"margin-bottom\": \"40px\"\n  }\n};\nconst _hoisted_6$4 = [\"innerHTML\"];\nconst _hoisted_7$4 = {\n  class: \"flex flex-row flex-center\"\n};\nconst _hoisted_8$3 = {\n  class: \"flex-row\",\n  style: {\n    \"margin-top\": \"8px\"\n  }\n};\nconst _hoisted_9$3 = {\n  class: \"error-message\",\n  style: {\n    \"min-height\": \"17px\"\n  }\n};\nconst _hoisted_10$1 = {\n  class: \"flex-row flex-center\",\n  style: {\n    \"margin-top\": \"16px\"\n  }\n};\nconst _hoisted_11$1 = [\"onClick\", \"disabled\"];\nconst _hoisted_12$1 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"spacer\"\n}, null, -1);\nconst _hoisted_13$1 = {\n  class: \"flex-row flex-wrap flex-between\"\n};\nconst _hoisted_14$1 = {\n  class: \"link\"\n};\nconst _hoisted_15$1 = [\"onClick\"];\nconst _hoisted_16$1 = {\n  class: \"link\"\n};\nconst _hoisted_17$1 = [\"onClick\"];\nconst numInputs = 6;\nconst disableInputsOnSendCodeError = false;\nconst _sfc_main$b = defineComponent({\n  __name: \"OneTimePasscode\",\n  props: {\n    identifier: {},\n    userIsRegistering: {\n      type: Boolean\n    },\n    identifierVerifying: {\n      type: Boolean\n    },\n    setupNewDevice: {\n      type: Boolean\n    },\n    identifierType: {}\n  },\n  setup(__props) {\n    var _this = this;\n    const props = __props;\n    const {\n      t,\n      te,\n      locale\n    } = useLocale();\n    const loading = ref(true);\n    const oneTimePasscode = ref(void 0);\n    const errorWithOneTimePasscode = ref(false);\n    const errorSendingOneTimePasscode = ref(false);\n    const errorMessage = ref(void 0);\n    const otpId = ref(void 0);\n    const title = computed(() => {\n      return te(\"enter-code\") ? t(\"enter-code\", {}) : \"Enter code\";\n    });\n    const message = computed(() => {\n      return te(\"enter-code-sent\") ? t(\"enter-code-sent\", [props.identifier]) : `A one-time code has been sent to <span style=\"font-weight: 700;\">${props.identifier}</span>. Enter the code here to log in.`;\n    });\n    const btnGoBackText = computed(() => {\n      return te(\"back\") ? t(\"back\") : \"Back\";\n    });\n    const btnResendText = computed(() => {\n      return te(\"resend-code\") ? t(\"resend-code\") : \"Resend code\";\n    });\n    const oneTimePasscodeInputClasses = computed(() => {\n      return errorWithOneTimePasscode.value ? [\"has-error\"] : [];\n    });\n    const oneTimePasscodeInputsDisabled = computed(() => {\n      return disableInputsOnSendCodeError;\n    });\n    const continueBtnDisabled = computed(() => {\n      return loading.value;\n    });\n    watch(oneTimePasscode, () => {\n      var _a;\n      _resetErrorState();\n      if (((_a = oneTimePasscode.value) == null ? void 0 : _a.trim().length) === numInputs) {\n        activateOneTimePasscode();\n      }\n    });\n    const {\n      passage\n    } = usePassage();\n    const sendOneTimePasscode = function () {\n      let isRegistering = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      return __async(_this, null, function* () {\n        _resetLoadingState();\n        _resetErrorState();\n        _resetOneTimePasscode();\n        loading.value = true;\n        try {\n          const res = isRegistering ? yield passage.newRegisterOneTimePasscode(props.identifier, locale.value.split(\"-\")[0]) : yield passage.newLoginOneTimePasscode(props.identifier, locale.value.split(\"-\")[0]);\n          if (res.otp_id != \"\") {\n            localStorage.setItem(\"otp_id\", res.otp_id);\n            otpId.value = res.otp_id;\n          }\n        } catch (err) {\n          setError(te(\"code-send-error\") ? t(\"code-send-error\") : \"An error occurred sending the code.\", true);\n        } finally {\n          loading.value = false;\n        }\n      });\n    };\n    const activateOneTimePasscode = () => __async(this, null, function* () {\n      _resetLoadingState();\n      _resetErrorState();\n      loading.value = true;\n      try {\n        if (!oneTimePasscode.value) {\n          throw new Error(\"Login code is undefined.\");\n        }\n        if (oneTimePasscode.value.length !== numInputs) {\n          throw new Error(\"Login code is invalid length.\");\n        }\n        if (!otpId.value) {\n          throw new Error(\"Login code id is undefined.\");\n        }\n        const result = yield passage.oneTimePasscodeActivate(oneTimePasscode.value, otpId.value);\n        if (result && result.redirect_url != \"\") {\n          localStorage.removeItem(\"otp_id\");\n          useCallbacks().onEvent.value(OnEventType.onOneTimePasscodeActivated);\n          useAuthEvent().emitEvent({\n            type: AuthEventType.FallbackAuthSuccess,\n            payload: {\n              identifier: props.identifier,\n              authResult: result\n            }\n          });\n        }\n      } catch (err) {\n        setError(te(\"code-invalid-or-expired\") ? t(\"code-invalid-or-expired\") : \"Code is invalid or expired. Please try again.\");\n      } finally {\n        loading.value = false;\n      }\n    });\n    const onGoBackClicked = () => {\n      useAuthEvent().emitEvent({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    };\n    const onResendCodeClicked = () => {\n      sendOneTimePasscode();\n    };\n    const onSubmitClicked = () => {\n      activateOneTimePasscode();\n    };\n    onMounted(() => {\n      sendOneTimePasscode(props.userIsRegistering);\n      moveInput();\n    });\n    onBeforeUnmount(() => {\n      cleanupInput();\n    });\n    const _resetLoadingState = () => {\n      loading.value = true;\n    };\n    const _resetErrorState = () => {\n      errorMessage.value = void 0;\n      errorWithOneTimePasscode.value = false;\n      errorSendingOneTimePasscode.value = false;\n    };\n    const _resetOneTimePasscode = () => {\n      oneTimePasscode.value = void 0;\n    };\n    const setError = function (message2) {\n      let sending = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      errorMessage.value = message2;\n      errorWithOneTimePasscode.value = !sending;\n      errorSendingOneTimePasscode.value = sending;\n    };\n    const otpInput = ref();\n    function moveInput() {\n      const parent = otpInput.value.getRootNode().host;\n      otpInput.value.appendChild(otcStyles());\n      parent.appendChild(otpInput.value);\n    }\n    function cleanupInput() {\n      otpInput.value.remove();\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$9, [createBaseVNode(\"form\", _hoisted_2$6, [createBaseVNode(\"div\", _hoisted_3$6, [createBaseVNode(\"span\", null, toDisplayString(title.value), 1)]), createBaseVNode(\"div\", _hoisted_4$5, [createBaseVNode(\"div\", _hoisted_5$5, [createBaseVNode(\"p\", {\n        innerHTML: message.value\n      }, null, 8, _hoisted_6$4)])]), createBaseVNode(\"div\", _hoisted_7$4, [createBaseVNode(\"div\", {\n        ref_key: \"otpInput\",\n        ref: otpInput,\n        slot: \"otpInput\"\n      }, [createVNode(_sfc_main$c, {\n        \"num-inputs\": numInputs,\n        \"is-disabled\": oneTimePasscodeInputsDisabled.value,\n        value: oneTimePasscode.value,\n        \"onUpdate:value\": _cache[0] || (_cache[0] = $event => oneTimePasscode.value = $event),\n        \"input-classes\": oneTimePasscodeInputClasses.value,\n        \"disable-non-current\": false\n      }, null, 8, [\"is-disabled\", \"value\", \"input-classes\"])], 512), renderSlot(_ctx.$slots, \"otpInput\")]), createBaseVNode(\"div\", _hoisted_8$3, [createBaseVNode(\"div\", _hoisted_9$3, toDisplayString(errorMessage.value ? errorMessage.value : \" \"), 1)]), createBaseVNode(\"div\", _hoisted_10$1, [createBaseVNode(\"button\", {\n        type: \"submit\",\n        class: \"button is-primary\",\n        part: \"button\",\n        \"data-test\": \"continue-button\",\n        onClick: withModifiers(onSubmitClicked, [\"prevent\"]),\n        disabled: continueBtnDisabled.value\n      }, toDisplayString(unref(t)(\"continue\")), 9, _hoisted_11$1)]), _hoisted_12$1, createBaseVNode(\"div\", _hoisted_13$1, [createBaseVNode(\"div\", _hoisted_14$1, [createBaseVNode(\"a\", {\n        onClick: withModifiers(onGoBackClicked, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"one-time-passcode-goback-button\"\n      }, toDisplayString(btnGoBackText.value), 9, _hoisted_15$1)]), createBaseVNode(\"div\", _hoisted_16$1, [createBaseVNode(\"a\", {\n        onClick: withModifiers(onResendCodeClicked, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"one-time-passcode-resend-button\"\n      }, toDisplayString(btnResendText.value), 9, _hoisted_17$1)])])])]);\n    };\n  }\n});\nconst _hoisted_1$8 = {\n  class: \"view-access-token\"\n};\nconst _sfc_main$a = defineComponent({\n  __name: \"OneTimePasscodeView\",\n  props: {\n    identifier: {},\n    userIsRegistering: {\n      type: Boolean\n    },\n    identifierVerifying: {\n      type: Boolean\n    },\n    setupNewDevice: {\n      type: Boolean\n    },\n    identifierType: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$8, [createVNode(_sfc_main$b, {\n        identifier: _ctx.identifier,\n        userIsRegistering: _ctx.userIsRegistering,\n        identifierVerifying: _ctx.identifierVerifying,\n        setupNewDevice: _ctx.setupNewDevice,\n        identifierType: _ctx.identifierType\n      }, {\n        otpInput: withCtx(() => [renderSlot(_ctx.$slots, \"otpInput\")]),\n        _: 3\n      }, 8, [\"identifier\", \"userIsRegistering\", \"identifierVerifying\", \"setupNewDevice\", \"identifierType\"])]);\n    };\n  }\n});\nconst _hoisted_1$7 = {\n  class: \"title has-text-centered secondary-title\",\n  \"data-test\": \"activate-magic-link-message\"\n};\nconst _hoisted_2$5 = {\n  class: \"image has-text-centered\"\n};\nconst _hoisted_3$5 = {\n  key: 0\n};\nconst _hoisted_4$4 = {\n  class: \"flex-row flex-center\",\n  style: {\n    \"padding\": \"20px 0px\"\n  }\n};\nconst _hoisted_5$4 = [\"onClick\", \"disabled\"];\nconst _hoisted_6$3 = {\n  key: 0\n};\nconst _hoisted_7$3 = {\n  key: 1\n};\nconst _hoisted_8$2 = {\n  key: 2,\n  class: \"link has-text-centered\"\n};\nconst _hoisted_9$2 = [\"onClick\"];\nconst _sfc_main$9 = defineComponent({\n  __name: \"AddDevice\",\n  props: {\n    authResult: {},\n    identifier: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const {\n      t\n    } = useLocale();\n    const showFailure = ref(false);\n    const showSuccess = ref(false);\n    const newDevice = ref();\n    const {\n      addDevice,\n      addPending\n    } = useAddDevice();\n    const {\n      autofocusButton\n    } = useAutofocusButton();\n    const title = computed(() => {\n      if (showFailure.value) {\n        return t(\"something-went-wrong\");\n      } else {\n        return t(\"add-passkey\");\n      }\n    });\n    function onButtonClick() {\n      return __async(this, null, function* () {\n        var _a;\n        newDevice.value = yield addDevice();\n        if ((_a = newDevice.value) == null ? void 0 : _a.id) {\n          showSuccess.value = true;\n          showFailure.value = false;\n          finishAuth();\n        } else {\n          showFailure.value = true;\n          showSuccess.value = false;\n        }\n      });\n    }\n    const finishAuth = () => {\n      useAuthEvent().emitEvent({\n        type: AuthEventType.AuthSuccess,\n        payload: {\n          identifier: props.identifier,\n          authResult: props.authResult\n        }\n      });\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [createBaseVNode(\"div\", _hoisted_1$7, toDisplayString(title.value), 1), createBaseVNode(\"figure\", _hoisted_2$5, [showFailure.value ? (openBlock(), createBlock(unref(InlineSvg), {\n        key: 0,\n        src: unref(Icons).fingerprintFailed,\n        alt: \"Device failure\"\n      }, null, 8, [\"src\"])) : (openBlock(), createBlock(unref(InlineSvg), {\n        key: 1,\n        src: unref(Icons).passkey,\n        alt: \"Add a passkey\",\n        style: {\n          \"margin\": \"5px\"\n        }\n      }, null, 8, [\"src\"]))]), showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_3$5, toDisplayString(unref(t)(\"failed-to-add-this-device\")), 1)) : (openBlock(), createBlock(_sfc_main$i, {\n        key: 1,\n        cta: unref(t)(\"log-into-your-account\")\n      }, null, 8, [\"cta\"])), createBaseVNode(\"div\", _hoisted_4$4, [createBaseVNode(\"button\", {\n        onClick: withModifiers(onButtonClick, [\"prevent\"]),\n        type: \"button\",\n        class: normalizeClass([\"button is-primary\", {\n          \"is-loading\": unref(addPending)\n        }]),\n        part: \"button\",\n        disabled: unref(addPending),\n        \"data-test\": \"save-device-button\",\n        ref_key: \"autofocusButton\",\n        ref: autofocusButton\n      }, [showFailure.value ? (openBlock(), createElementBlock(\"span\", _hoisted_6$3, toDisplayString(unref(t)(\"try-again\")), 1)) : (openBlock(), createElementBlock(\"span\", _hoisted_7$3, toDisplayString(unref(t)(\"add-passkey\")), 1))], 10, _hoisted_5$4)]), !showSuccess.value ? (openBlock(), createElementBlock(\"div\", _hoisted_8$2, [createBaseVNode(\"div\", null, [createBaseVNode(\"a\", {\n        onClick: withModifiers(finishAuth, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"add-device-skip\"\n      }, toDisplayString(unref(t)(\"skip\")), 9, _hoisted_9$2)])])) : createCommentVNode(\"\", true)], 64);\n    };\n  }\n});\nconst _hoisted_1$6 = {\n  class: \"view-add-device\"\n};\nconst _sfc_main$8 = defineComponent({\n  __name: \"AddDeviceView\",\n  props: {\n    authResult: {},\n    identifier: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$6, [createVNode(_sfc_main$9, {\n        authResult: _ctx.authResult,\n        identifier: _ctx.identifier\n      }, null, 8, [\"authResult\", \"identifier\"])]);\n    };\n  }\n});\nconst _hoisted_1$5 = {\n  class: \"wrap-text\",\n  style: {\n    \"margin-bottom\": \"12px !important\"\n  }\n};\nconst _hoisted_2$4 = {\n  class: \"passage-learnmore-header\"\n};\nconst _hoisted_3$4 = {\n  class: \"passage-learnmore-body\"\n};\nconst _hoisted_4$3 = {\n  class: \"passage-learnmore-header\"\n};\nconst _hoisted_5$3 = {\n  class: \"passage-learnmore-body\"\n};\nconst _sfc_main$7 = defineComponent({\n  __name: \"LearnMoreDisabledFallbacks\",\n  setup(__props) {\n    const {\n      t\n    } = useLocale();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$j, null, {\n        cta: withCtx(() => [createBaseVNode(\"div\", _hoisted_1$5, toDisplayString(unref(t)(\"passkeys-are-required\")) + toDisplayString(\" \"), 1), createTextVNode(\" \" + toDisplayString(unref(t)(\"try-again-on-device-with-passkeys\")), 1)]),\n        body: withCtx(() => [createBaseVNode(\"div\", _hoisted_2$4, toDisplayString(unref(t)(\"what-are-passkeys\")), 1), createBaseVNode(\"div\", _hoisted_3$4, toDisplayString(unref(t)(\"passkeys-are-a-simpler-and-more-secure-alternative\")), 1), createBaseVNode(\"div\", _hoisted_4$3, toDisplayString(unref(t)(\"devices-that-support-passkeys\")), 1), createBaseVNode(\"div\", _hoisted_5$3, toDisplayString(unref(t)(\"devices-with-a-biometric-sensor-are-likely-to-support-passkeys\")), 1)]),\n        _: 1\n      });\n    };\n  }\n});\nconst _hoisted_1$4 = {\n  class: \"auth-flex-container\"\n};\nconst _hoisted_2$3 = {\n  class: \"title has-text-centered\"\n};\nconst _hoisted_3$3 = {\n  class: \"image has-text-centered\",\n  style: {\n    \"margin\": \"5px auto\"\n  }\n};\nconst _hoisted_4$2 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"spacer\"\n}, null, -1);\nconst _hoisted_5$2 = {\n  class: \"flex-row flex-wrap flex-center\"\n};\nconst _hoisted_6$2 = {\n  class: \"link\"\n};\nconst _hoisted_7$2 = [\"onClick\"];\nconst _sfc_main$6 = defineComponent({\n  __name: \"DisableFallbacks\",\n  setup(__props) {\n    const {\n      t\n    } = useLocale();\n    const {\n      emitEvent: emitEvent2\n    } = useAuthEvent();\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      emitEvent2({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$4, [createBaseVNode(\"div\", _hoisted_2$3, toDisplayString(unref(t)(\"device-not-supported\")), 1), createBaseVNode(\"figure\", _hoisted_3$3, [createVNode(unref(InlineSvg), {\n        src: unref(Icons).passkeyArrow,\n        alt: \"Device not supported\",\n        style: {\n          \"margin\": \"5px\"\n        }\n      }, null, 8, [\"src\"])]), createVNode(_sfc_main$7), _hoisted_4$2, createBaseVNode(\"div\", _hoisted_5$2, [createBaseVNode(\"div\", _hoisted_6$2, [createBaseVNode(\"a\", {\n        onClick: withModifiers(changeEmail, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"change-email-button\"\n      }, toDisplayString(unref(t)(\"back\")), 9, _hoisted_7$2)])])]);\n    };\n  }\n});\nconst _sfc_main$5 = defineComponent({\n  __name: \"DisableFallbackView\",\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$6);\n    };\n  }\n});\nconst _hoisted_1$3 = {\n  class: \"auth-flex-container\"\n};\nconst _hoisted_2$2 = {\n  class: \"title has-text-centered\"\n};\nconst _hoisted_3$2 = {\n  class: \"image has-text-centered\",\n  style: {\n    \"margin\": \"5px auto\"\n  }\n};\nconst _hoisted_4$1 = {\n  class: \"wrap-text\",\n  style: {\n    \"margin-bottom\": \"12px !important\"\n  }\n};\nconst _hoisted_5$1 = {\n  class: \"wrap-text\"\n};\nconst _hoisted_6$1 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"spacer\"\n}, null, -1);\nconst _hoisted_7$1 = {\n  class: \"flex-row flex-wrap flex-center\"\n};\nconst _hoisted_8$1 = {\n  class: \"link\"\n};\nconst _hoisted_9$1 = [\"onClick\"];\nconst _sfc_main$4 = defineComponent({\n  __name: \"LoginNotSupported\",\n  setup(__props) {\n    const {\n      t\n    } = useLocale();\n    const {\n      emitEvent: emitEvent2\n    } = useAuthEvent();\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      emitEvent2({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$3, [createBaseVNode(\"div\", _hoisted_2$2, toDisplayString(unref(t)(\"login-not-supported\")), 1), createBaseVNode(\"figure\", _hoisted_3$2, [createVNode(unref(InlineSvg), {\n        src: unref(Icons).passkeyArrow,\n        alt: \"Device not supported\",\n        style: {\n          \"margin\": \"5px\"\n        }\n      }, null, 8, [\"src\"])]), createBaseVNode(\"div\", _hoisted_4$1, toDisplayString(unref(t)(\"passkeys-are-now-required\")), 1), createBaseVNode(\"div\", _hoisted_5$1, toDisplayString(unref(t)(\"please-contact-support-to-regain-access\")), 1), _hoisted_6$1, createBaseVNode(\"div\", _hoisted_7$1, [createBaseVNode(\"div\", _hoisted_8$1, [createBaseVNode(\"a\", {\n        onClick: withModifiers(changeEmail, [\"prevent\"]),\n        role: \"button\",\n        \"data-test\": \"change-email-button\"\n      }, toDisplayString(unref(t)(\"back\")), 9, _hoisted_9$1)])])]);\n    };\n  }\n});\nconst _sfc_main$3 = defineComponent({\n  __name: \"LoginNotSupportedView\",\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$4);\n    };\n  }\n});\nconst AuthRoute = {\n  component: _sfc_main$r\n};\nconst LoginRoute = {\n  component: _sfc_main$o\n};\nconst RegisterRoute = {\n  component: _sfc_main$n\n};\nconst RegisterDeviceRoute = {\n  component: _sfc_main$g\n};\nconst MagicLinkRoute = {\n  component: _sfc_main$k\n};\nconst WebauthnSignInRoute = {\n  component: _sfc_main$e\n};\nconst ActivateMagicLinkRoute = {\n  component: _sfc_main$p\n};\nconst OneTimePasscodeRoute = {\n  component: _sfc_main$a\n};\nconst AddDeviceRoute = {\n  component: _sfc_main$8\n};\nconst DisableFallbacksRoute = {\n  component: _sfc_main$5\n};\nconst LoginNotSupportedRoute = {\n  component: _sfc_main$3\n};\nconst ELEMENT_CUSTOMIZATION_FIELD_TO_CSS_VAR_NAME = {\n  passage_container_background_color: \"--passage-container-background-color-default\",\n  passage_container_max_width: \"--passage-container-max-width-default\",\n  passage_input_box_background_color: \"--passage-input-box-background-color-default\",\n  passage_input_box_border_radius: \"--passage-input-box-border-radius-default\",\n  passage_header_font_family: \"--passage-header-font-family-default\",\n  passage_body_font_family: \"--passage-body-font-family-default\",\n  passage_header_text_color: \"--passage-header-text-color-default\",\n  passage_body_text_color: \"--passage-body-text-color-default\",\n  passage_primary_button_background_color: \"--passage-primary-button-background-color-default\",\n  passage_primary_button_text_color: \"--passage-primary-button-text-color-default\",\n  passage_primary_button_hover_color: \"--passage-primary-button-background-hover-color-default\",\n  passage_primary_button_border_radius: \"--passage-primary-button-border-radius-default\",\n  passage_primary_button_border_color: \"--passage-primary-button-border-color-default\",\n  passage_primary_button_border_width: \"--passage-primary-button-border-width-default\",\n  passage_secondary_button_background_color: \"--passage-secondary-button-background-color-default\",\n  passage_secondary_button_text_color: \"-passage-secondary-button-text-color-default\",\n  passage_secondary_button_hover_color: \"--passage-secondary-button-background-hover-color-default\",\n  passage_secondary_button_border_radius: \"--passage-secondary-button-border-radius-default\",\n  passage_secondary_button_border_color: \"--passage-secondary-button-border-color-default\",\n  passage_secondary_button_border_width: \"--passage-secondary-button-border-width-default\"\n};\nconst PIXEL_ELEMENT_CUSTOMIZATION_FIELDS = {\n  passage_container_max_width: \"passage_container_max_width\",\n  passage_input_box_border_radius: \"passage_input_box_border_radius\",\n  passage_primary_button_border_radius: \"passage_primary_button_border_radius\",\n  passage_primary_button_border_width: \"passage_primary_button_border_width\",\n  passage_secondary_button_border_radius: \"passage_secondary_button_border_radius\",\n  passage_secondary_button_border_width: \"passage_secondary_button_border_width\"\n};\nfunction transformToPixelString(cssValue) {\n  return `${cssValue}px`;\n}\nfunction useElementCustomization() {\n  const setCustomElementStyles = (authContainerRef, elementCustomization) => {\n    Object.entries(elementCustomization).forEach(entry => {\n      const [cssAttribute, cssValue] = entry;\n      let transformedCssValue = cssValue;\n      if (Object.values(PIXEL_ELEMENT_CUSTOMIZATION_FIELDS).includes(cssAttribute)) {\n        transformedCssValue = transformToPixelString(cssValue);\n      }\n      authContainerRef.style.setProperty(ELEMENT_CUSTOMIZATION_FIELD_TO_CSS_VAR_NAME[cssAttribute], transformedCssValue);\n    });\n  };\n  return {\n    setCustomElementStyles\n  };\n}\nclass Router {\n  constructor(homeRoute) {\n    this._homeRoute = AuthRoute;\n    this._history = [];\n    if (homeRoute !== void 0) {\n      this._homeRoute = homeRoute;\n    }\n  }\n  get homeRoute() {\n    return this._homeRoute;\n  }\n  set homeRoute(homeRoute) {\n    this._homeRoute = homeRoute;\n  }\n  get currentRoute() {\n    if (this._history.length === 0) {\n      return void 0;\n    }\n    return this._history[this._history.length - 1];\n  }\n  push(route, props) {\n    this._history.push(__spreadProps(__spreadValues({}, route), {\n      props\n    }));\n  }\n  resetRouter() {\n    this._history = [];\n  }\n}\nconst _hoisted_1$2 = {\n  class: \"debug-router\"\n};\nconst _hoisted_2$1 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"section-label\"\n}, \"View\", -1);\nconst _hoisted_3$1 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"section-label\"\n}, \"Props\", -1);\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Identifier\", -1);\nconst _hoisted_6 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Identifier Type\", -1);\nconst _hoisted_7 = {\n  key: 1\n};\nconst _hoisted_8 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Identifier\", -1);\nconst _hoisted_9 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Identifier Type\", -1);\nconst _hoisted_10 = {\n  key: 2\n};\nconst _hoisted_11 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Identifier\", -1);\nconst _hoisted_12 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Identifier Type\", -1);\nconst _hoisted_13 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Setup New Device\", -1);\nconst _hoisted_14 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"User Is Registering\", -1);\nconst _hoisted_15 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Verifying Identifier\", -1);\nconst _hoisted_16 = {\n  key: 3\n};\nconst _hoisted_17 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Identifier\", -1);\nconst _hoisted_18 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Identifier Type\", -1);\nconst _hoisted_19 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Setup New Device\", -1);\nconst _hoisted_20 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"User Is Registering\", -1);\nconst _hoisted_21 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Verifying Identifier\", -1);\nconst _hoisted_22 = {\n  key: 4\n};\nconst _hoisted_23 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"control-label\"\n}, \"Magic Link\", -1);\nconst _hoisted_24 = {\n  key: 5\n};\nconst _hoisted_25 = [\"onClick\"];\nconst identifier = `authenticator@passage.id`;\nconst _sfc_main$2 = defineComponent({\n  __name: \"DebugRouter\",\n  props: {\n    router: {},\n    appInfo: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const views = ref([{\n      name: \"Main View\",\n      value: {\n        route: props.router.homeRoute,\n        key: \"MAINVIEW\"\n      }\n    }, {\n      name: \"Register Device\",\n      value: {\n        route: RegisterDeviceRoute,\n        key: \"REGISTERDEVICE\"\n      }\n    }, {\n      name: \"Webauthnn Login\",\n      value: {\n        route: WebauthnSignInRoute,\n        key: \"WEBAUTHNSIGNIN\"\n      }\n    }, {\n      name: \"One Time Passcode\",\n      value: {\n        route: OneTimePasscodeRoute,\n        key: \"OTP\"\n      }\n    }, {\n      name: \"Maigc Link\",\n      value: {\n        route: MagicLinkRoute,\n        key: \"MAGICLINK\"\n      }\n    }, {\n      name: \"Activate Magic Link\",\n      value: {\n        route: ActivateMagicLinkRoute,\n        key: \"ACTIVATEMAGICLINK\"\n      }\n    }, {\n      name: \"Add Device\",\n      value: {\n        route: AddDeviceRoute,\n        key: \"ADDDEVICE\"\n      }\n    }, {\n      name: \"Device Not Supported\",\n      value: {\n        route: DisableFallbacksRoute,\n        key: \"DEVICENOTSUPPORTED\"\n      }\n    }, {\n      name: \"Login Not Supported\",\n      value: {\n        route: LoginNotSupportedRoute,\n        key: \"LOGINNOTSUPPORTED\"\n      }\n    }]);\n    const selectedRoute = ref(views.value[0].value);\n    const browserFeatures = {\n      securityKey: true,\n      platform: true,\n      syncedCredential: true,\n      crossDeviceCredential: true,\n      conditionalUI: true,\n      isAvailable: true\n    };\n    const {\n      passage\n    } = usePassage();\n    passage.getCredentialAvailable().then(browserFeatures2 => registerDeviceProps.browserFeatures = browserFeatures2);\n    passage.getCurrentSession().getAuthToken().then(authToken => {\n      addDeviceProps.authResult.auth_token = authToken;\n    }).catch(() => {});\n    const identifierTypes = [{\n      name: \"Email\",\n      value: IdentifierType.email\n    }, {\n      name: \"Phone\",\n      value: IdentifierType.phone\n    }];\n    const mainViewProps = reactive({\n      register: false,\n      appInfo: props.appInfo\n    });\n    const registerDeviceProps = reactive({\n      identifier,\n      identifierType: IdentifierType.email,\n      appInfo: props.appInfo,\n      browserFeatures\n    });\n    const webauthnSignInProps = reactive({\n      identifier,\n      identifierType: IdentifierType.email,\n      appInfo: props.appInfo\n    });\n    const otpProps = reactive({\n      identifier,\n      identifierType: IdentifierType.email,\n      setupNewDevice: false,\n      userIsRegistering: false,\n      identifierVerifying: false\n    });\n    const magicLinkProps = reactive({\n      identifier,\n      identifierType: IdentifierType.email,\n      setupNewDevice: false,\n      userIsRegistering: false,\n      identifierVerifying: false\n    });\n    const activateMagicLinkProps = reactive({\n      magicLink: \"\",\n      webauthnAllowed: true\n    });\n    const addDeviceProps = reactive({\n      authResult: {\n        redirect_url: props.appInfo.redirect_url,\n        auth_token: \"\"\n      }\n    });\n    function goToView() {\n      let viewProps = void 0;\n      switch (selectedRoute.value.key) {\n        case \"MAINVIEW\":\n          viewProps = mainViewProps;\n          break;\n        case \"REGISTERDEVICE\":\n          viewProps = registerDeviceProps;\n          break;\n        case \"WEBAUTHNSIGNIN\":\n          viewProps = webauthnSignInProps;\n          break;\n        case \"OTP\":\n          viewProps = otpProps;\n          break;\n        case \"MAGICLINK\":\n          viewProps = magicLinkProps;\n          break;\n        case \"ACTIVATEMAGICLINK\":\n          viewProps = activateMagicLinkProps;\n          break;\n        case \"ADDDEVICE\":\n          viewProps = addDeviceProps;\n          break;\n        case \"DEVICENOTSUPPORTED\":\n        case \"LOGINNOTSUPPORTED\":\n          viewProps = void 0;\n          break;\n      }\n      props.router.push(selectedRoute.value.route, viewProps);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$2, [_hoisted_2$1, createVNode(Dropdown, {\n        modelValue: selectedRoute.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => selectedRoute.value = $event),\n        items: views.value\n      }, null, 8, [\"modelValue\", \"items\"]), _hoisted_3$1, selectedRoute.value.key === \"REGISTERDEVICE\" ? (openBlock(), createElementBlock(\"div\", _hoisted_4, [_hoisted_5, withDirectives(createBaseVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => registerDeviceProps.identifier = $event),\n        type: \"text\",\n        class: \"input psg-input\"\n      }, null, 512), [[vModelText, registerDeviceProps.identifier]]), _hoisted_6, createVNode(Dropdown, {\n        modelValue: registerDeviceProps.identifierType,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => registerDeviceProps.identifierType = $event),\n        items: identifierTypes\n      }, null, 8, [\"modelValue\"])])) : selectedRoute.value.key === \"WEBAUTHNSIGNIN\" ? (openBlock(), createElementBlock(\"div\", _hoisted_7, [_hoisted_8, withDirectives(createBaseVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => webauthnSignInProps.identifier = $event),\n        type: \"text\",\n        class: \"input psg-input\"\n      }, null, 512), [[vModelText, webauthnSignInProps.identifier]]), _hoisted_9, createVNode(Dropdown, {\n        modelValue: webauthnSignInProps.identifierType,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => webauthnSignInProps.identifierType = $event),\n        items: identifierTypes\n      }, null, 8, [\"modelValue\"])])) : selectedRoute.value.key === \"OTP\" ? (openBlock(), createElementBlock(\"div\", _hoisted_10, [_hoisted_11, withDirectives(createBaseVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => otpProps.identifier = $event),\n        type: \"text\",\n        class: \"input psg-input\"\n      }, null, 512), [[vModelText, otpProps.identifier]]), _hoisted_12, createVNode(Dropdown, {\n        modelValue: otpProps.identifierType,\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => otpProps.identifierType = $event),\n        items: identifierTypes\n      }, null, 8, [\"modelValue\"]), _hoisted_13, createVNode(Checkbox, {\n        modelValue: otpProps.setupNewDevice,\n        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => otpProps.setupNewDevice = $event)\n      }, null, 8, [\"modelValue\"]), _hoisted_14, createVNode(Checkbox, {\n        modelValue: otpProps.userIsRegistering,\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => otpProps.userIsRegistering = $event)\n      }, null, 8, [\"modelValue\"]), _hoisted_15, createVNode(Checkbox, {\n        modelValue: otpProps.identifierVerifying,\n        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => otpProps.identifierVerifying = $event)\n      }, null, 8, [\"modelValue\"])])) : selectedRoute.value.key === \"MAGICLINK\" ? (openBlock(), createElementBlock(\"div\", _hoisted_16, [_hoisted_17, withDirectives(createBaseVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => magicLinkProps.identifier = $event),\n        type: \"text\",\n        class: \"input psg-input\"\n      }, null, 512), [[vModelText, magicLinkProps.identifier]]), _hoisted_18, createVNode(Dropdown, {\n        modelValue: magicLinkProps.identifierType,\n        \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => magicLinkProps.identifierType = $event),\n        items: identifierTypes\n      }, null, 8, [\"modelValue\"]), _hoisted_19, createVNode(Checkbox, {\n        modelValue: magicLinkProps.setupNewDevice,\n        \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => magicLinkProps.setupNewDevice = $event)\n      }, null, 8, [\"modelValue\"]), _hoisted_20, createVNode(Checkbox, {\n        modelValue: magicLinkProps.userIsRegistering,\n        \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => magicLinkProps.userIsRegistering = $event)\n      }, null, 8, [\"modelValue\"]), _hoisted_21, createVNode(Checkbox, {\n        modelValue: magicLinkProps.identifierVerifying,\n        \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => magicLinkProps.identifierVerifying = $event)\n      }, null, 8, [\"modelValue\"])])) : selectedRoute.value.key === \"ACTIVATEMAGICLINK\" ? (openBlock(), createElementBlock(\"div\", _hoisted_22, [_hoisted_23, withDirectives(createBaseVNode(\"input\", {\n        \"onUpdate:modelValue\": _cache[15] || (_cache[15] = $event => activateMagicLinkProps.magicLink = $event),\n        type: \"text\",\n        class: \"input psg-input\"\n      }, null, 512), [[vModelText, activateMagicLinkProps.magicLink]])])) : (openBlock(), createElementBlock(\"div\", _hoisted_24, \"None\")), createBaseVNode(\"button\", {\n        class: \"button\",\n        onClick: withModifiers(goToView, [\"prevent\"])\n      }, \"Go To View\", 8, _hoisted_25)]);\n    };\n  }\n});\nconst _hoisted_1$1 = /* @__PURE__ */createBaseVNode(\"div\", {\n  class: \"header-title\"\n}, \"Passage Element Debug\", -1);\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = {\n  class: \"debug-panel-body\"\n};\nconst _sfc_main$1 = defineComponent({\n  __name: \"DebugPanel\",\n  props: {\n    router: {},\n    appInfo: {}\n  },\n  setup(__props) {\n    const debugBuild = false;\n    const debugPanel = ref();\n    const panelVisible = ref(false);\n    function closeDebugPanel() {\n      panelVisible.value = false;\n    }\n    let pos1 = 0;\n    let pos2 = 0;\n    let pos3 = 0;\n    let pos4 = 0;\n    function dragMouseDown(e) {\n      e = e || window.event;\n      e.preventDefault();\n      pos3 = e.clientX;\n      pos4 = e.clientY;\n      document.onmouseup = closeDragElement;\n      document.onmousemove = elementDrag;\n    }\n    function elementDrag(e) {\n      e = e || window.event;\n      e.preventDefault();\n      pos1 = pos3 - e.clientX;\n      pos2 = pos4 - e.clientY;\n      pos3 = e.clientX;\n      pos4 = e.clientY;\n      if (debugPanel.value) {\n        debugPanel.value.style.top = debugPanel.value.offsetTop - pos2 + \"px\";\n        debugPanel.value.style.left = debugPanel.value.offsetLeft - pos1 + \"px\";\n      }\n    }\n    function closeDragElement() {\n      document.onmouseup = null;\n      document.onmousemove = null;\n    }\n    return (_ctx, _cache) => {\n      return debugBuild && panelVisible.value ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: \"debug-panel\",\n        ref_key: \"debugPanel\",\n        ref: debugPanel\n      }, [createBaseVNode(\"div\", {\n        class: \"debug-panel-header\",\n        onMousedown: dragMouseDown\n      }, [_hoisted_1$1, createBaseVNode(\"div\", {\n        class: \"panel-close\",\n        onClick: withModifiers(closeDebugPanel, [\"prevent\"])\n      }, \"\\xD7\", 8, _hoisted_2)], 32), createBaseVNode(\"div\", _hoisted_3, [createVNode(_sfc_main$2, {\n        \"app-info\": _ctx.appInfo,\n        router: _ctx.router\n      }, null, 8, [\"app-info\", \"router\"])])], 512)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nconst _hoisted_1 = {\n  key: 1,\n  class: \"notification is-danger has-text-centered\",\n  \"data-test\": \"invalid-app-id\"\n};\nconst _sfc_main = defineComponent({\n  __name: \"SmartRouter\",\n  props: {\n    homeRoute: {},\n    authContainerRef: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const router = reactive(new Router(props.homeRoute));\n    const currentRoute = computed(() => router.currentRoute);\n    const {\n      t\n    } = useLocale();\n    const {\n      appInfo,\n      loading,\n      invalidAppId,\n      passage\n    } = useAppInfo();\n    const {\n      initEventHandler: initEventHandler2\n    } = useAuthEvent();\n    const {\n      setCustomElementStyles\n    } = useElementCustomization();\n    const currentComponent = computed(() => {\n      var _a;\n      return (_a = currentRoute.value) == null ? void 0 : _a.component;\n    });\n    const currentProps = computed(() => {\n      var _a;\n      const props2 = (_a = currentRoute.value) == null ? void 0 : _a.props;\n      if (props2 === void 0) {\n        return {};\n      }\n      return props2;\n    });\n    const initialized = ref(false);\n    watch(appInfo, () => __async(this, null, function* () {\n      initialized.value = false;\n      if (appInfo.value === void 0 || passage.value === void 0) {\n        return;\n      }\n      yield initEventHandler2(appInfo.value, router, passage.value);\n      initialized.value = true;\n      if (props.authContainerRef) {\n        setCustomElementStyles(props.authContainerRef, appInfo.value.element_customization);\n      }\n    }));\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [createVNode(Transition, {\n        name: \"fade\",\n        mode: \"out-in\",\n        appear: \"\"\n      }, {\n        default: withCtx(() => [!unref(loading) && initialized.value ? (openBlock(), createBlock(resolveDynamicComponent(currentComponent.value), normalizeProps(mergeProps({\n          key: 0\n        }, currentProps.value)), {\n          otpInput: withCtx(() => [renderSlot(_ctx.$slots, \"otpInput\")]),\n          loginInput: withCtx(() => [renderSlot(_ctx.$slots, \"loginInput\")]),\n          _: 3\n        }, 16)) : createCommentVNode(\"\", true)]),\n        _: 3\n      }), unref(appInfo) && initialized.value ? (openBlock(), createBlock(_sfc_main$1, {\n        key: 0,\n        router,\n        \"app-info\": unref(appInfo)\n      }, null, 8, [\"router\", \"app-info\"])) : createCommentVNode(\"\", true), unref(invalidAppId) ? (openBlock(), createElementBlock(\"div\", _hoisted_1, toDisplayString(unref(t)(\"invalid-app-id\")), 1)) : createCommentVNode(\"\", true)], 64);\n    };\n  }\n});\nfunction useElementSetup(props) {\n  function storeProps() {\n    if (props.appId) {\n      createPassageInstance(props.appId, props.tokenStore);\n    }\n    const {\n      updateDefaultCountryCode\n    } = useDefaultCountryCode();\n    updateDefaultCountryCode(props.defaultCountryCode);\n    const {\n      setBeforeAuth: setBeforeAuth2,\n      setOnSuccess: setOnSuccess2,\n      setOnEvent: setOnEvent2\n    } = useCallbacks();\n    setBeforeAuth2(props.beforeAuth);\n    setOnSuccess2(props.onSuccess);\n    setOnEvent2(props.onEvent);\n  }\n  storeProps();\n  onBeforeUpdate(() => {\n    storeProps();\n  });\n  const {\n    languageLoading\n  } = useStoreLocale(props);\n  const containerRef = ref();\n  useIntlTelInput(containerRef);\n  return {\n    languageLoading,\n    containerRef\n  };\n}\nexport { AuthRoute as A, LoginRoute as L, RegisterRoute as R, _sfc_main as _, useElementSetup as u };\n//#","map":{"version":3,"names":["__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","throw","x","done","then","apply","f","ref","g","watch","d","defineComponent","h","useLocale","i","usePassage","j","computed","k","onMounted","l","ce","m","onBeforeUnmount","c","createElementBlock","w","withDirectives","v","vShow","createBaseVNode","n","createTextVNode","t","toDisplayString","u","unref","p","withModifiers","q","normalizeClass","vModelText","r","renderSlot","y","normalizeStyle","z","createCommentVNode","_","_export_sfc","o","openBlock","A","pushScopeId","B","popScopeId","C","re","D","readonly","E","he","W","U","UAParser","createBlock","withCtx","F","createVNode","G","I","Icons","H","InlineSvg","J","isRef","K","useDefaultCountryCode","P","T","Transition","L","Fragment","M","N","normalizeProps","O","guardReactiveProps","Q","vModelDynamic","R","renderList","S","useAddDevice","V","reactive","X","Dropdown","Y","useAppInfo","Z","mergeProps","$","resolveDynamicComponent","a0","onBeforeUpdate","a1","useStoreLocale","a2","useIntlTelInput","a3","createPassageInstance","intlTelInput","transformMetadata","LayoutType","UserMetadata","Checkbox","isStringNullish","IdentifierType","IdentifierType2","useAutofocusButton","autofocusButton","autofocus","focus","inputStyles","css","style","document","createElement","appendChild","createTextNode","itiStyles","link","rel","href","otcStyles","ValidatedIdentifierForm_vue_vue_type_style_index_0_scoped_true_lang","_withScopeId","_hoisted_1$r","class","_hoisted_2$i","_hoisted_3$g","_hoisted_4$e","_hoisted_5$d","_hoisted_6$b","_hoisted_7$b","_hoisted_8$9","_hoisted_9$9","_hoisted_10$6","_sfc_main$v","__name","props","validationError","default","identifier","countryCode","identifierMode","showWelcomeBack","type","Boolean","conditionalUI","emits","setup","__props","_ref","emit","identifierParseError","identifierInput","controlContainer","passage","showWelcomeUI","label","identifierType","phone","email","both","charAt","toUpperCase","slice","placeholder","inputMode","autocomplete","_a","identifierText","get","set","newIdentifier","formattedIdentifier","identifier2","isPhoneNumber","phoneInput","getNumber","trim","toLowerCase","error","clearErrors","checkIdentifier","validateInput","identifierExists","emailVerified","phoneVerified","webauthnTypes","userStatus","userID","userInfo","status","id","email_verified","phone_verified","webauthn_types","INACTIVE","errorMessage","isEmail","emailRegEx","test","isPhoneNumberRegex","isValidNumber","message","showCountryCode","addEventListener","getSelectedCountryData","iso2","initialCountry","utilsScript","dropdownContainer","autoPlaceholder","hideCountryCode","destroy","moveInput","phoneNumberRegex","countryCodeText","newValue","setCountry","switchAccount","identifierForm","parent","getRootNode","host","cleanupInput","remove","_ctx","_cache","ref_key","slot","onSubmit","$event","part","inputmode","onInput","$slots","onClick","role","ValidatedIdentifierForm","OnEventType","OnEventType2","defaultBeforeAuth","defaultOnSuccess","authResult2","window","location","redirect_url","defaultOnEvent","beforeAuth","onSuccess","onEvent","setBeforeAuth","newBeforeAuth","setOnSuccess","newOnSuccess","setOnEvent","newOnEvent","useCallbacks","storageKey","getLastLogin","localStorage","getItem","storeLastLogin","appInfo","identiferOrUserInfo","setItem","currentInfo","getCurrentUser","err","console","identifierToStore","allowed_identifier","createdUserEventHandler","payload","eventHandlerState","router","browserFeatures","emitEvent","emitEvent2","useAuthEvent","securityKey","require_identifier_verification","AuthEventType","FallbackAuth","identifierVerifying","userIsRegistering","userInitiated","onRegisterDevice","push","RegisterDeviceRoute","changeIdenfitierEventHandler","homeRoute","changeEmail","isWebauthnGetMonkeypatched","isGetNative","navigator","credentials","toString","includes","loginUserEventHandler","noFallback","auth_fallback_method","None","length","LoginNotSupportedRoute","userHasPasskey","Passkey","userHasPlatform","Platform","userHasSecurityKey","SecurityKey","verificationRequired","userNeedsToVerify","canTryPlaform","platform","credIDExists","canTryPasskey","syncedCredential","crossDeviceCredential","canTrySecurityKey","tryWebauthnWithNoFallback","tryNonNativeWebauthn","canTryWebAuthn","onVerifyIdentity","WebauthnSignInRoute","setupNewDevice","fallbackAuthEventHandler","authState","userInitiatedFallback","LoginCode","otpCallback","OneTimePasscodeRoute","MagicLink","magicLinkCallback","MagicLinkRoute","DisableFallbacksRoute","onMagicLinkRegister","onMagicLinkLogin","onOneTimePasscodeRegister","onOneTimePasscodeLogin","authSuccessEventHandler","authResult","auth_token","fallbackAuthSuccessEventHandler","webauthnAllowed","AddDeviceRoute","AuthSuccess","isSafariVersionLessThan164","userAgent","getBrowser","name","parseFloat","version","AuthEventType2","EventHandler","constructor","authOriginValid","isAvailable","initializeEventHandler","checkWebauthnConfig","getCredentialAvailable","checkMagicLink","handleEvent","event","queryString","search","urlParams","URLSearchParams","magicLink","has","ActivateMagicLinkRoute","eventHandler","initEventHandler","getEventHandler","_sfc_main$u","canToggleLoginRegister","visible","_ref2","newCountryCode","inputForm","onLoaded","triggerConditionalUI","beforeAuthResult","errorString","checkIdentifierExistsAndStatus","LoginUser","identiferString","public_signup","abortController","lastLogin","AbortController","loginConditional","signal","catch","cancelConditionalUI","abort","onOnSubmit","loginInput","_hoisted_1$q","_sfc_main$t","_ref3","publicSignup","validMetadata","metadataComponent","validate","ACTIVE","createUser","user_metadata","metadata","user_metadata_schema","startsWith","CreatedUser","metadataFields","layouts","registration","isEditing","layoutType","Registration","userMetadata","_hoisted_1$p","_hoisted_2$h","_hoisted_3$f","target","_sfc_main$s","passage_branding","src","poweredByPassage","alt","_hoisted_1$o","_hoisted_2$g","_hoisted_3$e","_hoisted_4$d","_hoisted_5$c","_hoisted_6$a","_hoisted_7$a","_hoisted_8$8","_hoisted_9$8","_hoisted_10$5","_sfc_main$r","register","showLogin","defaultCountryCode","changeInputPage","useUIState","showFailure","showSuccess","loading","pageLoading","title","uiSuccess","uiError","uiLoading","MagicLinkActionEnum","MagicLinkActionEnum2","useMagicLinkUtils","magicLinkAction","invalidMagicLink","isMagicLinkValid","searchParams","split","useMagicLinkActivation","_ref4","uiState","magicLinkUtils","onBeforeActivate","onActivateError","onActivateErrorInvalidMagicLink","onActivateSuccess","_0","_ref5","result","VERIFY","setTimeout","FallbackAuthSuccess","activateWithoutBiometrics","magicLinkActivate","statusCode","NotFound","_hoisted_1$n","_hoisted_2$f","_hoisted_3$d","_hoisted_4$c","_hoisted_5$b","_hoisted_6$9","_hoisted_7$9","_hoisted_8$7","_hoisted_9$7","_hoisted_10$4","_hoisted_11$4","_hoisted_12$4","_hoisted_13$4","_sfc_main$q","activation","onButtonClick","onMagicLinkActivateSuccess","mode","appear","success","failure","LOGIN","disabled","_hoisted_1$m","_sfc_main$p","_hoisted_1$l","_sfc_main$o","_hoisted_1$k","_sfc_main$n","_sfc_main$m","_hoisted_1$j","_hoisted_2$e","_sfc_render","$props","$setup","$data","$options","Spinner","_hoisted_1$i","_hoisted_2$d","_hoisted_3$c","_hoisted_4$b","_hoisted_5$a","_hoisted_6$8","_hoisted_7$8","_hoisted_8$6","_hoisted_9$6","_sfc_main$l","locale","messageValue","messageType","messageMedium","registrationType","loginMessage","magicLinkSendRegister","magicLinkSendLogin","removeItem","waitForActivatedMagicLink","ChangeIdentifier","resendMagicLink","showWaiting","res","newRegisterMagicLink","log","newLoginMagicLink","lookupMagicLink","lookupMagicLinkActivated","onMagicLinkActivated","getMagicLinkStatus","timer","count","delay","clearTimeout","innerHTML","_hoisted_1$h","_sfc_main$k","_hoisted_1$g","_hoisted_2$c","_hoisted_3$b","_hoisted_4$a","_hoisted_5$9","_sfc_main$j","showModal","close","_hoisted_1$f","_hoisted_2$b","_hoisted_3$a","_hoisted_4$9","_hoisted_5$8","_hoisted_6$7","_hoisted_7$7","_sfc_main$i","cta","body","privateIcon","secure","simple","_hoisted_1$e","_hoisted_2$a","_hoisted_3$9","_hoisted_4$8","_hoisted_5$7","_hoisted_6$6","_hoisted_7$6","_hoisted_8$5","_hoisted_9$5","_hoisted_10$3","_hoisted_11$3","_hoisted_12$3","_hoisted_13$3","_hoisted_14$3","_hoisted_15$3","_hoisted_16$3","_hoisted_17$2","_hoisted_18$1","_hoisted_19$1","_hoisted_20$1","_hoisted_21$1","_hoisted_22$1","_hoisted_23$1","_hoisted_24$1","_sfc_main$h","te","supportsPlatform","supportsCrossPlatform","fallbackAuth","supportsFallback","fallbackRegisterWithCodeEmailOrTextBtnCopy","fallbackSendCodeEmailOrTextBtnCopy","failureCreateText","previousAttachment","signUpWebAuthn","authenticatorAttachment","registerWithFallback","primaryRegister","CrossPlatform","secondaryRegister","tryAgain","passkey","tabindex","_sfc_main$g","_hoisted_1$d","_hoisted_2$9","_hoisted_3$8","_hoisted_4$7","_hoisted_5$6","_hoisted_6$5","_hoisted_7$5","_hoisted_8$4","_hoisted_9$4","_hoisted_10$2","_hoisted_11$2","_hoisted_12$2","_hoisted_13$2","_hoisted_14$2","_hoisted_15$2","_hoisted_16$2","_sfc_main$f","loginWithCodeEmailOrTextBtnCopy","failureLoginText","signInWebAuthn","login","PSGParsePublicKeyForLoginFailed","loginWithFallback","_hoisted_1$c","_sfc_main$e","_hoisted_1$b","_hoisted_2$8","_hoisted_3$7","_hoisted_4$6","_sfc_main$d","conditionalClass","inputClasses","inputType","isDisabled","isLastChild","separator","shouldAutoFocus","isFirstChild","inputIdx","inputCount","_ref6","model","input","inputTypeValue","handleOnChange","isCodeLetter","charCode","isCodeNumeric","handleOnKeyDown","preventDefault","keyEvent","which","keyCode","handleOnPaste","handleOnFocus","select","handleOnBlur","oldValue","newFocusValue","oldFocusValue","inputtype","pattern","maxlength","min","max","onKeydown","onPaste","onFocus","onBlur","_hoisted_1$a","_hoisted_2$7","_sfc_main$c","numInputs","disableNonCurrent","_ref7","activeInput","otp","oldOtp","val","fill","padEnd","immediate","index","checkFilledAllInputs","join","focusInput","Math","focusNextInput","focusPrevInput","changeCodeAtFocus","assign","pastedData","clipboardData","getData","match","currentCharsInOTP","combinedWithPastedData","concat","forEach","onOnChange","onOnKeydown","onOnPaste","onOnFocus","onOnBlur","_hoisted_1$9","_hoisted_2$6","_hoisted_3$6","_hoisted_4$5","_hoisted_5$5","_hoisted_6$4","_hoisted_7$4","_hoisted_8$3","_hoisted_9$3","_hoisted_10$1","_hoisted_11$1","_hoisted_12$1","_hoisted_13$1","_hoisted_14$1","_hoisted_15$1","_hoisted_16$1","_hoisted_17$1","disableInputsOnSendCodeError","_sfc_main$b","_this","oneTimePasscode","errorWithOneTimePasscode","errorSendingOneTimePasscode","otpId","btnGoBackText","btnResendText","oneTimePasscodeInputClasses","oneTimePasscodeInputsDisabled","continueBtnDisabled","_resetErrorState","activateOneTimePasscode","sendOneTimePasscode","isRegistering","arguments","undefined","_resetLoadingState","_resetOneTimePasscode","newRegisterOneTimePasscode","newLoginOneTimePasscode","otp_id","setError","Error","oneTimePasscodeActivate","onOneTimePasscodeActivated","onGoBackClicked","onResendCodeClicked","onSubmitClicked","message2","sending","otpInput","_hoisted_1$8","_sfc_main$a","_hoisted_1$7","_hoisted_2$5","_hoisted_3$5","_hoisted_4$4","_hoisted_5$4","_hoisted_6$3","_hoisted_7$3","_hoisted_8$2","_hoisted_9$2","_sfc_main$9","newDevice","addDevice","addPending","finishAuth","fingerprintFailed","_hoisted_1$6","_sfc_main$8","_hoisted_1$5","_hoisted_2$4","_hoisted_3$4","_hoisted_4$3","_hoisted_5$3","_sfc_main$7","_hoisted_1$4","_hoisted_2$3","_hoisted_3$3","_hoisted_4$2","_hoisted_5$2","_hoisted_6$2","_hoisted_7$2","_sfc_main$6","passkeyArrow","_sfc_main$5","_hoisted_1$3","_hoisted_2$2","_hoisted_3$2","_hoisted_4$1","_hoisted_5$1","_hoisted_6$1","_hoisted_7$1","_hoisted_8$1","_hoisted_9$1","_sfc_main$4","_sfc_main$3","AuthRoute","component","LoginRoute","RegisterRoute","ELEMENT_CUSTOMIZATION_FIELD_TO_CSS_VAR_NAME","passage_container_background_color","passage_container_max_width","passage_input_box_background_color","passage_input_box_border_radius","passage_header_font_family","passage_body_font_family","passage_header_text_color","passage_body_text_color","passage_primary_button_background_color","passage_primary_button_text_color","passage_primary_button_hover_color","passage_primary_button_border_radius","passage_primary_button_border_color","passage_primary_button_border_width","passage_secondary_button_background_color","passage_secondary_button_text_color","passage_secondary_button_hover_color","passage_secondary_button_border_radius","passage_secondary_button_border_color","passage_secondary_button_border_width","PIXEL_ELEMENT_CUSTOMIZATION_FIELDS","transformToPixelString","cssValue","useElementCustomization","setCustomElementStyles","authContainerRef","elementCustomization","entries","entry","cssAttribute","transformedCssValue","values","setProperty","Router","_homeRoute","_history","currentRoute","route","resetRouter","_hoisted_1$2","_hoisted_2$1","_hoisted_3$1","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_sfc_main$2","views","selectedRoute","browserFeatures2","registerDeviceProps","getCurrentSession","getAuthToken","authToken","addDeviceProps","identifierTypes","mainViewProps","webauthnSignInProps","otpProps","magicLinkProps","activateMagicLinkProps","goToView","viewProps","modelValue","items","_hoisted_1$1","_hoisted_2","_hoisted_3","_sfc_main$1","debugBuild","debugPanel","panelVisible","closeDebugPanel","pos1","pos2","pos3","pos4","dragMouseDown","clientX","clientY","onmouseup","closeDragElement","onmousemove","elementDrag","top","offsetTop","left","offsetLeft","onMousedown","_hoisted_1","_sfc_main","invalidAppId","initEventHandler2","currentComponent","currentProps","props2","initialized","element_customization","useElementSetup","storeProps","appId","tokenStore","updateDefaultCountryCode","setBeforeAuth2","setOnSuccess2","setOnEvent2","languageLoading","containerRef"],"sources":["/Users/ingridf/Documents/chase-runner/node_modules/@passageidentity/passage-elements/dist/package/customElements.es2.js"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nimport { f as ref, g as watch, d as defineComponent, h as useLocale, i as usePassage, j as computed, k as onMounted, l as ce, m as onBeforeUnmount, c as createElementBlock, w as withDirectives, v as vShow, a as createBaseVNode, n as createTextVNode, t as toDisplayString, u as unref, p as withModifiers, q as normalizeClass, x as vModelText, r as renderSlot, y as normalizeStyle, z as createCommentVNode, _ as _export_sfc, o as openBlock, A as pushScopeId, B as popScopeId, C as re, D as readonly, E as he, W, U as UAParser, b as createBlock, e as withCtx, F as createVNode, G as h, I as Icons, H as InlineSvg, J as isRef, K as useDefaultCountryCode, P, T as Transition, L as Fragment, M as E, N as normalizeProps, O as guardReactiveProps, Q as vModelDynamic, R as renderList, S as useAddDevice, V as reactive, X as Dropdown, Y as useAppInfo, Z as mergeProps, $ as resolveDynamicComponent, a0 as onBeforeUpdate, a1 as useStoreLocale, a2 as useIntlTelInput, a3 as createPassageInstance } from \"./customElements.es.js\";\nimport { i as intlTelInput, t as transformMetadata, L as LayoutType, U as UserMetadata, C as Checkbox } from \"./customElements.es3.js\";\nfunction isStringNullish(value) {\n  return value === void 0 || value === null || value === \"\" || value === \" \";\n}\nvar IdentifierType = /* @__PURE__ */ ((IdentifierType2) => {\n  IdentifierType2[\"phone\"] = \"PHONE\";\n  IdentifierType2[\"email\"] = \"EMAIL\";\n  return IdentifierType2;\n})(IdentifierType || {});\nfunction useAutofocusButton() {\n  const autofocusButton = ref();\n  function autofocus() {\n    if (autofocusButton.value === void 0 || autofocusButton.value === null) {\n      return;\n    }\n    autofocusButton.value.focus();\n  }\n  watch(autofocusButton, () => {\n    autofocus();\n  });\n  return {\n    autofocusButton\n  };\n}\nfunction inputStyles() {\n  const css = `\n      .psg-input{\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        box-sizing: border-box;\n        color: var(--passage-input-text-color, var(--passage-body-text-color-default));\n        font-family: var(--passage-body-font-family, var(--passage-body-font-family-default));\n        font-size: var(--passage-body-font-size, var(--passage-body-font-size-default));\n        font-weight: var(--passage-body-font-weight, var(--passage-body-font-weight-default));\n\n        min-height: 40px;\n        width: 100%;\n\n        padding-left: 10px;\n        padding-right: 10px;\n        margin: 0;\n\n        background-color: var(--passage-input-box-background-color, var(--passage-input-box-background-color-default));\n        border-style: solid;\n        border-color: var(--passage-control-border-color, var(--passage-control-border-color-default));\n        border-width: 1px;\n        border-radius: var(--passage-input-box-border-radius, var(--passage-input-box-border-radius-default));\n\n        transition: all 0.3s;\n\n        text-overflow: ellipsis;\n      }\n\n      .psg-input:focus{\n        outline: none;\n        box-shadow: none !important;\n        border-color: var(--passage-control-border-active-color, var(--passage-control-border-active-color-default));\n      }\n\n      .psg-input:active{\n        outline: none;\n        box-shadow: none !important;\n        border-color: var(--passage-control-border-active-color, var(--passage-control-border-active-color-default));\n      }\n\n      .psg-input.has-error{\n        border-color: var(--passage-error-color, var(--passage-error-color-default));\n      }\n      .psg-input.is-danger{\n        border-color: var(--passage-error-color, var(--passage-error-color-default));\n      }\n      .iti {\n        width: 100%;\n      }\n\n        .iti__country-list {\n            border-radius: 6px;\n        }\n\n        .iti__country {\n            padding: 5px 10px;\n        }\n\n        .iti__selected-flag {\n            border-top-left-radius: var(--passage-control-border-radius, var(--passage-input-box-border-radius-default));\n            border-bottom-left-radius: var(--passage-control-border-radius, var(--passage-input-box-border-radius-default));\n        }\n\n    .iti--container {\n        top: unset !important;\n        left: unset !important;\n    }`;\n  const style = document.createElement(\"style\");\n  style.appendChild(document.createTextNode(css));\n  return style;\n}\nfunction itiStyles() {\n  const link = document.createElement(\"link\");\n  link.rel = \"stylesheet\";\n  link.href = \"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.16/css/intlTelInput.css\";\n  return link;\n}\nfunction otcStyles() {\n  const css = `\n      .psg-otp-input-container{\n        margin: 0px;\n        padding: 0px;\n        align-items: center;\n        height: auto;\n        width: auto;\n      }\n      .psg-otp-single-input-container{\n        margin: 0px;\n        padding: 0px;\n        height: auto;\n        width: auto;\n      }\n      .psg-otp-input {\n        width: 40px;\n        height: 40px;\n        padding: 0px;\n        margin-left: 4px;\n        margin-right: 4px;\n        font-size: 24px;\n        font-weight: 400;\n        color: var(--passage-input-text-color, var(--passage-body-text-color-default));\n        font-family: var(--passage-body-font-family, var(--passage-body-font-family-default));\n        line-height: 29px;\n        border-radius: 4px;\n        border: 1px solid transparent;\n        text-align: center;\n        background-color: var(--passage-otp-input-background-color, var(--passage-otp-input-background-color-default));\n        -moz-appearance: textfield;\n      }\n      .psg-otp-input:read-only {\n        background-color: var(--passage-otp-input-background-color, var(--passage-otp-input-background-color-default));\n      }\n      .psg-otp-input::-webkit-inner-spin-button{\n        -webkit-appearance: none;\n        display: none;\n        margin: 0;\n      }\n      .psg-otp-input::-webkit-outer-spin-button{\n        -webkit-appearance: none;\n        display: none;\n        margin: 0;\n      }\n      .psg-input.has-error{\n        border-color: var(--passage-error-color, var(--passage-error-color-default)) !important;\n      }\n      .psg-input.is-danger {\n        border-color: var(--passage-error-color, var(--passage-error-color-default)) !important;\n      }\n      .psg-input:focus {\n        outline: none;\n        box-shadow: none !important;\n        border-color: var(--passage-control-border-active-color, var(--passage-control-border-active-color-default));\n      }\n      .psg-input:active {\n        outline: none;\n        box-shadow: none !important;\n        border-color: var(--passage-control-border-active-color, var(--passage-control-border-active-color-default));\n      }`;\n  const style = document.createElement(\"style\");\n  style.appendChild(document.createTextNode(css));\n  return style;\n}\nvar ValidatedIdentifierForm_vue_vue_type_style_index_0_scoped_true_lang = \"\";\nconst _withScopeId = (n) => (pushScopeId(\"data-v-1ea7af8c\"), n = n(), popScopeId(), n);\nconst _hoisted_1$r = { class: \"identifier-form\" };\nconst _hoisted_2$i = { class: \"has-text-centered\" };\nconst _hoisted_3$g = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createBaseVNode(\"br\", null, null, -1));\nconst _hoisted_4$e = { class: \"identifier-text\" };\nconst _hoisted_5$d = [\"onSubmit\"];\nconst _hoisted_6$b = [\"autocomplete\", \"inputmode\", \"placeholder\", \"onInput\"];\nconst _hoisted_7$b = { class: \"flex-row flex-center\" };\nconst _hoisted_8$9 = [\"onClick\"];\nconst _hoisted_9$9 = {\n  key: 0,\n  style: { \"margin-top\": \"30px\" },\n  class: \"link has-text-centered\"\n};\nconst _hoisted_10$6 = [\"onClick\"];\nconst _sfc_main$v = defineComponent({\n  __name: \"ValidatedIdentifierForm\",\n  props: {\n    validationError: { default: \"\" },\n    identifier: {},\n    countryCode: {},\n    identifierMode: {},\n    showWelcomeBack: { type: Boolean, default: false },\n    conditionalUI: { type: Boolean, default: false }\n  },\n  emits: [\n    \"onSubmit\",\n    \"update:validationError\",\n    \"update:identifier\",\n    \"update:countryCode\",\n    \"update:showWelcomeBack\"\n  ],\n  setup(__props, { emit }) {\n    const props = __props;\n    const { t } = useLocale();\n    const identifierParseError = ref(\"\");\n    const identifierInput = ref();\n    const controlContainer = ref();\n    const { autofocusButton } = useAutofocusButton();\n    const { passage } = usePassage();\n    const showWelcomeUI = computed(() => {\n      return props.showWelcomeBack;\n    });\n    const label = computed(() => {\n      let identifierType;\n      switch (props.identifierMode) {\n        case ce.phone:\n          identifierType = t(\"phone-number\");\n          break;\n        case ce.email:\n          identifierType = t(\"email-address\");\n          break;\n        case ce.both:\n          identifierType = t(\"email-or-phone-number\");\n          break;\n      }\n      return identifierType.charAt(0).toUpperCase() + identifierType.slice(1);\n    });\n    const placeholder = computed(() => {\n      return \"example@email.com\";\n    });\n    const inputMode = computed(() => {\n      if (props.identifierMode === ce.phone) {\n        return \"tel\";\n      }\n      return \"email\";\n    });\n    const autocomplete = computed(() => {\n      var _a;\n      if (props.conditionalUI) {\n        return `${inputMode.value} webauthn`;\n      }\n      return (_a = inputMode.value) != null ? _a : \"\";\n    });\n    const identifierText = computed({\n      get() {\n        return props.identifier;\n      },\n      set(newIdentifier) {\n        emit(\"update:identifier\", newIdentifier);\n      }\n    });\n    function formattedIdentifier() {\n      var _a;\n      if (!identifierText.value) {\n        return \"\";\n      }\n      let identifier2 = identifierText.value;\n      if (!showWelcomeUI.value) {\n        identifier2 = isPhoneNumber() ? (_a = phoneInput == null ? void 0 : phoneInput.getNumber()) != null ? _a : \"\" : identifierText.value;\n      }\n      return identifier2.trim().toLowerCase();\n    }\n    const error = computed(() => {\n      if (!isStringNullish(props.validationError)) {\n        return props.validationError;\n      }\n      if (!isStringNullish(identifierParseError.value)) {\n        return identifierParseError.value;\n      }\n      return \"\";\n    });\n    function clearErrors() {\n      identifierParseError.value = \"\";\n      emit(\"update:validationError\", \"\");\n    }\n    function checkIdentifier() {\n      return __async(this, null, function* () {\n        if (!validateInput()) {\n          return;\n        }\n        let identifierExists, emailVerified, phoneVerified = false;\n        let webauthnTypes = [];\n        let userStatus;\n        let userID = \"\";\n        try {\n          const userInfo = yield passage.identifierExists(formattedIdentifier());\n          if (userInfo !== null) {\n            identifierExists = true;\n            userStatus = userInfo.status;\n            userID = userInfo.id;\n            emailVerified = userInfo.email_verified;\n            phoneVerified = userInfo.phone_verified;\n            webauthnTypes = userInfo.webauthn_types;\n          } else {\n            identifierExists = false;\n            userStatus = re.INACTIVE;\n          }\n        } catch (e) {\n          let errorMessage;\n          switch (props.identifierMode) {\n            case ce.email:\n              errorMessage = t(\"enter-a-valid-email-address\");\n              break;\n            case ce.phone:\n              errorMessage = t(\"enter-a-valid-phone-number\");\n              break;\n            case ce.both:\n              errorMessage = t(\"enter-a-valid-email-or-phone-number\");\n              break;\n          }\n          identifierParseError.value = errorMessage;\n          return;\n        }\n        emit(\"onSubmit\", {\n          identifier: formattedIdentifier(),\n          identifierExists,\n          identifierType: isPhoneNumber() ? IdentifierType.phone : IdentifierType.email,\n          userStatus,\n          userID,\n          emailVerified,\n          phoneVerified,\n          webauthnTypes\n        });\n      });\n    }\n    function isEmail() {\n      const emailRegEx = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return emailRegEx.test(formattedIdentifier());\n    }\n    function isPhoneNumber() {\n      if (showWelcomeUI.value) {\n        return isPhoneNumberRegex();\n      }\n      if (phoneInput === void 0) {\n        return false;\n      }\n      return phoneInput.isValidNumber();\n    }\n    function validateInput() {\n      if (formattedIdentifier() === \"\") {\n        let message = \"\";\n        switch (props.identifierMode) {\n          case ce.phone:\n            message = t(\"enter-a-phone-number\");\n            break;\n          case ce.email:\n            message = t(\"enter-an-email-address\");\n            break;\n          case ce.both:\n            message = t(\"enter-an-email-or-phone-number\");\n            break;\n        }\n        identifierParseError.value = message;\n        return false;\n      } else if (props.identifierMode === ce.email && !isEmail()) {\n        identifierParseError.value = t(\"enter-a-valid-email-address\");\n        return false;\n      } else if (props.identifierMode === ce.phone && !isPhoneNumber()) {\n        identifierParseError.value = t(\"enter-a-valid-phone-number\");\n        return false;\n      } else if (props.identifierMode === ce.both && !isPhoneNumber() && !isEmail()) {\n        identifierParseError.value = t(\"enter-a-valid-email-or-phone-number\");\n        return false;\n      }\n      return true;\n    }\n    let phoneInput;\n    function showCountryCode() {\n      if (phoneInput !== void 0) {\n        return;\n      }\n      identifierInput.value.addEventListener(\"countrychange\", () => {\n        var _a;\n        emit(\"update:countryCode\", (_a = phoneInput == null ? void 0 : phoneInput.getSelectedCountryData().iso2) != null ? _a : \"\");\n      });\n      phoneInput = intlTelInput(identifierInput.value, {\n        initialCountry: props.countryCode,\n        utilsScript: \"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js\",\n        dropdownContainer: controlContainer.value,\n        autoPlaceholder: \"aggressive\"\n      });\n      identifierInput.value.focus();\n    }\n    function hideCountryCode() {\n      if (phoneInput === void 0) {\n        return;\n      }\n      phoneInput.destroy();\n      phoneInput = void 0;\n      if (identifierInput.value) {\n        identifierInput.value.focus();\n      }\n    }\n    onMounted(() => {\n      if (props.conditionalUI) {\n        moveInput();\n      }\n      if (props.identifierMode === ce.phone) {\n        showCountryCode();\n      }\n    });\n    function isPhoneNumberRegex() {\n      const phoneNumberRegex = /^\\+$|^\\+?[0-9,(,),\\-, ]+$/;\n      return phoneNumberRegex.test(identifierText.value.trim());\n    }\n    if (props.identifierMode === ce.both) {\n      watch(identifierText, () => {\n        if (isPhoneNumberRegex()) {\n          showCountryCode();\n        } else {\n          hideCountryCode();\n        }\n      });\n    }\n    const countryCodeText = computed(() => {\n      return props.countryCode;\n    });\n    watch(countryCodeText, (newValue) => {\n      phoneInput == null ? void 0 : phoneInput.setCountry(newValue);\n    });\n    function switchAccount() {\n      emit(\"update:showWelcomeBack\", false);\n      identifierText.value = \"\";\n    }\n    const identifierForm = ref();\n    function moveInput() {\n      const parent = identifierForm.value.getRootNode().host;\n      if (parent !== void 0) {\n        identifierForm.value.appendChild(inputStyles());\n        identifierForm.value.appendChild(itiStyles());\n        parent.appendChild(identifierForm.value);\n      }\n    }\n    function cleanupInput() {\n      identifierForm.value.remove();\n    }\n    onBeforeUnmount(() => {\n      cleanupInput();\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$r, [\n        withDirectives(createBaseVNode(\"div\", _hoisted_2$i, [\n          createTextVNode(toDisplayString(unref(t)(\"welcome-back-sign-in-as\")), 1),\n          _hoisted_3$g,\n          createBaseVNode(\"strong\", _hoisted_4$e, toDisplayString(identifierText.value), 1)\n        ], 512), [\n          [vShow, _ctx.showWelcomeBack]\n        ]),\n        withDirectives(createBaseVNode(\"div\", null, [\n          createBaseVNode(\"div\", {\n            class: \"label\",\n            ref: \"labelRef\"\n          }, toDisplayString(label.value), 513),\n          createBaseVNode(\"form\", {\n            ref_key: \"identifierForm\",\n            ref: identifierForm,\n            slot: \"loginInput\",\n            onSubmit: withModifiers(checkIdentifier, [\"prevent\"])\n          }, [\n            withDirectives(createBaseVNode(\"input\", {\n              \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => identifierText.value = $event),\n              type: \"text\",\n              class: normalizeClass([\"input psg-input\", { \"is-danger\": error.value }]),\n              part: \"input\",\n              autocomplete: autocomplete.value,\n              inputmode: inputMode.value,\n              id: \"identifier\",\n              placeholder: placeholder.value,\n              onInput: withModifiers(clearErrors, [\"prevent\"]),\n              \"data-test\": \"identifier-input\",\n              ref_key: \"identifierInput\",\n              ref: identifierInput\n            }, null, 42, _hoisted_6$b), [\n              [vModelText, identifierText.value]\n            ])\n          ], 40, _hoisted_5$d),\n          renderSlot(_ctx.$slots, \"loginInput\", {}, void 0, true)\n        ], 512), [\n          [vShow, !_ctx.showWelcomeBack]\n        ]),\n        createBaseVNode(\"div\", {\n          ref_key: \"controlContainer\",\n          ref: controlContainer,\n          style: { \"width\": \"100%\" }\n        }, null, 512),\n        createBaseVNode(\"div\", {\n          style: normalizeStyle(`text-align: ${showWelcomeUI.value ? \"center\" : \"left\"};`),\n          class: \"help is-danger error-message\",\n          \"data-test\": \"validation-error\"\n        }, toDisplayString(error.value), 5),\n        renderSlot(_ctx.$slots, \"metadataFields\", {}, void 0, true),\n        createBaseVNode(\"div\", _hoisted_7$b, [\n          createBaseVNode(\"button\", {\n            class: \"button is-primary\",\n            part: \"button\",\n            \"data-test\": \"continue-button\",\n            ref_key: \"autofocusButton\",\n            ref: autofocusButton,\n            onClick: withModifiers(checkIdentifier, [\"prevent\"])\n          }, toDisplayString(unref(t)(\"continue\")), 9, _hoisted_8$9)\n        ]),\n        showWelcomeUI.value ? (openBlock(), createElementBlock(\"div\", _hoisted_9$9, [\n          createBaseVNode(\"a\", {\n            onClick: withModifiers(switchAccount, [\"prevent\"]),\n            role: \"button\",\n            class: \"body-link\",\n            \"data-test\": \"register-link\"\n          }, toDisplayString(unref(t)(\"switch-account\")), 9, _hoisted_10$6)\n        ])) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nvar ValidatedIdentifierForm = /* @__PURE__ */ _export_sfc(_sfc_main$v, [[\"__scopeId\", \"data-v-1ea7af8c\"]]);\nvar OnEventType = /* @__PURE__ */ ((OnEventType2) => {\n  OnEventType2[\"onLoaded\"] = \"onLoaded\";\n  OnEventType2[\"onRegisterDevice\"] = \"onRegisterDevice\";\n  OnEventType2[\"onVerifyIdentity\"] = \"onVerifyIdentity\";\n  OnEventType2[\"onMagicLinkLogin\"] = \"onMagicLinkLogin\";\n  OnEventType2[\"onMagicLinkRegister\"] = \"onMagicLinkRegister\";\n  OnEventType2[\"onMagicLinkActivated\"] = \"onMagicLinkActivated\";\n  OnEventType2[\"onMagicLinkActivateSuccess\"] = \"onMagicLinkActivateSuccess\";\n  OnEventType2[\"onOneTimePasscodeLogin\"] = \"onOneTimePasscodeLogin\";\n  OnEventType2[\"onOneTimePasscodeRegister\"] = \"onOneTimePasscodeRegister\";\n  OnEventType2[\"onOneTimePasscodeActivated\"] = \"onOneTimePasscodeActivated\";\n  OnEventType2[\"onOneTimePasscodeActivateSuccess\"] = \"onOneTimePasscodeActivateSuccess\";\n  return OnEventType2;\n})(OnEventType || {});\nconst defaultBeforeAuth = () => {\n  return true;\n};\nconst defaultOnSuccess = (authResult2) => {\n  window.location.href = authResult2.redirect_url;\n};\nconst defaultOnEvent = () => {\n  return;\n};\nconst beforeAuth = ref(defaultBeforeAuth);\nconst onSuccess = ref(defaultOnSuccess);\nconst onEvent = ref(defaultOnEvent);\nfunction setBeforeAuth(newBeforeAuth) {\n  if (newBeforeAuth === void 0) {\n    beforeAuth.value = defaultBeforeAuth;\n    return;\n  }\n  beforeAuth.value = newBeforeAuth;\n}\nfunction setOnSuccess(newOnSuccess) {\n  if (newOnSuccess === void 0) {\n    onSuccess.value = defaultOnSuccess;\n    return;\n  }\n  onSuccess.value = newOnSuccess;\n}\nfunction setOnEvent(newOnEvent) {\n  if (newOnEvent === void 0) {\n    onEvent.value = defaultOnEvent;\n    return;\n  }\n  onEvent.value = newOnEvent;\n}\nfunction useCallbacks() {\n  return {\n    beforeAuth: readonly(beforeAuth),\n    onSuccess: readonly(onSuccess),\n    onEvent: readonly(onEvent),\n    setBeforeAuth,\n    setOnSuccess,\n    setOnEvent\n  };\n}\nconst storageKey = \"psg_last_login\";\nfunction getLastLogin() {\n  return localStorage.getItem(storageKey);\n}\nfunction storeLastLogin(appInfo, passage, identiferOrUserInfo) {\n  return __async(this, null, function* () {\n    if (identiferOrUserInfo && typeof identiferOrUserInfo === \"string\") {\n      localStorage.setItem(storageKey, identiferOrUserInfo);\n      return;\n    }\n    let currentInfo = identiferOrUserInfo;\n    if (identiferOrUserInfo === void 0) {\n      try {\n        currentInfo = yield passage.getCurrentUser().userInfo();\n      } catch (err) {\n        console.error(\"Failed to fetch current user, auth token likely missing or invalid\", err);\n      }\n    }\n    if (currentInfo === void 0) {\n      return;\n    }\n    let identifierToStore = \"\";\n    switch (appInfo.allowed_identifier) {\n      case ce.email:\n        identifierToStore = currentInfo.email;\n        break;\n      case ce.phone:\n        identifierToStore = currentInfo.phone;\n        break;\n      case ce.both:\n        identifierToStore = currentInfo.email ? currentInfo.email : currentInfo.phone;\n        break;\n    }\n    localStorage.setItem(storageKey, identifierToStore);\n  });\n}\nfunction createdUserEventHandler(payload, eventHandlerState) {\n  const { appInfo, router, browserFeatures } = eventHandlerState;\n  const { identifier: identifier2, identifierType } = payload;\n  const { emitEvent: emitEvent2 } = useAuthEvent();\n  if (!browserFeatures.securityKey || appInfo.require_identifier_verification) {\n    emitEvent2({\n      type: AuthEventType.FallbackAuth,\n      payload: {\n        identifier: identifier2,\n        identifierType,\n        identifierVerifying: appInfo.require_identifier_verification,\n        userIsRegistering: true,\n        userInitiated: false\n      }\n    });\n    return;\n  }\n  useCallbacks().onEvent.value(OnEventType.onRegisterDevice, { identifier: identifier2 });\n  router.push(RegisterDeviceRoute, { identifier: identifier2, identifierType, appInfo, browserFeatures });\n}\nfunction changeIdenfitierEventHandler(eventHandlerState) {\n  const { appInfo, router, browserFeatures } = eventHandlerState;\n  router.push(router.homeRoute, { appInfo, conditionalUI: browserFeatures.conditionalUI, changeEmail: true });\n}\nfunction isWebauthnGetMonkeypatched() {\n  const isGetNative = navigator.credentials.get.toString().includes(\"[native code]\");\n  return !isGetNative;\n}\nfunction loginUserEventHandler(payload, eventHandlerState, passage) {\n  return __async(this, null, function* () {\n    const { browserFeatures, appInfo, router } = eventHandlerState;\n    const { emitEvent: emitEvent2 } = useAuthEvent();\n    const { identifier: identifier2, identifierType, webauthnTypes, emailVerified, phoneVerified, userID } = payload;\n    const noFallback = appInfo.auth_fallback_method === he.None;\n    if (webauthnTypes.length === 0 && noFallback) {\n      router.push(LoginNotSupportedRoute);\n      return;\n    }\n    const userHasPasskey = webauthnTypes.includes(W.Passkey);\n    const userHasPlatform = webauthnTypes.includes(W.Platform);\n    const userHasSecurityKey = webauthnTypes.includes(W.SecurityKey);\n    const verificationRequired = userNeedsToVerify(appInfo, emailVerified, phoneVerified, identifierType);\n    const canTryPlaform = browserFeatures.platform && userHasPlatform && passage.credIDExists(userID);\n    const canTryPasskey = (browserFeatures.syncedCredential || browserFeatures.crossDeviceCredential) && userHasPasskey;\n    const canTrySecurityKey = browserFeatures.securityKey && userHasSecurityKey;\n    const tryWebauthnWithNoFallback = browserFeatures.platform && noFallback;\n    const tryNonNativeWebauthn = userHasPasskey && browserFeatures.platform && isWebauthnGetMonkeypatched();\n    const canTryWebAuthn = !verificationRequired && (canTryPasskey || canTryPlaform || canTrySecurityKey || tryWebauthnWithNoFallback || tryNonNativeWebauthn);\n    if (canTryWebAuthn) {\n      useCallbacks().onEvent.value(OnEventType.onVerifyIdentity);\n      router.push(WebauthnSignInRoute, { identifier: identifier2, identifierType, appInfo });\n    } else {\n      emitEvent2({\n        type: AuthEventType.FallbackAuth,\n        payload: {\n          identifier: identifier2,\n          identifierType,\n          userInitiated: false,\n          identifierVerifying: verificationRequired,\n          setupNewDevice: browserFeatures.platform\n        }\n      });\n    }\n  });\n}\nfunction userNeedsToVerify(appInfo, emailVerified, phoneVerified, identifierType) {\n  if (appInfo.require_identifier_verification) {\n    if (identifierType === IdentifierType.email && !emailVerified || identifierType === IdentifierType.phone && !phoneVerified) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction fallbackAuthEventHandler(payload, eventHandlerState) {\n  const { authState, appInfo, router } = eventHandlerState;\n  authState.userInitiatedFallback = payload.userInitiated;\n  switch (appInfo.auth_fallback_method) {\n    case he.LoginCode:\n      otpCallback(payload);\n      router.push(OneTimePasscodeRoute, payload);\n      break;\n    case he.MagicLink:\n      magicLinkCallback(payload);\n      router.push(MagicLinkRoute, payload);\n      break;\n    case he.None:\n      router.push(DisableFallbacksRoute);\n      break;\n  }\n}\nfunction magicLinkCallback(payload) {\n  const { identifier: identifier2, userIsRegistering } = payload;\n  if (userIsRegistering) {\n    useCallbacks().onEvent.value(OnEventType.onMagicLinkRegister, { identifier: identifier2 });\n  } else {\n    useCallbacks().onEvent.value(OnEventType.onMagicLinkLogin);\n  }\n}\nfunction otpCallback(payload) {\n  const { identifier: identifier2, userIsRegistering } = payload;\n  if (userIsRegistering) {\n    useCallbacks().onEvent.value(OnEventType.onOneTimePasscodeRegister, { identifier: identifier2 });\n  } else {\n    useCallbacks().onEvent.value(OnEventType.onOneTimePasscodeLogin);\n  }\n}\nfunction authSuccessEventHandler(payload, eventHandlerState, passage) {\n  return __async(this, null, function* () {\n    if (isStringNullish(payload.authResult.auth_token) || isStringNullish(payload.authResult.redirect_url)) {\n      return;\n    }\n    yield storeLastLogin(eventHandlerState.appInfo, passage, payload.identifier);\n    useCallbacks().onSuccess.value(payload.authResult);\n  });\n}\nfunction fallbackAuthSuccessEventHandler(payload, eventHandlerState) {\n  const { webauthnAllowed, authState, router } = eventHandlerState;\n  if (webauthnAllowed && !authState.userInitiatedFallback) {\n    router.push(AddDeviceRoute, payload);\n    return;\n  }\n  useAuthEvent().emitEvent({\n    type: AuthEventType.AuthSuccess,\n    payload\n  });\n}\nfunction isSafariVersionLessThan164() {\n  var _a;\n  const userAgent = new UAParser();\n  return ((_a = userAgent.getBrowser().name) == null ? void 0 : _a.toLowerCase().includes(\"safari\")) && parseFloat(userAgent.getBrowser().version || \"\") < 16.4;\n}\nvar AuthEventType = /* @__PURE__ */ ((AuthEventType2) => {\n  AuthEventType2[\"CreatedUser\"] = \"CreatedUser\";\n  AuthEventType2[\"ChangeIdentifier\"] = \"ChangeIdentifier\";\n  AuthEventType2[\"LoginUser\"] = \"LoginUser\";\n  AuthEventType2[\"FallbackAuth\"] = \"FallbackAuth\";\n  AuthEventType2[\"AuthSuccess\"] = \"AuthSuccess\";\n  AuthEventType2[\"FallbackAuthSuccess\"] = \"FallbackAuthSuccess\";\n  return AuthEventType2;\n})(AuthEventType || {});\nclass EventHandler {\n  constructor(appInfo, router, passage) {\n    this.appInfo = appInfo;\n    this.router = router;\n    this.passage = passage;\n    this.authState = {\n      userInitiatedFallback: false\n    };\n    this.authOriginValid = false;\n    this.browserFeatures = {\n      securityKey: false,\n      platform: false,\n      syncedCredential: false,\n      crossDeviceCredential: false,\n      conditionalUI: false,\n      isAvailable: false\n    };\n  }\n  initializeEventHandler() {\n    return __async(this, null, function* () {\n      this.authOriginValid = this.passage.checkWebauthnConfig(this.appInfo);\n      if (this.authOriginValid) {\n        this.browserFeatures = yield this.passage.getCredentialAvailable();\n        if (isSafariVersionLessThan164()) {\n          this.browserFeatures.conditionalUI = false;\n        }\n      }\n      if (!this.checkMagicLink()) {\n        this.router.push(this.router.homeRoute, {\n          appInfo: this.appInfo,\n          conditionalUI: this.browserFeatures.conditionalUI\n        });\n      }\n    });\n  }\n  handleEvent(event) {\n    return __async(this, null, function* () {\n      switch (event.type) {\n        case \"CreatedUser\":\n          createdUserEventHandler(event.payload, this.eventHandlerState);\n          break;\n        case \"ChangeIdentifier\":\n          changeIdenfitierEventHandler(this.eventHandlerState);\n          break;\n        case \"LoginUser\":\n          loginUserEventHandler(event.payload, this.eventHandlerState, this.passage);\n          break;\n        case \"FallbackAuth\":\n          fallbackAuthEventHandler(event.payload, this.eventHandlerState);\n          break;\n        case \"AuthSuccess\":\n          authSuccessEventHandler(event.payload, this.eventHandlerState, this.passage);\n          break;\n        case \"FallbackAuthSuccess\":\n          fallbackAuthSuccessEventHandler(event.payload, this.eventHandlerState);\n          break;\n      }\n    });\n  }\n  get eventHandlerState() {\n    return {\n      appInfo: this.appInfo,\n      webauthnAllowed: this.browserFeatures.platform,\n      router: this.router,\n      authState: this.authState,\n      browserFeatures: this.browserFeatures\n    };\n  }\n  checkMagicLink() {\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    let magicLink = null;\n    if (urlParams.has(\"psg_magic_link\")) {\n      magicLink = urlParams.get(\"psg_magic_link\");\n    } else if (urlParams.has(\"psg_verify_link\")) {\n      magicLink = urlParams.get(\"psg_verify_link\");\n    }\n    if (magicLink !== null) {\n      this.router.push(ActivateMagicLinkRoute, { magicLink, webauthnAllowed: this.browserFeatures.platform });\n      return true;\n    }\n    return false;\n  }\n}\nlet eventHandler = void 0;\nfunction initEventHandler(appInfo, router, passage) {\n  return __async(this, null, function* () {\n    eventHandler = new EventHandler(appInfo, router, passage);\n    yield eventHandler.initializeEventHandler();\n  });\n}\nfunction getEventHandler() {\n  return eventHandler;\n}\nfunction emitEvent(event) {\n  return __async(this, null, function* () {\n    return eventHandler == null ? void 0 : eventHandler.handleEvent(event);\n  });\n}\nfunction useAuthEvent() {\n  return {\n    initEventHandler,\n    getEventHandler,\n    emitEvent\n  };\n}\nconst _sfc_main$u = defineComponent({\n  __name: \"Login\",\n  props: {\n    canToggleLoginRegister: { type: Boolean },\n    identifier: {},\n    countryCode: {},\n    appInfo: {},\n    visible: { type: Boolean },\n    conditionalUI: { type: Boolean },\n    changeEmail: { type: Boolean }\n  },\n  emits: [\"update:identifier\", \"update:countryCode\"],\n  setup(__props, { emit }) {\n    const props = __props;\n    const { t } = useLocale();\n    const { passage } = usePassage();\n    const error = ref(\"\");\n    const identifierText = computed({\n      get() {\n        return props.identifier;\n      },\n      set(newIdentifier) {\n        emit(\"update:identifier\", newIdentifier);\n      }\n    });\n    const countryCodeText = computed({\n      get() {\n        return props.countryCode;\n      },\n      set(newCountryCode) {\n        emit(\"update:countryCode\", newCountryCode);\n      }\n    });\n    const inputForm = ref();\n    watch(inputForm, () => __async(this, null, function* () {\n      useCallbacks().onEvent.value(OnEventType.onLoaded);\n      triggerConditionalUI();\n    }));\n    const identifierMode = computed(() => {\n      var _a;\n      return (_a = props.appInfo.allowed_identifier) != null ? _a : ce.email;\n    });\n    function onSubmit(event) {\n      return __async(this, null, function* () {\n        const {\n          identifier: identifier2,\n          identifierExists,\n          userStatus,\n          userID,\n          identifierType,\n          emailVerified,\n          phoneVerified,\n          webauthnTypes\n        } = event;\n        const beforeAuthResult = useCallbacks().beforeAuth.value(identifier2);\n        if (!beforeAuthResult) {\n          return;\n        }\n        const errorString = checkIdentifierExistsAndStatus(identifierExists, identifierType, userStatus);\n        if (errorString !== \"\") {\n          error.value = errorString;\n          return;\n        }\n        useAuthEvent().emitEvent({\n          type: AuthEventType.LoginUser,\n          payload: {\n            identifier: identifier2,\n            identifierType,\n            userID,\n            emailVerified,\n            phoneVerified,\n            webauthnTypes\n          }\n        });\n      });\n    }\n    function checkIdentifierExistsAndStatus(identifierExists, identifierType, userStatus) {\n      if (!identifierExists) {\n        let identiferString = identifierType === IdentifierType.email ? t(\"email\") : t(\"phone\");\n        identiferString = `${identiferString.charAt(0).toUpperCase()}${identiferString.slice(1)}`;\n        let message = `${t(\"not-recognized\", [identiferString])}.`;\n        if (props.canToggleLoginRegister && props.appInfo.public_signup) {\n          message = `${message} ${t(\"toggle-register\")}`;\n        }\n        return message;\n      }\n      if (identifierExists && userStatus === re.INACTIVE) {\n        return t(\"account-no-longer-active\");\n      }\n      return \"\";\n    }\n    const showWelcomeBack = ref(false);\n    let abortController;\n    onMounted(() => {\n      const lastLogin = getLastLogin();\n      if (lastLogin && !props.changeEmail) {\n        identifierText.value = lastLogin;\n        showWelcomeBack.value = true;\n      }\n    });\n    function triggerConditionalUI() {\n      return __async(this, null, function* () {\n        if (props.conditionalUI) {\n          abortController = new AbortController();\n          passage.loginConditional(abortController.signal).then((authResult) => {\n            useAuthEvent().emitEvent({\n              type: AuthEventType.AuthSuccess,\n              payload: {\n                authResult\n              }\n            });\n          }).catch(() => {\n          });\n        }\n      });\n    }\n    function cancelConditionalUI() {\n      abortController == null ? void 0 : abortController.abort();\n    }\n    onBeforeUnmount(() => {\n      cancelConditionalUI();\n    });\n    watch(\n      () => props.visible,\n      () => {\n        if (showWelcomeBack.value === true) {\n          identifierText.value = \"\";\n        }\n        showWelcomeBack.value = false;\n        if (props.visible) {\n          triggerConditionalUI();\n        } else {\n          cancelConditionalUI();\n        }\n      }\n    );\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(ValidatedIdentifierForm, {\n        identifierMode: identifierMode.value,\n        conditionalUI: _ctx.conditionalUI,\n        showWelcomeBack: showWelcomeBack.value,\n        \"onUpdate:showWelcomeBack\": _cache[0] || (_cache[0] = ($event) => showWelcomeBack.value = $event),\n        identifier: identifierText.value,\n        \"onUpdate:identifier\": _cache[1] || (_cache[1] = ($event) => identifierText.value = $event),\n        validationError: error.value,\n        \"onUpdate:validationError\": _cache[2] || (_cache[2] = ($event) => error.value = $event),\n        countryCode: countryCodeText.value,\n        \"onUpdate:countryCode\": _cache[3] || (_cache[3] = ($event) => countryCodeText.value = $event),\n        onOnSubmit: _cache[4] || (_cache[4] = ($event) => onSubmit($event)),\n        ref_key: \"inputForm\",\n        ref: inputForm\n      }, {\n        loginInput: withCtx(() => [\n          renderSlot(_ctx.$slots, \"loginInput\")\n        ]),\n        _: 3\n      }, 8, [\"identifierMode\", \"conditionalUI\", \"showWelcomeBack\", \"identifier\", \"validationError\", \"countryCode\"]);\n    };\n  }\n});\nconst _hoisted_1$q = {\n  key: 0,\n  class: \"notification is-danger has-text-centered\",\n  \"data-test\": \"invalid-app-id\"\n};\nconst _sfc_main$t = defineComponent({\n  __name: \"Register\",\n  props: {\n    canToggleLoginRegister: { type: Boolean },\n    identifier: {},\n    countryCode: {},\n    appInfo: {}\n  },\n  emits: [\"update:identifier\", \"update:countryCode\", \"authEvent\"],\n  setup(__props, { emit }) {\n    const props = __props;\n    const { t } = useLocale();\n    const { passage } = usePassage();\n    const { emitEvent: emitEvent2 } = useAuthEvent();\n    const error = ref(\"\");\n    const identifierText = computed({\n      get() {\n        return props.identifier;\n      },\n      set(newIdentifier) {\n        emit(\"update:identifier\", newIdentifier);\n      }\n    });\n    const countryCodeText = computed({\n      get() {\n        return props.countryCode;\n      },\n      set(newCountryCode) {\n        emit(\"update:countryCode\", newCountryCode);\n      }\n    });\n    const publicSignup = computed(() => {\n      return props.appInfo.public_signup;\n    });\n    const identifierMode = computed(() => {\n      return props.appInfo.allowed_identifier;\n    });\n    function onSubmit(event) {\n      return __async(this, null, function* () {\n        const { identifier: identifier2, identifierExists, userStatus, identifierType } = event;\n        const beforeAuthResult = useCallbacks().beforeAuth.value(identifier2);\n        if (!beforeAuthResult) {\n          return;\n        }\n        let validMetadata = true;\n        if (metadataComponent.value) {\n          validMetadata = metadataComponent.value.validate();\n        }\n        if (identifierExists) {\n          if (userStatus === re.ACTIVE) {\n            let message = t(\"account-already-exists\", [\n              identifierType === IdentifierType.email ? t(\"email\") : t(\"phone-number\")\n            ]);\n            if (props.canToggleLoginRegister) {\n              message = message + \" \" + t(\"toggle-login\");\n            }\n            error.value = message;\n            return;\n          } else if (userStatus === re.INACTIVE) {\n            error.value = t(\"account-no-longer-active\");\n            return;\n          }\n        }\n        if (!validMetadata) {\n          return;\n        }\n        try {\n          yield passage.createUser({\n            identifier: identifier2,\n            user_metadata: transformMetadata(metadata.value, props.appInfo.user_metadata_schema, true)\n          });\n        } catch (err) {\n          if (err instanceof h && err.message.startsWith(\"Public signup\")) {\n            error.value = err.message;\n          } else {\n            error.value = t(\"unexpected-error\");\n          }\n          return;\n        }\n        emitEvent2({\n          type: AuthEventType.CreatedUser,\n          payload: {\n            identifier: identifier2,\n            identifierType\n          }\n        });\n      });\n    }\n    const metadata = ref({});\n    const metadataComponent = ref();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", null, [\n        createVNode(ValidatedIdentifierForm, {\n          identifierMode: identifierMode.value,\n          identifier: identifierText.value,\n          \"onUpdate:identifier\": _cache[0] || (_cache[0] = ($event) => identifierText.value = $event),\n          validationError: error.value,\n          \"onUpdate:validationError\": _cache[1] || (_cache[1] = ($event) => error.value = $event),\n          countryCode: countryCodeText.value,\n          \"onUpdate:countryCode\": _cache[2] || (_cache[2] = ($event) => countryCodeText.value = $event),\n          onOnSubmit: _cache[3] || (_cache[3] = ($event) => onSubmit($event))\n        }, {\n          metadataFields: withCtx(() => [\n            _ctx.appInfo && _ctx.appInfo.layouts.registration.length > 0 ? (openBlock(), createBlock(UserMetadata, {\n              key: 0,\n              isEditing: true,\n              appInfo: _ctx.appInfo,\n              layoutType: unref(LayoutType).Registration,\n              userMetadata: metadata.value,\n              ref_key: \"metadataComponent\",\n              ref: metadataComponent\n            }, null, 8, [\"appInfo\", \"layoutType\", \"userMetadata\"])) : createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }, 8, [\"identifierMode\", \"identifier\", \"validationError\", \"countryCode\"]),\n        !publicSignup.value ? (openBlock(), createElementBlock(\"div\", _hoisted_1$q, toDisplayString(unref(t)(\"public-registration-not-allowed\")), 1)) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nconst _hoisted_1$p = {\n  key: 0,\n  class: \"link has-text-centered\"\n};\nconst _hoisted_2$h = { class: \"passage-branding\" };\nconst _hoisted_3$f = {\n  href: \"https://passage.1password.com/\",\n  target: \"_new_tab\"\n};\nconst _sfc_main$s = defineComponent({\n  __name: \"PassageBranding\",\n  props: {\n    appInfo: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return _ctx.appInfo.passage_branding ? (openBlock(), createElementBlock(\"div\", _hoisted_1$p, [\n        createBaseVNode(\"div\", _hoisted_2$h, [\n          createBaseVNode(\"a\", _hoisted_3$f, [\n            createVNode(unref(InlineSvg), {\n              src: unref(Icons).poweredByPassage,\n              alt: \"Powered by Passage Icon\"\n            }, null, 8, [\"src\"])\n          ])\n        ])\n      ])) : createCommentVNode(\"\", true);\n    };\n  }\n});\nconst _hoisted_1$o = { class: \"view-email-input\" };\nconst _hoisted_2$g = { class: \"auth-flex-container\" };\nconst _hoisted_3$e = { class: \"title main-title has-text-centered\" };\nconst _hoisted_4$d = /* @__PURE__ */ createBaseVNode(\"div\", { style: { \"height\": \"20px\" } }, null, -1);\nconst _hoisted_5$c = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"spacer\" }, null, -1);\nconst _hoisted_6$a = { class: \"link has-text-centered\" };\nconst _hoisted_7$a = { key: 0 };\nconst _hoisted_8$8 = [\"onClick\"];\nconst _hoisted_9$8 = { key: 1 };\nconst _hoisted_10$5 = [\"onClick\"];\nconst _sfc_main$r = defineComponent({\n  __name: \"AuthView\",\n  props: {\n    register: { type: Boolean },\n    appInfo: {},\n    conditionalUI: { type: Boolean },\n    changeEmail: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const { t } = useLocale();\n    const showLogin = ref(!props.register);\n    const identifier2 = ref(\"\");\n    const { defaultCountryCode } = useDefaultCountryCode();\n    const countryCode = defaultCountryCode;\n    const publicSignup = computed(() => {\n      return props.appInfo.public_signup;\n    });\n    function changeInputPage() {\n      showLogin.value = !showLogin.value;\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$o, [\n        createBaseVNode(\"div\", _hoisted_2$g, [\n          createBaseVNode(\"div\", _hoisted_3$e, toDisplayString(showLogin.value ? unref(t)(\"login-title\") : unref(t)(\"register-title\")), 1),\n          _hoisted_4$d,\n          withDirectives(createVNode(_sfc_main$u, {\n            identifier: identifier2.value,\n            \"onUpdate:identifier\": _cache[0] || (_cache[0] = ($event) => identifier2.value = $event),\n            canToggleLoginRegister: true,\n            countryCode: unref(countryCode),\n            \"onUpdate:countryCode\": _cache[1] || (_cache[1] = ($event) => isRef(countryCode) ? countryCode.value = $event : null),\n            appInfo: _ctx.appInfo,\n            visible: showLogin.value,\n            conditionalUI: _ctx.conditionalUI,\n            changeEmail: _ctx.changeEmail\n          }, {\n            loginInput: withCtx(() => [\n              renderSlot(_ctx.$slots, \"loginInput\")\n            ]),\n            _: 3\n          }, 8, [\"identifier\", \"countryCode\", \"appInfo\", \"visible\", \"conditionalUI\", \"changeEmail\"]), [\n            [vShow, showLogin.value]\n          ]),\n          withDirectives(createVNode(_sfc_main$t, {\n            identifier: identifier2.value,\n            \"onUpdate:identifier\": _cache[2] || (_cache[2] = ($event) => identifier2.value = $event),\n            canToggleLoginRegister: true,\n            countryCode: unref(countryCode),\n            \"onUpdate:countryCode\": _cache[3] || (_cache[3] = ($event) => isRef(countryCode) ? countryCode.value = $event : null),\n            appInfo: _ctx.appInfo\n          }, null, 8, [\"identifier\", \"countryCode\", \"appInfo\"]), [\n            [vShow, !showLogin.value]\n          ]),\n          _hoisted_5$c,\n          createBaseVNode(\"div\", _hoisted_6$a, [\n            showLogin.value && publicSignup.value ? (openBlock(), createElementBlock(\"div\", _hoisted_7$a, [\n              createTextVNode(toDisplayString(unref(t)(\"dont-have-an-account\")) + \" \", 1),\n              createBaseVNode(\"a\", {\n                onClick: withModifiers(changeInputPage, [\"prevent\"]),\n                role: \"button\",\n                class: \"body-link\",\n                \"data-test\": \"register-link\"\n              }, toDisplayString(unref(t)(\"register-here\")), 9, _hoisted_8$8)\n            ])) : !showLogin.value ? (openBlock(), createElementBlock(\"div\", _hoisted_9$8, [\n              createTextVNode(toDisplayString(unref(t)(\"already-have-an-account\")) + \" \", 1),\n              createBaseVNode(\"a\", {\n                onClick: withModifiers(changeInputPage, [\"prevent\"]),\n                role: \"button\",\n                class: \"body-link\",\n                \"data-test\": \"login-link\"\n              }, toDisplayString(unref(t)(\"login-here\")), 9, _hoisted_10$5)\n            ])) : createCommentVNode(\"\", true)\n          ])\n        ]),\n        createVNode(_sfc_main$s, { \"app-info\": _ctx.appInfo }, null, 8, [\"app-info\"])\n      ]);\n    };\n  }\n});\nfunction useUIState() {\n  const showFailure = ref(false);\n  const showSuccess = ref(false);\n  const loading = ref(false);\n  const pageLoading = ref(true);\n  const { t } = useLocale();\n  const title = computed(() => {\n    if (showSuccess.value) {\n      return t(\"success\");\n    }\n    if (showFailure.value) {\n      return t(\"something-went-wrong\");\n    }\n    return t(\"log-in-with-a-passkey\");\n  });\n  const uiSuccess = () => {\n    showSuccess.value = true;\n    showFailure.value = false;\n    loading.value = false;\n  };\n  const uiError = () => {\n    showSuccess.value = false;\n    showFailure.value = true;\n    loading.value = false;\n  };\n  const uiLoading = () => {\n    showSuccess.value = false;\n    showFailure.value = false;\n    loading.value = true;\n  };\n  return {\n    showFailure,\n    showSuccess,\n    loading,\n    pageLoading,\n    title,\n    uiSuccess,\n    uiError,\n    uiLoading\n  };\n}\nvar MagicLinkActionEnum = /* @__PURE__ */ ((MagicLinkActionEnum2) => {\n  MagicLinkActionEnum2[\"LOGIN\"] = \"psg_magic_link\";\n  MagicLinkActionEnum2[\"VERIFY\"] = \"psg_verify_link\";\n  return MagicLinkActionEnum2;\n})(MagicLinkActionEnum || {});\nconst useMagicLinkUtils = (magicLink) => {\n  const magicLinkAction = ref();\n  const invalidMagicLink = ref(false);\n  const isMagicLinkValid = () => {\n    const searchParams = new URLSearchParams(window.location.href.split(\"?\")[1]);\n    if (searchParams.has(\"psg_magic_link\")) {\n      magicLinkAction.value = \"psg_magic_link\";\n    } else if (searchParams.has(\"psg_verify_link\")) {\n      magicLinkAction.value = \"psg_verify_link\";\n    }\n    if (!magicLinkAction.value || !magicLink) {\n      invalidMagicLink.value = true;\n    }\n    return !invalidMagicLink.value;\n  };\n  return {\n    magicLinkAction,\n    invalidMagicLink,\n    isMagicLinkValid\n  };\n};\nconst useMagicLinkActivation = ({ magicLink, uiState, magicLinkUtils, passage }) => {\n  const authResult2 = ref(null);\n  const onBeforeActivate = () => {\n    uiState.uiLoading();\n    authResult2.value = { auth_token: \"\", redirect_url: \"\" };\n  };\n  const onActivateError = () => {\n    uiState.uiError();\n  };\n  const onActivateErrorInvalidMagicLink = () => {\n    magicLinkUtils.invalidMagicLink.value = true;\n    uiState.uiError();\n  };\n  const onActivateSuccess = (_0) => __async(void 0, [_0], function* ({\n    webauthnAllowed,\n    magicLinkAction,\n    result\n  }) {\n    authResult2.value = result;\n    if (!webauthnAllowed || magicLinkAction === MagicLinkActionEnum.VERIFY) {\n      uiState.uiSuccess();\n      yield new Promise((resolve) => {\n        setTimeout(resolve, 2e3);\n      });\n    }\n    if (authResult2.value.redirect_url) {\n      useAuthEvent().emitEvent({\n        type: magicLinkAction === MagicLinkActionEnum.VERIFY ? AuthEventType.AuthSuccess : AuthEventType.FallbackAuthSuccess,\n        payload: {\n          authResult: result\n        }\n      });\n    }\n  });\n  const activateWithoutBiometrics = (webauthnAllowed, magicLinkAction) => __async(void 0, null, function* () {\n    onBeforeActivate();\n    try {\n      const result = yield passage.magicLinkActivate(magicLink);\n      onActivateSuccess({ webauthnAllowed, magicLinkAction, result });\n    } catch (err) {\n      if (err.statusCode === P.NotFound) {\n        onActivateErrorInvalidMagicLink();\n      } else {\n        onActivateError();\n      }\n    }\n  });\n  return {\n    authResult: authResult2,\n    onBeforeActivate,\n    onActivateError,\n    onActivateErrorInvalidMagicLink,\n    onActivateSuccess,\n    activateWithoutBiometrics\n  };\n};\nconst _hoisted_1$n = { class: \"auth-flex-container\" };\nconst _hoisted_2$f = { class: \"image has-text-centered\" };\nconst _hoisted_3$d = {\n  class: \"content has-text-centered\",\n  \"data-test\": \"activate-magic-link-message\"\n};\nconst _hoisted_4$c = { key: 0 };\nconst _hoisted_5$b = { key: 1 };\nconst _hoisted_6$9 = { key: 2 };\nconst _hoisted_7$9 = { key: 3 };\nconst _hoisted_8$7 = { key: 4 };\nconst _hoisted_9$7 = {\n  key: 0,\n  class: \"flex-row flex-center\",\n  style: { \"padding\": \"20px 0px\" }\n};\nconst _hoisted_10$4 = [\"onClick\", \"disabled\"];\nconst _hoisted_11$4 = { key: 0 };\nconst _hoisted_12$4 = { key: 1 };\nconst _hoisted_13$4 = { key: 2 };\nconst _sfc_main$q = defineComponent({\n  __name: \"ActivateMagicLink\",\n  props: {\n    magicLink: {},\n    webauthnAllowed: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const { t } = useLocale();\n    const { passage } = usePassage();\n    const uiState = useUIState();\n    const { showFailure, showSuccess, loading, pageLoading, title } = uiState;\n    const magicLinkUtils = useMagicLinkUtils(props.magicLink);\n    const { isMagicLinkValid, invalidMagicLink, magicLinkAction } = magicLinkUtils;\n    const activation = useMagicLinkActivation({\n      uiState,\n      magicLinkUtils,\n      passage,\n      magicLink: props.magicLink\n    });\n    function onButtonClick() {\n      if (invalidMagicLink.value) {\n        window.location.href = window.location.href.split(\"?\")[0];\n      } else {\n        activation.activateWithoutBiometrics(props.webauthnAllowed, magicLinkAction.value);\n      }\n    }\n    onMounted(() => __async(this, null, function* () {\n      if (isMagicLinkValid()) {\n        yield activation.activateWithoutBiometrics(props.webauthnAllowed, magicLinkAction.value);\n        useCallbacks().onEvent.value(OnEventType.onMagicLinkActivateSuccess);\n      } else {\n        uiState.uiError();\n      }\n      pageLoading.value = false;\n    }));\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Transition, {\n        name: \"fade\",\n        mode: \"out-in\",\n        appear: \"\"\n      }, {\n        default: withCtx(() => [\n          withDirectives(createBaseVNode(\"div\", _hoisted_1$n, [\n            createBaseVNode(\"div\", {\n              class: normalizeClass([\"title has-text-centered\", [unref(showSuccess) ? \"main-title\" : \"secondary-title\"]])\n            }, toDisplayString(unref(showFailure) ? unref(invalidMagicLink) ? unref(t)(\"invalid-link\") : unref(t)(\"device-login-failed-title\") : unref(title)), 3),\n            createBaseVNode(\"figure\", _hoisted_2$f, [\n              unref(showSuccess) ? (openBlock(), createBlock(unref(InlineSvg), {\n                key: 0,\n                src: unref(Icons).success,\n                alt: \"Magic link success\"\n              }, null, 8, [\"src\"])) : unref(showFailure) ? (openBlock(), createBlock(unref(InlineSvg), {\n                key: 1,\n                src: unref(Icons).failure,\n                alt: \"Magic link failure\"\n              }, null, 8, [\"src\"])) : createCommentVNode(\"\", true)\n            ]),\n            createBaseVNode(\"div\", _hoisted_3$d, [\n              unref(showSuccess) && unref(magicLinkAction) === unref(MagicLinkActionEnum).LOGIN ? (openBlock(), createElementBlock(\"div\", _hoisted_4$c, toDisplayString(unref(t)(\"successfully-logged-in-redirect\")), 1)) : unref(showSuccess) && unref(magicLinkAction) === unref(MagicLinkActionEnum).VERIFY ? (openBlock(), createElementBlock(\"div\", _hoisted_5$b, toDisplayString(unref(t)(\"successfully-changed-email\")), 1)) : unref(showFailure) && unref(invalidMagicLink) && unref(magicLinkAction) === unref(MagicLinkActionEnum).VERIFY ? (openBlock(), createElementBlock(\"div\", _hoisted_6$9, toDisplayString(unref(t)(\"link-invalid\")), 1)) : unref(showFailure) && unref(invalidMagicLink) ? (openBlock(), createElementBlock(\"div\", _hoisted_7$9, toDisplayString(unref(t)(\"login-link-invalid\")), 1)) : unref(showFailure) && unref(magicLinkAction) === unref(MagicLinkActionEnum).VERIFY ? (openBlock(), createElementBlock(\"div\", _hoisted_8$7, toDisplayString(unref(t)(\"verification-failed-please-try-again\")), 1)) : createCommentVNode(\"\", true)\n            ]),\n            unref(showFailure) || unref(showSuccess) ? (openBlock(), createElementBlock(\"div\", _hoisted_9$7, [\n              createBaseVNode(\"button\", {\n                onClick: withModifiers(onButtonClick, [\"prevent\"]),\n                type: \"button\",\n                class: normalizeClass([\"button is-primary\", { \"is-loading\": unref(loading) }]),\n                part: \"button\",\n                disabled: unref(loading),\n                \"data-test\": \"activate-magic-link-button\"\n              }, [\n                unref(showFailure) && unref(invalidMagicLink) ? (openBlock(), createElementBlock(\"span\", _hoisted_11$4, toDisplayString(unref(t)(\"request-new-link\")), 1)) : unref(showFailure) ? (openBlock(), createElementBlock(\"span\", _hoisted_12$4, toDisplayString(unref(t)(\"try-again\")), 1)) : unref(showSuccess) ? (openBlock(), createElementBlock(\"span\", _hoisted_13$4, toDisplayString(unref(t)(\"redirect-now\")), 1)) : createCommentVNode(\"\", true)\n              ], 10, _hoisted_10$4)\n            ])) : createCommentVNode(\"\", true)\n          ], 512), [\n            [vShow, !unref(pageLoading)]\n          ])\n        ]),\n        _: 1\n      });\n    };\n  }\n});\nconst _hoisted_1$m = { class: \"view-verify-token\" };\nconst _sfc_main$p = defineComponent({\n  __name: \"ActivateMagicLinkView\",\n  props: {\n    magicLink: {},\n    webauthnAllowed: { type: Boolean }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$m, [\n        createVNode(_sfc_main$q, {\n          magicLink: _ctx.magicLink,\n          webauthnAllowed: _ctx.webauthnAllowed\n        }, null, 8, [\"magicLink\", \"webauthnAllowed\"])\n      ]);\n    };\n  }\n});\nconst _hoisted_1$l = { class: \"view-email-input\" };\nconst _sfc_main$o = defineComponent({\n  __name: \"LoginView\",\n  props: {\n    register: { type: Boolean },\n    appInfo: {},\n    conditionalUI: { type: Boolean },\n    changeEmail: { type: Boolean }\n  },\n  setup(__props) {\n    const identifier2 = ref(\"\");\n    const { defaultCountryCode } = useDefaultCountryCode();\n    const countryCode = defaultCountryCode;\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$l, [\n        createVNode(_sfc_main$u, {\n          identifier: identifier2.value,\n          \"onUpdate:identifier\": _cache[0] || (_cache[0] = ($event) => identifier2.value = $event),\n          countryCode: unref(countryCode),\n          \"onUpdate:countryCode\": _cache[1] || (_cache[1] = ($event) => isRef(countryCode) ? countryCode.value = $event : null),\n          canToggleLoginRegister: false,\n          appInfo: _ctx.appInfo,\n          conditionalUI: _ctx.conditionalUI,\n          changeEmail: _ctx.changeEmail\n        }, {\n          loginInput: withCtx(() => [\n            renderSlot(_ctx.$slots, \"loginInput\")\n          ]),\n          _: 3\n        }, 8, [\"identifier\", \"countryCode\", \"appInfo\", \"conditionalUI\", \"changeEmail\"]),\n        createVNode(_sfc_main$s, { \"app-info\": _ctx.appInfo }, null, 8, [\"app-info\"])\n      ]);\n    };\n  }\n});\nconst _hoisted_1$k = { class: \"view-email-input\" };\nconst _sfc_main$n = defineComponent({\n  __name: \"RegisterView\",\n  props: {\n    register: { type: Boolean },\n    appInfo: {}\n  },\n  setup(__props) {\n    const identifier2 = ref(\"\");\n    const { defaultCountryCode } = useDefaultCountryCode();\n    const countryCode = defaultCountryCode;\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$k, [\n        createVNode(_sfc_main$t, {\n          identifier: identifier2.value,\n          \"onUpdate:identifier\": _cache[0] || (_cache[0] = ($event) => identifier2.value = $event),\n          countryCode: unref(countryCode),\n          \"onUpdate:countryCode\": _cache[1] || (_cache[1] = ($event) => isRef(countryCode) ? countryCode.value = $event : null),\n          canToggleLoginRegister: false,\n          appInfo: _ctx.appInfo\n        }, null, 8, [\"identifier\", \"countryCode\", \"appInfo\"]),\n        createVNode(_sfc_main$s, { \"app-info\": _ctx.appInfo }, null, 8, [\"app-info\"])\n      ]);\n    };\n  }\n});\nconst _sfc_main$m = defineComponent({\n  name: \"Spinner\"\n});\nconst _hoisted_1$j = { class: \"spinner-box\" };\nconst _hoisted_2$e = { class: \"spinner-content\" };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$j, [\n    createBaseVNode(\"div\", _hoisted_2$e, [\n      renderSlot(_ctx.$slots, \"default\")\n    ])\n  ]);\n}\nvar Spinner = /* @__PURE__ */ _export_sfc(_sfc_main$m, [[\"render\", _sfc_render]]);\nconst _hoisted_1$i = { class: \"auth-flex-container\" };\nconst _hoisted_2$d = { class: \"title has-text-centered\" };\nconst _hoisted_3$c = {\n  key: 0,\n  class: \"content has-text-centered\",\n  style: { \"margin-bottom\": \"15px !important\" }\n};\nconst _hoisted_4$b = [\"innerHTML\"];\nconst _hoisted_5$a = { class: \"flex-row flex-center\" };\nconst _hoisted_6$8 = [\"onClick\", \"disabled\"];\nconst _hoisted_7$8 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"spacer\" }, null, -1);\nconst _hoisted_8$6 = { class: \"link has-text-centered\" };\nconst _hoisted_9$6 = [\"onClick\"];\nconst _sfc_main$l = defineComponent({\n  __name: \"MagicLink\",\n  props: {\n    identifier: {},\n    userIsRegistering: { type: Boolean },\n    identifierVerifying: { type: Boolean },\n    setupNewDevice: { type: Boolean },\n    identifierType: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const { t, locale } = useLocale();\n    const { passage } = usePassage();\n    const { emitEvent: emitEvent2 } = useAuthEvent();\n    const isEmail = computed(() => {\n      return props.identifierType === IdentifierType.email;\n    });\n    const title = computed(() => {\n      if (props.identifierVerifying) {\n        if (isEmail.value) {\n          if (props.userIsRegistering) {\n            return t(\"verify-email-to-register\");\n          } else {\n            return t(\"verify-email-to-login\");\n          }\n        } else {\n          if (props.userIsRegistering) {\n            return t(\"verify-phone-to-register\");\n          } else {\n            return t(\"verify-phone-to-login\");\n          }\n        }\n      } else {\n        if (isEmail.value) {\n          if (props.userIsRegistering) {\n            return t(\"check-email-to-register\");\n          } else {\n            return t(\"check-email-to-login\");\n          }\n        } else {\n          if (props.userIsRegistering) {\n            return t(\"check-phone-to-register\");\n          } else {\n            return t(\"check-phone-to-login\");\n          }\n        }\n      }\n    });\n    const message = computed(() => {\n      let messageValue = \"\";\n      const messageType = props.identifierType === IdentifierType.email ? t(\"messagetype-email\") : t(\"messagetype-sms\");\n      const messageMedium = props.identifierType === IdentifierType.email ? t(\"email\") : t(\"phone-number\");\n      const registrationType = props.userIsRegistering ? t(\"registration\") : t(\"login\");\n      const loginMessage = props.identifierVerifying ? t(\"please-verify-identifier\", [messageMedium, registrationType]) : t(\"you-will-be-automatically-signed-in\");\n      messageValue = t(\"weve-sent-messagetype\", [messageType, props.identifier, loginMessage]);\n      if (props.setupNewDevice && !props.userIsRegistering) {\n        messageValue = t(\"we-dont-recognize-this-device\") + \" \" + messageValue;\n      }\n      return messageValue;\n    });\n    onMounted(() => {\n      if (props.userIsRegistering) {\n        magicLinkSendRegister();\n      } else {\n        magicLinkSendLogin();\n      }\n    });\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      localStorage.removeItem(\"magic_link_id\");\n      localStorage.removeItem(\"wait_count\");\n      waitForActivatedMagicLink(721);\n      emitEvent2({ type: AuthEventType.ChangeIdentifier, payload: void 0 });\n    }\n    function resendMagicLink() {\n      return __async(this, null, function* () {\n        yield magicLinkSendLogin();\n      });\n    }\n    const showWaiting = ref(false);\n    const loading = ref(true);\n    function magicLinkSendRegister() {\n      return __async(this, null, function* () {\n        showWaiting.value = false;\n        loading.value = true;\n        yield new Promise((resolve) => {\n          setTimeout(resolve, 2e3);\n        });\n        try {\n          const res = yield passage.newRegisterMagicLink(props.identifier, locale.value.split(\"-\")[0]);\n          if (res.id != \"\") {\n            localStorage.setItem(\"magic_link_id\", res.id);\n            waitForActivatedMagicLink(0);\n          }\n        } catch (err) {\n          console.log(\"magicLinkSend error\", err);\n        } finally {\n          loading.value = false;\n        }\n      });\n    }\n    function magicLinkSendLogin() {\n      return __async(this, null, function* () {\n        showWaiting.value = false;\n        loading.value = true;\n        try {\n          const res = yield passage.newLoginMagicLink(props.identifier, locale.value.split(\"-\")[0]);\n          if (res.id != \"\") {\n            localStorage.setItem(\"magic_link_id\", res.id);\n            waitForActivatedMagicLink(0);\n          }\n        } catch (err) {\n          console.log(\"magicLinkSend error\", err);\n        } finally {\n          yield new Promise((resolve) => {\n            setTimeout(resolve, 3e3);\n          });\n          loading.value = false;\n        }\n      });\n    }\n    let authResult = void 0;\n    function lookupMagicLink() {\n      return __async(this, null, function* () {\n        const id = localStorage.getItem(\"magic_link_id\");\n        yield lookupMagicLinkActivated(id).then(() => __async(this, null, function* () {\n          if (authResult && authResult.redirect_url != \"\") {\n            localStorage.removeItem(\"magic_link_id\");\n            localStorage.removeItem(\"wait_count\");\n            useCallbacks().onEvent.value(OnEventType.onMagicLinkActivated);\n            emitEvent2({\n              type: AuthEventType.FallbackAuthSuccess,\n              payload: {\n                identifier: props.identifier,\n                authResult\n              }\n            });\n          }\n        }));\n      });\n    }\n    function lookupMagicLinkActivated(id) {\n      return __async(this, null, function* () {\n        yield passage.getMagicLinkStatus(id).then((res) => {\n          waitForActivatedMagicLink(721);\n          authResult = res;\n        }).catch(() => {\n        });\n        return;\n      });\n    }\n    let timer;\n    function waitForActivatedMagicLink(count) {\n      let i = count;\n      if (i < 720) {\n        showWaiting.value = true;\n        timer = setTimeout(() => __async(this, null, function* () {\n          delay(i);\n          i++;\n          waitForActivatedMagicLink(i);\n        }), 5e3);\n      } else {\n        clearTimeout(timer);\n        showWaiting.value = false;\n        return;\n      }\n    }\n    function delay(i) {\n      lookupMagicLink();\n      localStorage.setItem(\"wait_count\", i.toString());\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$i, [\n        createBaseVNode(\"div\", _hoisted_2$d, [\n          createBaseVNode(\"span\", null, toDisplayString(title.value), 1)\n        ]),\n        createVNode(Spinner, null, {\n          default: withCtx(() => [\n            isEmail.value ? (openBlock(), createBlock(unref(InlineSvg), {\n              key: 0,\n              src: unref(Icons).email,\n              alt: \"Email envelope\"\n            }, null, 8, [\"src\"])) : (openBlock(), createBlock(unref(InlineSvg), {\n              key: 1,\n              src: unref(Icons).phone,\n              alt: \"Message bubbles\"\n            }, null, 8, [\"src\"]))\n          ]),\n          _: 1\n        }),\n        message.value ? (openBlock(), createElementBlock(\"div\", _hoisted_3$c, [\n          createBaseVNode(\"span\", { innerHTML: message.value }, null, 8, _hoisted_4$b)\n        ])) : createCommentVNode(\"\", true),\n        createBaseVNode(\"div\", _hoisted_5$a, [\n          createBaseVNode(\"button\", {\n            onClick: withModifiers(resendMagicLink, [\"prevent\"]),\n            type: \"button\",\n            class: \"button is-primary\",\n            part: \"button\",\n            disabled: loading.value\n          }, toDisplayString(unref(t)(\"resend-isemail-email-message\", [isEmail.value ? unref(t)(\"email\") : unref(t)(\"message\")])), 9, _hoisted_6$8)\n        ]),\n        _hoisted_7$8,\n        createBaseVNode(\"div\", _hoisted_8$6, [\n          createBaseVNode(\"a\", {\n            onClick: withModifiers(changeEmail, [\"prevent\"]),\n            role: \"button\",\n            \"data-test\": \"change-email-button\"\n          }, toDisplayString(unref(t)(\"change-isemail-email-phone\", [isEmail.value ? unref(t)(\"email\") : unref(t)(\"phone\")])), 9, _hoisted_9$6)\n        ])\n      ]);\n    };\n  }\n});\nconst _hoisted_1$h = { class: \"view-access-token\" };\nconst _sfc_main$k = defineComponent({\n  __name: \"MagicLinkView\",\n  props: {\n    identifier: {},\n    userIsRegistering: { type: Boolean },\n    identifierVerifying: { type: Boolean },\n    setupNewDevice: { type: Boolean },\n    identifierType: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$h, [\n        createVNode(_sfc_main$l, {\n          identifier: _ctx.identifier,\n          userIsRegistering: _ctx.userIsRegistering,\n          identifierVerifying: _ctx.identifierVerifying,\n          setupNewDevice: _ctx.setupNewDevice,\n          identifierType: _ctx.identifierType\n        }, null, 8, [\"identifier\", \"userIsRegistering\", \"identifierVerifying\", \"setupNewDevice\", \"identifierType\"])\n      ]);\n    };\n  }\n});\nconst _hoisted_1$g = { class: \"passage-learnmore-modal\" };\nconst _hoisted_2$c = { class: \"passage-learnmore-top\" };\nconst _hoisted_3$b = { class: \"passage-learnmore-close-button\" };\nconst _hoisted_4$a = { class: \"passage-learnmore-content\" };\nconst _hoisted_5$9 = { style: { \"margin-bottom\": \"32px\" } };\nconst _sfc_main$j = defineComponent({\n  __name: \"LearnMoreLayout\",\n  setup(__props) {\n    const { t } = useLocale();\n    const showModal = ref(false);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        showModal.value ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: \"passage-learnmore\",\n          onClick: _cache[1] || (_cache[1] = ($event) => showModal.value = false)\n        }, [\n          createBaseVNode(\"div\", _hoisted_1$g, [\n            createBaseVNode(\"div\", _hoisted_2$c, [\n              createBaseVNode(\"div\", {\n                style: { \"cursor\": \"pointer\" },\n                onClick: _cache[0] || (_cache[0] = ($event) => showModal.value = false)\n              }, [\n                createBaseVNode(\"span\", _hoisted_3$b, toDisplayString(unref(t)(\"close\")), 1),\n                createVNode(unref(InlineSvg), {\n                  src: unref(Icons).close\n                }, null, 8, [\"src\"])\n              ])\n            ]),\n            createBaseVNode(\"div\", _hoisted_4$a, [\n              renderSlot(_ctx.$slots, \"body\")\n            ])\n          ])\n        ])) : createCommentVNode(\"\", true),\n        createBaseVNode(\"div\", null, [\n          createBaseVNode(\"div\", _hoisted_5$9, [\n            createBaseVNode(\"span\", null, [\n              renderSlot(_ctx.$slots, \"cta\"),\n              createTextVNode(\" \\xA0 \")\n            ]),\n            createBaseVNode(\"a\", {\n              style: { \"text-decoration\": \"underline\" },\n              onClick: _cache[2] || (_cache[2] = ($event) => showModal.value = true),\n              role: \"button\"\n            }, toDisplayString(unref(t)(\"learn-more\")), 1),\n            createTextVNode(\" \\u2192 \")\n          ])\n        ])\n      ], 64);\n    };\n  }\n});\nconst _hoisted_1$f = { style: { \"margin-bottom\": \"12px\" } };\nconst _hoisted_2$b = { class: \"passage-learnmore-header\" };\nconst _hoisted_3$a = { class: \"passage-learnmore-body\" };\nconst _hoisted_4$9 = { class: \"passage-learnmore-header\" };\nconst _hoisted_5$8 = { class: \"passage-learnmore-body\" };\nconst _hoisted_6$7 = { class: \"passage-learnmore-header\" };\nconst _hoisted_7$7 = { class: \"passage-learnmore-body\" };\nconst _sfc_main$i = defineComponent({\n  __name: \"LearnMorePasskey\",\n  props: {\n    cta: {}\n  },\n  setup(__props) {\n    const { t } = useLocale();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$j, null, {\n        cta: withCtx(() => [\n          createBaseVNode(\"div\", _hoisted_1$f, toDisplayString(unref(t)(\"passkeys-are-a-simple\")), 1),\n          createTextVNode(\" \" + toDisplayString(_ctx.cta), 1)\n        ]),\n        body: withCtx(() => [\n          createBaseVNode(\"div\", _hoisted_2$b, [\n            createVNode(unref(InlineSvg), {\n              src: unref(Icons).privateIcon,\n              style: { \"margin-right\": \"8px\" }\n            }, null, 8, [\"src\"]),\n            createTextVNode(\" \" + toDisplayString(unref(t)(\"private\")), 1)\n          ]),\n          createBaseVNode(\"div\", _hoisted_3$a, toDisplayString(unref(t)(\"unlock-your-passkey\")), 1),\n          createBaseVNode(\"div\", _hoisted_4$9, [\n            createVNode(unref(InlineSvg), {\n              src: unref(Icons).secure,\n              style: { \"margin-right\": \"8px\" }\n            }, null, 8, [\"src\"]),\n            createTextVNode(\" \" + toDisplayString(unref(t)(\"secure\")), 1)\n          ]),\n          createBaseVNode(\"div\", _hoisted_5$8, toDisplayString(unref(t)(\"passkey-is-unique\")), 1),\n          createBaseVNode(\"div\", _hoisted_6$7, [\n            createVNode(unref(InlineSvg), {\n              src: unref(Icons).simple,\n              style: { \"margin-right\": \"8px\" }\n            }, null, 8, [\"src\"]),\n            createTextVNode(\" \" + toDisplayString(unref(t)(\"simple\")), 1)\n          ]),\n          createBaseVNode(\"div\", _hoisted_7$7, toDisplayString(unref(t)(\"easy-to-use\")), 1)\n        ]),\n        _: 1\n      });\n    };\n  }\n});\nconst _hoisted_1$e = {\n  class: \"auth-flex-container\",\n  \"data-tag\": \"register-device-message\"\n};\nconst _hoisted_2$a = { class: \"title secondary-title has-text-centered\" };\nconst _hoisted_3$9 = { class: \"image has-text-centered\" };\nconst _hoisted_4$8 = { key: 0 };\nconst _hoisted_5$7 = { key: 1 };\nconst _hoisted_6$6 = { key: 1 };\nconst _hoisted_7$6 = { style: { \"margin-bottom\": \"12px\" } };\nconst _hoisted_8$5 = { style: { \"margin-bottom\": \"22px\" } };\nconst _hoisted_9$5 = { key: 2 };\nconst _hoisted_10$3 = { style: { \"margin-bottom\": \"32px\" } };\nconst _hoisted_11$3 = {\n  key: 2,\n  class: \"flex-row flex-center\"\n};\nconst _hoisted_12$3 = [\"onClick\", \"disabled\"];\nconst _hoisted_13$3 = [\"onClick\", \"disabled\"];\nconst _hoisted_14$3 = {\n  key: 3,\n  class: \"flex-column flex-center\",\n  style: { \"margin\": \"auto\" }\n};\nconst _hoisted_15$3 = [\"onClick\", \"disabled\"];\nconst _hoisted_16$3 = [\"onClick\", \"disabled\"];\nconst _hoisted_17$2 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"spacer\" }, null, -1);\nconst _hoisted_18$1 = {\n  key: 4,\n  class: \"content has-text-centered\",\n  style: { \"margin-top\": \"20px !important\" }\n};\nconst _hoisted_19$1 = { class: \"link\" };\nconst _hoisted_20$1 = [\"onClick\"];\nconst _hoisted_21$1 = { class: \"link\" };\nconst _hoisted_22$1 = [\"onClick\"];\nconst _hoisted_23$1 = {\n  key: 0,\n  class: \"link\"\n};\nconst _hoisted_24$1 = [\"onClick\"];\nconst _sfc_main$h = defineComponent({\n  __name: \"RegisterDevice\",\n  props: {\n    identifier: {},\n    identifierType: {},\n    appInfo: {},\n    browserFeatures: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const showFailure = ref(false);\n    const loading = ref(false);\n    const { t, te } = useLocale();\n    const { passage } = usePassage();\n    const { emitEvent: emitEvent2 } = useAuthEvent();\n    const { autofocusButton } = useAutofocusButton();\n    const supportsPlatform = computed(() => {\n      return props.browserFeatures.platform;\n    });\n    const supportsCrossPlatform = computed(() => {\n      return props.browserFeatures.securityKey;\n    });\n    const isEmail = computed(() => {\n      return props.identifierType === IdentifierType.email;\n    });\n    const fallbackAuth = computed(() => {\n      var _a;\n      return (_a = props.appInfo.auth_fallback_method) != null ? _a : he.MagicLink;\n    });\n    const supportsFallback = computed(() => {\n      return props.appInfo.auth_fallback_method !== he.None;\n    });\n    const fallbackRegisterWithCodeEmailOrTextBtnCopy = computed(() => {\n      if (fallbackAuth.value === he.LoginCode) {\n        return te(\"register-with-code\") ? t(\"register-with-code\") : \"Register with a code\";\n      } else {\n        return t(\"register-with-link\", [isEmail.value ? t(\"email\") : t(\"sms-text\")]);\n      }\n    });\n    const fallbackSendCodeEmailOrTextBtnCopy = computed(() => {\n      if (fallbackAuth.value === he.LoginCode) {\n        return te(\"send-code\") ? t(\"send-code\") : \"Send code\";\n      } else {\n        return t(\"send-email-or-text-link\", [isEmail.value ? t(\"email\") : t(\"sms-text\")]);\n      }\n    });\n    const failureCreateText = computed(() => {\n      switch (props.appInfo.auth_fallback_method) {\n        case he.LoginCode:\n          return te(\"passkey-create-fail-try-code\") ? t(\"passkey-create-fail-try-code\") : \"Unable to create a passkey. Try again or register with a one-time code.\";\n        case he.MagicLink:\n          return t(\"passkey-create-fail-try-link\");\n        case he.None:\n          return t(\"passkey-create-fail-no-fallback\");\n      }\n    });\n    let previousAttachment = E.Platform;\n    function signUpWebAuthn(identifier2, authenticatorAttachment) {\n      return __async(this, null, function* () {\n        loading.value = true;\n        try {\n          previousAttachment = authenticatorAttachment;\n          const authResult = yield passage.register(identifier2, { authenticatorAttachment });\n          loading.value = false;\n          emitEvent2({\n            type: AuthEventType.AuthSuccess,\n            payload: {\n              authResult,\n              identifier: props.identifier\n            }\n          });\n        } catch (err) {\n          showFailure.value = true;\n          loading.value = false;\n        }\n      });\n    }\n    function registerWithFallback() {\n      emitEvent2({\n        type: AuthEventType.FallbackAuth,\n        payload: {\n          identifier: props.identifier,\n          identifierType: props.identifierType,\n          userIsRegistering: true,\n          userInitiated: true\n        }\n      });\n    }\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      useAuthEvent().emitEvent({ type: AuthEventType.ChangeIdentifier, payload: void 0 });\n    }\n    function primaryRegister() {\n      if (supportsPlatform.value === true) {\n        signUpWebAuthn(props.identifier, E.Platform);\n      } else {\n        signUpWebAuthn(props.identifier, E.CrossPlatform);\n      }\n    }\n    function secondaryRegister() {\n      signUpWebAuthn(props.identifier, E.CrossPlatform);\n    }\n    function tryAgain() {\n      signUpWebAuthn(props.identifier, previousAttachment);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$e, [\n        createBaseVNode(\"div\", _hoisted_2$a, toDisplayString(supportsPlatform.value ? unref(t)(\"register-with-a-passkey\") : unref(t)(\"register-passkey-another-device\")), 1),\n        createBaseVNode(\"figure\", _hoisted_3$9, [\n          createVNode(unref(InlineSvg), {\n            src: unref(Icons).passkey,\n            alt: \"Register with a passkey\"\n          }, null, 8, [\"src\"])\n        ]),\n        showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_4$8, [\n          createBaseVNode(\"p\", null, toDisplayString(failureCreateText.value), 1)\n        ])) : (openBlock(), createElementBlock(\"div\", _hoisted_5$7, [\n          supportsPlatform.value && !supportsCrossPlatform.value ? (openBlock(), createBlock(_sfc_main$i, {\n            key: 0,\n            cta: unref(t)(\"register-your-account\")\n          }, null, 8, [\"cta\"])) : createCommentVNode(\"\", true),\n          supportsPlatform.value && supportsCrossPlatform.value ? (openBlock(), createElementBlock(\"div\", _hoisted_6$6, [\n            createBaseVNode(\"div\", _hoisted_7$6, toDisplayString(unref(t)(\"passkeys-are-a-simple\")), 1),\n            createBaseVNode(\"div\", _hoisted_8$5, toDisplayString(unref(t)(\"passkey-register-options\")), 1)\n          ])) : createCommentVNode(\"\", true),\n          !supportsPlatform.value && supportsCrossPlatform.value ? (openBlock(), createElementBlock(\"div\", _hoisted_9$5, [\n            createBaseVNode(\"div\", _hoisted_10$3, toDisplayString(unref(t)(\"passkeys-not-supported-try-another-device\")), 1)\n          ])) : createCommentVNode(\"\", true)\n        ])),\n        showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_11$3, [\n          createBaseVNode(\"button\", {\n            onClick: withModifiers(tryAgain, [\"prevent\"]),\n            type: \"button\",\n            part: \"button\",\n            class: \"button is-primary\",\n            disabled: loading.value,\n            style: { \"margin-right\": \"5px\" }\n          }, toDisplayString(unref(t)(\"try-again\")), 9, _hoisted_12$3),\n          _ctx.appInfo.auth_fallback_method !== unref(he).None ? (openBlock(), createElementBlock(\"button\", {\n            key: 0,\n            onClick: withModifiers(registerWithFallback, [\"prevent\"]),\n            type: \"button\",\n            part: \"button button-secondary\",\n            class: \"button is-secondary\",\n            disabled: loading.value,\n            style: { \"margin-left\": \"5px\" },\n            \"data-test\": \"login-with-email-button\",\n            ref_key: \"autofocusButton\",\n            ref: autofocusButton\n          }, toDisplayString(fallbackSendCodeEmailOrTextBtnCopy.value), 9, _hoisted_13$3)) : createCommentVNode(\"\", true)\n        ])) : (openBlock(), createElementBlock(\"div\", _hoisted_14$3, [\n          createBaseVNode(\"button\", {\n            onClick: withModifiers(primaryRegister, [\"prevent\"]),\n            type: \"button\",\n            class: normalizeClass([\"button\", [{ \"is-loading\": loading.value }]]),\n            part: \"button\",\n            disabled: loading.value,\n            \"data-test\": \"register-main-button\",\n            tabindex: \"0\",\n            ref_key: \"autofocusButton\",\n            ref: autofocusButton,\n            style: { \"margin-top\": \"0px\" }\n          }, [\n            createBaseVNode(\"span\", null, toDisplayString(supportsPlatform.value ? unref(t)(\"register-with-passkey\") : unref(t)(\"use-another-device\")), 1)\n          ], 10, _hoisted_15$3),\n          supportsPlatform.value && supportsCrossPlatform.value ? (openBlock(), createElementBlock(\"button\", {\n            key: 0,\n            onClick: withModifiers(secondaryRegister, [\"prevent\"]),\n            type: \"button\",\n            class: normalizeClass([\"button is-secondary\", [{ \"is-loading\": loading.value }]]),\n            part: \"button button-secondary\",\n            style: { \"width\": \"100%\" },\n            disabled: loading.value,\n            \"data-test\": \"register-secondary-button\",\n            tabindex: \"0\",\n            ref_key: \"autofocusButton\",\n            ref: autofocusButton\n          }, [\n            createBaseVNode(\"span\", null, toDisplayString(unref(t)(\"use-another-device\")), 1)\n          ], 10, _hoisted_16$3)) : createCommentVNode(\"\", true)\n        ])),\n        _hoisted_17$2,\n        showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_18$1, [\n          createBaseVNode(\"div\", _hoisted_19$1, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(changeEmail, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"change-email-button\"\n            }, toDisplayString(unref(t)(\"change-isemail-email-phone\", [isEmail.value ? unref(t)(\"email\") : unref(t)(\"phone\")])), 9, _hoisted_20$1)\n          ])\n        ])) : createCommentVNode(\"\", true),\n        !showFailure.value ? (openBlock(), createElementBlock(\"div\", {\n          key: 5,\n          class: normalizeClass([\"flex-row flex-wrap\", supportsFallback.value ? \"flex-between\" : \"flex-center\"])\n        }, [\n          createBaseVNode(\"div\", _hoisted_21$1, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(changeEmail, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"change-email-button\"\n            }, toDisplayString(unref(t)(\"back\")), 9, _hoisted_22$1)\n          ]),\n          supportsFallback.value ? (openBlock(), createElementBlock(\"div\", _hoisted_23$1, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(registerWithFallback, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"register-email-button\"\n            }, toDisplayString(fallbackRegisterWithCodeEmailOrTextBtnCopy.value), 9, _hoisted_24$1)\n          ])) : createCommentVNode(\"\", true)\n        ], 2)) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nconst _sfc_main$g = defineComponent({\n  __name: \"RegisterDeviceView\",\n  props: {\n    identifier: {},\n    identifierType: {},\n    appInfo: {},\n    browserFeatures: {}\n  },\n  setup(__props) {\n    const props = __props;\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$h, normalizeProps(guardReactiveProps(props)), null, 16);\n    };\n  }\n});\nconst _hoisted_1$d = { class: \"auth-flex-container\" };\nconst _hoisted_2$9 = { class: \"title has-text-centered\" };\nconst _hoisted_3$8 = {\n  class: \"image has-text-centered\",\n  style: { \"margin\": \"5px auto\" }\n};\nconst _hoisted_4$7 = {\n  key: 1,\n  class: \"wrap-text\",\n  style: { \"margin-bottom\": \"5px !important\" }\n};\nconst _hoisted_5$6 = { \"data-test\": \"failure-message\" };\nconst _hoisted_6$5 = {\n  key: 2,\n  class: \"flex-row flex-center\"\n};\nconst _hoisted_7$5 = [\"onClick\", \"disabled\"];\nconst _hoisted_8$4 = [\"onClick\", \"disabled\"];\nconst _hoisted_9$4 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"spacer\" }, null, -1);\nconst _hoisted_10$2 = {\n  key: 3,\n  class: \"content has-text-centered\",\n  style: { \"margin-top\": \"20px !important\" }\n};\nconst _hoisted_11$2 = { class: \"link\" };\nconst _hoisted_12$2 = [\"onClick\"];\nconst _hoisted_13$2 = { class: \"link\" };\nconst _hoisted_14$2 = [\"onClick\"];\nconst _hoisted_15$2 = {\n  key: 0,\n  class: \"link\"\n};\nconst _hoisted_16$2 = [\"onClick\"];\nconst _sfc_main$f = defineComponent({\n  __name: \"WebauthnSignIn\",\n  props: {\n    identifier: {},\n    identifierType: {},\n    appInfo: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const showFailure = ref(false);\n    const loading = ref(false);\n    const { t, te } = useLocale();\n    const { passage } = usePassage();\n    const { emitEvent: emitEvent2 } = useAuthEvent();\n    const isEmail = computed(() => {\n      return props.identifierType === IdentifierType.email;\n    });\n    const { autofocusButton } = useAutofocusButton();\n    const fallbackAuth = computed(() => {\n      var _a;\n      return (_a = props.appInfo.auth_fallback_method) != null ? _a : he.MagicLink;\n    });\n    const supportsFallback = computed(() => {\n      return props.appInfo.auth_fallback_method !== he.None;\n    });\n    const fallbackSendCodeEmailOrTextBtnCopy = computed(() => {\n      if (fallbackAuth.value === he.LoginCode) {\n        return te(\"send-code\") ? t(\"send-code\") : \"Send code\";\n      } else {\n        return t(\"send-email-or-text-link\", [isEmail.value ? t(\"email\") : t(\"sms-text\")]);\n      }\n    });\n    const loginWithCodeEmailOrTextBtnCopy = computed(() => {\n      if (fallbackAuth.value === he.LoginCode) {\n        return te(\"login-with-code\") ? t(\"login-with-code\") : \"Login with a code\";\n      } else {\n        return t(\"login-with-link\", [isEmail.value ? t(\"email\") : t(\"sms-text\")]);\n      }\n    });\n    const failureLoginText = computed(() => {\n      switch (props.appInfo.auth_fallback_method) {\n        case he.LoginCode:\n          return te(\"passkey-login-fail-try-code\") ? t(\"passkey-login-fail-try-code\") : \"Unable to log in with a passkey. Try again or log in with a one-time code.\";\n        case he.MagicLink:\n          return t(\"passkey-login-fail-try-link\");\n        case he.None:\n          return t(\"passkey-login-fail-no-fallback\");\n      }\n    });\n    function signInWebAuthn() {\n      return __async(this, null, function* () {\n        showFailure.value = false;\n        if (!props.identifier) {\n          return;\n        }\n        loading.value = true;\n        try {\n          const authResult = yield passage.login(props.identifier);\n          emitEvent2({\n            type: AuthEventType.AuthSuccess,\n            payload: {\n              authResult,\n              identifier: props.identifier\n            }\n          });\n          loading.value = false;\n        } catch (err) {\n          const error = err;\n          showFailure.value = true;\n          loading.value = false;\n          if (error.statusCode === P.PSGParsePublicKeyForLoginFailed) {\n            showFailure.value = true;\n          } else {\n            emitEvent2({\n              type: AuthEventType.FallbackAuth,\n              payload: {\n                identifier: props.identifier,\n                identifierType: props.identifierType,\n                userInitiated: false\n              }\n            });\n          }\n        }\n      });\n    }\n    function loginWithFallback() {\n      emitEvent2({\n        type: AuthEventType.FallbackAuth,\n        payload: {\n          identifier: props.identifier,\n          identifierType: props.identifierType,\n          userInitiated: true\n        }\n      });\n    }\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      emitEvent2({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    }\n    onMounted(() => {\n      signInWebAuthn();\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$d, [\n        createBaseVNode(\"div\", _hoisted_2$9, toDisplayString(unref(t)(\"log-in-with-a-passkey\")), 1),\n        createBaseVNode(\"figure\", _hoisted_3$8, [\n          createVNode(unref(InlineSvg), {\n            src: unref(Icons).passkey,\n            alt: \"Log in with a passkey\",\n            style: { \"margin\": \"5px\" }\n          }, null, 8, [\"src\"])\n        ]),\n        !showFailure.value ? (openBlock(), createBlock(_sfc_main$i, {\n          key: 0,\n          cta: unref(t)(\"log-into-your-account\")\n        }, null, 8, [\"cta\"])) : showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_4$7, [\n          createBaseVNode(\"div\", _hoisted_5$6, [\n            createBaseVNode(\"p\", null, toDisplayString(failureLoginText.value), 1)\n          ])\n        ])) : createCommentVNode(\"\", true),\n        showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_6$5, [\n          createBaseVNode(\"button\", {\n            onClick: withModifiers(signInWebAuthn, [\"prevent\"]),\n            type: \"button\",\n            part: \"button\",\n            class: \"button is-primary\",\n            disabled: loading.value,\n            style: { \"margin-right\": \"5px\" }\n          }, toDisplayString(unref(t)(\"try-again\")), 9, _hoisted_7$5),\n          _ctx.appInfo.auth_fallback_method !== unref(he).None ? (openBlock(), createElementBlock(\"button\", {\n            key: 0,\n            onClick: withModifiers(loginWithFallback, [\"prevent\"]),\n            type: \"button\",\n            part: \"button button-secondary\",\n            class: \"button is-secondary\",\n            disabled: loading.value,\n            style: { \"margin-left\": \"5px\" },\n            \"data-test\": \"login-with-email-button\",\n            ref_key: \"autofocusButton\",\n            ref: autofocusButton\n          }, toDisplayString(fallbackSendCodeEmailOrTextBtnCopy.value), 9, _hoisted_8$4)) : createCommentVNode(\"\", true)\n        ])) : createCommentVNode(\"\", true),\n        _hoisted_9$4,\n        showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_10$2, [\n          createBaseVNode(\"div\", _hoisted_11$2, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(changeEmail, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"change-email-button\"\n            }, toDisplayString(unref(t)(\"change-isemail-email-phone\", [isEmail.value ? unref(t)(\"email\") : unref(t)(\"phone\")])), 9, _hoisted_12$2)\n          ])\n        ])) : createCommentVNode(\"\", true),\n        !showFailure.value ? (openBlock(), createElementBlock(\"div\", {\n          key: 4,\n          class: normalizeClass([\"flex-row flex-wrap\", supportsFallback.value ? \"flex-between\" : \"flex-center\"])\n        }, [\n          createBaseVNode(\"div\", _hoisted_13$2, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(changeEmail, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"change-email-button\"\n            }, toDisplayString(unref(t)(\"back\")), 9, _hoisted_14$2)\n          ]),\n          supportsFallback.value ? (openBlock(), createElementBlock(\"div\", _hoisted_15$2, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(loginWithFallback, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"register-email-button\"\n            }, toDisplayString(loginWithCodeEmailOrTextBtnCopy.value), 9, _hoisted_16$2)\n          ])) : createCommentVNode(\"\", true)\n        ], 2)) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nconst _hoisted_1$c = { class: \"view-webauthn-sign-in\" };\nconst _sfc_main$e = defineComponent({\n  __name: \"WebauthnSignInView\",\n  props: {\n    identifier: {},\n    identifierType: {},\n    appInfo: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$c, [\n        createVNode(_sfc_main$f, {\n          identifier: _ctx.identifier,\n          identifierType: _ctx.identifierType,\n          appInfo: _ctx.appInfo\n        }, null, 8, [\"identifier\", \"identifierType\", \"appInfo\"])\n      ]);\n    };\n  }\n});\nconst _hoisted_1$b = {\n  style: { \"display\": \"flex\", \"align-items\": \"center\" },\n  class: \"psg-otp-single-input-container\"\n};\nconst _hoisted_2$8 = [\"data-test\", \"type\", \"inputtype\", \"placeholder\", \"inputmode\", \"disabled\", \"maxlength\", \"autocomplete\"];\nconst _hoisted_3$7 = { key: 0 };\nconst _hoisted_4$6 = [\"innerHTML\"];\nconst _sfc_main$d = defineComponent({\n  __name: \"OneTimePasscodeSingleInput\",\n  props: {\n    conditionalClass: {},\n    focus: { type: Boolean },\n    inputClasses: { default: () => [] },\n    inputmode: { default: \"numeric\" },\n    inputType: { default: \"number\" },\n    isDisabled: { type: Boolean },\n    isLastChild: { type: Boolean },\n    placeholder: {},\n    separator: { default: \"\" },\n    shouldAutoFocus: { type: Boolean, default: false },\n    value: { default: \"\" },\n    isFirstChild: { type: Boolean },\n    inputIdx: {},\n    inputCount: {}\n  },\n  emits: [\"on-change\", \"on-keydown\", \"on-paste\", \"on-focus\", \"on-blur\"],\n  setup(__props, { emit }) {\n    const props = __props;\n    const model = ref(props.value || \"\");\n    const input = ref(null);\n    const inputTypeValue = computed(() => {\n      return props.inputType === \"letter-numeric\" ? \"text\" : props.inputType;\n    });\n    const handleOnChange = () => {\n      model.value = model.value.toString();\n      if (model.value.length > 1) {\n        model.value = model.value.slice(0, 1);\n      }\n      return emit(\"on-change\", model.value);\n    };\n    const isCodeLetter = (charCode) => charCode >= 65 && charCode <= 90;\n    const isCodeNumeric = (charCode) => charCode >= 48 && charCode <= 57 || charCode >= 96 && charCode <= 105;\n    const handleOnKeyDown = (event) => {\n      if (props.isDisabled) {\n        event.preventDefault();\n      }\n      const keyEvent = event || window.event;\n      const charCode = keyEvent.which ? keyEvent.which : keyEvent.keyCode;\n      if (isCodeNumeric(charCode) || props.inputType === \"letter-numeric\" && isCodeLetter(charCode) || [8, 9, 13, 37, 39, 46, 86].includes(charCode)) {\n        emit(\"on-keydown\", event);\n      } else {\n        keyEvent.preventDefault();\n      }\n    };\n    const handleOnPaste = (event) => emit(\"on-paste\", event);\n    const handleOnFocus = () => {\n      input.value.select();\n      return emit(\"on-focus\");\n    };\n    const handleOnBlur = () => emit(\"on-blur\");\n    watch(\n      () => props.value,\n      (newValue, oldValue) => {\n        if (newValue !== oldValue) {\n          model.value = newValue;\n        }\n      }\n    );\n    watch(\n      () => props.focus,\n      (newFocusValue, oldFocusValue) => {\n        if (oldFocusValue !== newFocusValue && input.value && props.focus) {\n          input.value.focus();\n          input.value.select();\n        }\n      }\n    );\n    onMounted(() => {\n      if (input.value && props.focus && props.shouldAutoFocus) {\n        input.value.focus();\n        input.value.select();\n      }\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$b, [\n        withDirectives(createBaseVNode(\"input\", {\n          \"data-test\": `otp-single-input-${_ctx.inputIdx}`,\n          type: inputTypeValue.value,\n          inputtype: inputTypeValue.value,\n          placeholder: _ctx.placeholder,\n          inputmode: _ctx.inputmode,\n          disabled: _ctx.isDisabled,\n          ref_key: \"input\",\n          ref: input,\n          pattern: \"[0-9]*\",\n          maxlength: _ctx.isFirstChild ? _ctx.inputCount : 1,\n          min: \"0\",\n          max: \"9\",\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => model.value = $event),\n          class: normalizeClass([\"psg-input\", \"psg-otp-input\", [..._ctx.inputClasses || []]]),\n          onInput: handleOnChange,\n          onKeydown: handleOnKeyDown,\n          onPaste: handleOnPaste,\n          onFocus: handleOnFocus,\n          onBlur: handleOnBlur,\n          autocomplete: _ctx.isFirstChild ? \"one-time-code\" : \"off\"\n        }, null, 42, _hoisted_2$8), [\n          [vModelDynamic, model.value]\n        ]),\n        !_ctx.isLastChild && _ctx.separator ? (openBlock(), createElementBlock(\"span\", _hoisted_3$7, [\n          createBaseVNode(\"span\", { innerHTML: _ctx.separator }, null, 8, _hoisted_4$6)\n        ])) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nconst _hoisted_1$a = {\n  style: { \"display\": \"flex\", \"justify-content\": \"space-between\" },\n  class: \"psg-otp-input-container\"\n};\nconst _hoisted_2$7 = {\n  key: 0,\n  autocomplete: \"off\",\n  name: \"hidden\",\n  type: \"text\",\n  style: { \"display\": \"none\" }\n};\nconst _sfc_main$c = defineComponent({\n  __name: \"OneTimePasscodeInput\",\n  props: {\n    value: { default: \"\" },\n    numInputs: { default: 6 },\n    separator: { default: \"\" },\n    inputClasses: {},\n    conditionalClass: { default: () => [] },\n    inputType: { default: \"number\" },\n    inputmode: { default: \"numeric\" },\n    shouldAutoFocus: { type: Boolean, default: false },\n    placeholder: { default: () => [] },\n    isDisabled: { type: Boolean, default: false },\n    disableNonCurrent: { type: Boolean, default: false }\n  },\n  emits: [\"update:value\", \"on-complete\", \"on-change\"],\n  setup(__props, { emit }) {\n    const props = __props;\n    const activeInput = ref(0);\n    const otp = ref([]);\n    const oldOtp = ref([]);\n    watch(\n      () => props.value,\n      (val) => {\n        const fill = (unref(val) || \"\").padEnd(props.numInputs, \" \").split(\"\");\n        otp.value = fill;\n      },\n      { immediate: true }\n    );\n    const handleOnFocus = (index) => {\n      activeInput.value = index;\n    };\n    const handleOnBlur = () => {\n      activeInput.value = -1;\n    };\n    const checkFilledAllInputs = () => {\n      if (otp.value.join(\"\").length === props.numInputs) {\n        emit(\"update:value\", otp.value.join(\"\"));\n        return emit(\"on-complete\", otp.value.join(\"\"));\n      }\n      return \"Wait until the user enters the required number of characters\";\n    };\n    const focusInput = (input) => {\n      activeInput.value = Math.max(Math.min(props.numInputs - 1, input), 0);\n    };\n    const focusNextInput = () => {\n      if (props.disableNonCurrent) {\n        setTimeout(() => {\n          focusInput(activeInput.value + 1);\n        }, 200);\n      } else {\n        focusInput(activeInput.value + 1);\n      }\n    };\n    const focusPrevInput = () => {\n      focusInput(activeInput.value - 1);\n    };\n    const changeCodeAtFocus = (value) => {\n      oldOtp.value = Object.assign([], otp.value);\n      otp.value[activeInput.value] = value;\n      if (oldOtp.value.join(\"\") !== otp.value.join(\"\")) {\n        emit(\"update:value\", otp.value.join(\"\"));\n        emit(\"on-change\", otp.value.join(\"\"));\n      }\n    };\n    const handleOnPaste = (event) => {\n      var _a;\n      event.preventDefault();\n      const pastedData = (_a = event.clipboardData) == null ? void 0 : _a.getData(\"text/plain\").slice(0, props.numInputs - activeInput.value).split(\"\");\n      if (props.inputType === \"number\" && !(pastedData == null ? void 0 : pastedData.join(\"\").match(/^\\d+$/))) {\n        return \"Invalid pasted data\";\n      }\n      if (props.inputType === \"letter-numeric\" && !(pastedData == null ? void 0 : pastedData.join(\"\").match(/^\\w+$/))) {\n        return \"Invalid pasted data\";\n      }\n      const currentCharsInOTP = otp.value.slice(0, activeInput.value);\n      const combinedWithPastedData = currentCharsInOTP.concat(pastedData || \"\");\n      combinedWithPastedData.slice(0, props.numInputs).forEach((value, i) => {\n        otp.value[i] = value;\n      });\n      focusInput(combinedWithPastedData.slice(0, props.numInputs).length);\n      return checkFilledAllInputs();\n    };\n    const handleOnChange = (value) => {\n      changeCodeAtFocus(value);\n      focusNextInput();\n    };\n    const handleOnKeyDown = (event) => {\n      switch (event.keyCode) {\n        case 8:\n          event.preventDefault();\n          changeCodeAtFocus(\"\");\n          focusPrevInput();\n          break;\n        case 46:\n          event.preventDefault();\n          changeCodeAtFocus(\"\");\n          break;\n        case 37:\n          event.preventDefault();\n          focusPrevInput();\n          break;\n        case 39:\n          event.preventDefault();\n          focusNextInput();\n          break;\n      }\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$a, [\n        _ctx.inputType === \"password\" ? (openBlock(), createElementBlock(\"input\", _hoisted_2$7)) : createCommentVNode(\"\", true),\n        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.numInputs, (_, i) => {\n          return openBlock(), createBlock(_sfc_main$d, {\n            key: i,\n            focus: activeInput.value === i,\n            value: otp.value[i],\n            separator: _ctx.separator,\n            \"input-type\": _ctx.inputType,\n            inputmode: _ctx.inputmode,\n            \"input-classes\": _ctx.inputClasses,\n            conditionalClass: _ctx.conditionalClass[i],\n            \"is-last-child\": i === _ctx.numInputs - 1,\n            \"is-first-child\": i === 0,\n            \"should-auto-focus\": _ctx.shouldAutoFocus,\n            placeholder: _ctx.placeholder[i],\n            \"is-disabled\": _ctx.isDisabled || _ctx.disableNonCurrent && i > otp.value.join(\"\").trim().length,\n            \"input-idx\": i,\n            \"input-count\": _ctx.numInputs,\n            onOnChange: handleOnChange,\n            onOnKeydown: handleOnKeyDown,\n            onOnPaste: handleOnPaste,\n            onOnFocus: ($event) => handleOnFocus(i),\n            onOnBlur: handleOnBlur\n          }, null, 8, [\"focus\", \"value\", \"separator\", \"input-type\", \"inputmode\", \"input-classes\", \"conditionalClass\", \"is-last-child\", \"is-first-child\", \"should-auto-focus\", \"placeholder\", \"is-disabled\", \"input-idx\", \"input-count\", \"onOnFocus\"]);\n        }), 128))\n      ]);\n    };\n  }\n});\nconst _hoisted_1$9 = { class: \"auth-flex-container\" };\nconst _hoisted_2$6 = {\n  class: \"flex flex-column\",\n  style: { \"flex-grow\": \"1\" }\n};\nconst _hoisted_3$6 = { class: \"title has-text-centered\" };\nconst _hoisted_4$5 = { class: \"content wrap-text\" };\nconst _hoisted_5$5 = { style: { \"margin-top\": \"32px\", \"margin-bottom\": \"40px\" } };\nconst _hoisted_6$4 = [\"innerHTML\"];\nconst _hoisted_7$4 = { class: \"flex flex-row flex-center\" };\nconst _hoisted_8$3 = {\n  class: \"flex-row\",\n  style: { \"margin-top\": \"8px\" }\n};\nconst _hoisted_9$3 = {\n  class: \"error-message\",\n  style: { \"min-height\": \"17px\" }\n};\nconst _hoisted_10$1 = {\n  class: \"flex-row flex-center\",\n  style: { \"margin-top\": \"16px\" }\n};\nconst _hoisted_11$1 = [\"onClick\", \"disabled\"];\nconst _hoisted_12$1 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"spacer\" }, null, -1);\nconst _hoisted_13$1 = { class: \"flex-row flex-wrap flex-between\" };\nconst _hoisted_14$1 = { class: \"link\" };\nconst _hoisted_15$1 = [\"onClick\"];\nconst _hoisted_16$1 = { class: \"link\" };\nconst _hoisted_17$1 = [\"onClick\"];\nconst numInputs = 6;\nconst disableInputsOnSendCodeError = false;\nconst _sfc_main$b = defineComponent({\n  __name: \"OneTimePasscode\",\n  props: {\n    identifier: {},\n    userIsRegistering: { type: Boolean },\n    identifierVerifying: { type: Boolean },\n    setupNewDevice: { type: Boolean },\n    identifierType: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const { t, te, locale } = useLocale();\n    const loading = ref(true);\n    const oneTimePasscode = ref(void 0);\n    const errorWithOneTimePasscode = ref(false);\n    const errorSendingOneTimePasscode = ref(false);\n    const errorMessage = ref(void 0);\n    const otpId = ref(void 0);\n    const title = computed(() => {\n      return te(\"enter-code\") ? t(\"enter-code\", {}) : \"Enter code\";\n    });\n    const message = computed(() => {\n      return te(\"enter-code-sent\") ? t(\"enter-code-sent\", [props.identifier]) : `A one-time code has been sent to <span style=\"font-weight: 700;\">${props.identifier}</span>. Enter the code here to log in.`;\n    });\n    const btnGoBackText = computed(() => {\n      return te(\"back\") ? t(\"back\") : \"Back\";\n    });\n    const btnResendText = computed(() => {\n      return te(\"resend-code\") ? t(\"resend-code\") : \"Resend code\";\n    });\n    const oneTimePasscodeInputClasses = computed(() => {\n      return errorWithOneTimePasscode.value ? [\"has-error\"] : [];\n    });\n    const oneTimePasscodeInputsDisabled = computed(() => {\n      return disableInputsOnSendCodeError;\n    });\n    const continueBtnDisabled = computed(() => {\n      return loading.value;\n    });\n    watch(oneTimePasscode, () => {\n      var _a;\n      _resetErrorState();\n      if (((_a = oneTimePasscode.value) == null ? void 0 : _a.trim().length) === numInputs) {\n        activateOneTimePasscode();\n      }\n    });\n    const { passage } = usePassage();\n    const sendOneTimePasscode = (isRegistering = false) => __async(this, null, function* () {\n      _resetLoadingState();\n      _resetErrorState();\n      _resetOneTimePasscode();\n      loading.value = true;\n      try {\n        const res = isRegistering ? yield passage.newRegisterOneTimePasscode(props.identifier, locale.value.split(\"-\")[0]) : yield passage.newLoginOneTimePasscode(props.identifier, locale.value.split(\"-\")[0]);\n        if (res.otp_id != \"\") {\n          localStorage.setItem(\"otp_id\", res.otp_id);\n          otpId.value = res.otp_id;\n        }\n      } catch (err) {\n        setError(te(\"code-send-error\") ? t(\"code-send-error\") : \"An error occurred sending the code.\", true);\n      } finally {\n        loading.value = false;\n      }\n    });\n    const activateOneTimePasscode = () => __async(this, null, function* () {\n      _resetLoadingState();\n      _resetErrorState();\n      loading.value = true;\n      try {\n        if (!oneTimePasscode.value) {\n          throw new Error(\"Login code is undefined.\");\n        }\n        if (oneTimePasscode.value.length !== numInputs) {\n          throw new Error(\"Login code is invalid length.\");\n        }\n        if (!otpId.value) {\n          throw new Error(\"Login code id is undefined.\");\n        }\n        const result = yield passage.oneTimePasscodeActivate(oneTimePasscode.value, otpId.value);\n        if (result && result.redirect_url != \"\") {\n          localStorage.removeItem(\"otp_id\");\n          useCallbacks().onEvent.value(OnEventType.onOneTimePasscodeActivated);\n          useAuthEvent().emitEvent({\n            type: AuthEventType.FallbackAuthSuccess,\n            payload: {\n              identifier: props.identifier,\n              authResult: result\n            }\n          });\n        }\n      } catch (err) {\n        setError(\n          te(\"code-invalid-or-expired\") ? t(\"code-invalid-or-expired\") : \"Code is invalid or expired. Please try again.\"\n        );\n      } finally {\n        loading.value = false;\n      }\n    });\n    const onGoBackClicked = () => {\n      useAuthEvent().emitEvent({ type: AuthEventType.ChangeIdentifier, payload: void 0 });\n    };\n    const onResendCodeClicked = () => {\n      sendOneTimePasscode();\n    };\n    const onSubmitClicked = () => {\n      activateOneTimePasscode();\n    };\n    onMounted(() => {\n      sendOneTimePasscode(props.userIsRegistering);\n      moveInput();\n    });\n    onBeforeUnmount(() => {\n      cleanupInput();\n    });\n    const _resetLoadingState = () => {\n      loading.value = true;\n    };\n    const _resetErrorState = () => {\n      errorMessage.value = void 0;\n      errorWithOneTimePasscode.value = false;\n      errorSendingOneTimePasscode.value = false;\n    };\n    const _resetOneTimePasscode = () => {\n      oneTimePasscode.value = void 0;\n    };\n    const setError = (message2, sending = false) => {\n      errorMessage.value = message2;\n      errorWithOneTimePasscode.value = !sending;\n      errorSendingOneTimePasscode.value = sending;\n    };\n    const otpInput = ref();\n    function moveInput() {\n      const parent = otpInput.value.getRootNode().host;\n      otpInput.value.appendChild(otcStyles());\n      parent.appendChild(otpInput.value);\n    }\n    function cleanupInput() {\n      otpInput.value.remove();\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$9, [\n        createBaseVNode(\"form\", _hoisted_2$6, [\n          createBaseVNode(\"div\", _hoisted_3$6, [\n            createBaseVNode(\"span\", null, toDisplayString(title.value), 1)\n          ]),\n          createBaseVNode(\"div\", _hoisted_4$5, [\n            createBaseVNode(\"div\", _hoisted_5$5, [\n              createBaseVNode(\"p\", { innerHTML: message.value }, null, 8, _hoisted_6$4)\n            ])\n          ]),\n          createBaseVNode(\"div\", _hoisted_7$4, [\n            createBaseVNode(\"div\", {\n              ref_key: \"otpInput\",\n              ref: otpInput,\n              slot: \"otpInput\"\n            }, [\n              createVNode(_sfc_main$c, {\n                \"num-inputs\": numInputs,\n                \"is-disabled\": oneTimePasscodeInputsDisabled.value,\n                value: oneTimePasscode.value,\n                \"onUpdate:value\": _cache[0] || (_cache[0] = ($event) => oneTimePasscode.value = $event),\n                \"input-classes\": oneTimePasscodeInputClasses.value,\n                \"disable-non-current\": false\n              }, null, 8, [\"is-disabled\", \"value\", \"input-classes\"])\n            ], 512),\n            renderSlot(_ctx.$slots, \"otpInput\")\n          ]),\n          createBaseVNode(\"div\", _hoisted_8$3, [\n            createBaseVNode(\"div\", _hoisted_9$3, toDisplayString(errorMessage.value ? errorMessage.value : \" \"), 1)\n          ]),\n          createBaseVNode(\"div\", _hoisted_10$1, [\n            createBaseVNode(\"button\", {\n              type: \"submit\",\n              class: \"button is-primary\",\n              part: \"button\",\n              \"data-test\": \"continue-button\",\n              onClick: withModifiers(onSubmitClicked, [\"prevent\"]),\n              disabled: continueBtnDisabled.value\n            }, toDisplayString(unref(t)(\"continue\")), 9, _hoisted_11$1)\n          ]),\n          _hoisted_12$1,\n          createBaseVNode(\"div\", _hoisted_13$1, [\n            createBaseVNode(\"div\", _hoisted_14$1, [\n              createBaseVNode(\"a\", {\n                onClick: withModifiers(onGoBackClicked, [\"prevent\"]),\n                role: \"button\",\n                \"data-test\": \"one-time-passcode-goback-button\"\n              }, toDisplayString(btnGoBackText.value), 9, _hoisted_15$1)\n            ]),\n            createBaseVNode(\"div\", _hoisted_16$1, [\n              createBaseVNode(\"a\", {\n                onClick: withModifiers(onResendCodeClicked, [\"prevent\"]),\n                role: \"button\",\n                \"data-test\": \"one-time-passcode-resend-button\"\n              }, toDisplayString(btnResendText.value), 9, _hoisted_17$1)\n            ])\n          ])\n        ])\n      ]);\n    };\n  }\n});\nconst _hoisted_1$8 = { class: \"view-access-token\" };\nconst _sfc_main$a = defineComponent({\n  __name: \"OneTimePasscodeView\",\n  props: {\n    identifier: {},\n    userIsRegistering: { type: Boolean },\n    identifierVerifying: { type: Boolean },\n    setupNewDevice: { type: Boolean },\n    identifierType: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$8, [\n        createVNode(_sfc_main$b, {\n          identifier: _ctx.identifier,\n          userIsRegistering: _ctx.userIsRegistering,\n          identifierVerifying: _ctx.identifierVerifying,\n          setupNewDevice: _ctx.setupNewDevice,\n          identifierType: _ctx.identifierType\n        }, {\n          otpInput: withCtx(() => [\n            renderSlot(_ctx.$slots, \"otpInput\")\n          ]),\n          _: 3\n        }, 8, [\"identifier\", \"userIsRegistering\", \"identifierVerifying\", \"setupNewDevice\", \"identifierType\"])\n      ]);\n    };\n  }\n});\nconst _hoisted_1$7 = {\n  class: \"title has-text-centered secondary-title\",\n  \"data-test\": \"activate-magic-link-message\"\n};\nconst _hoisted_2$5 = { class: \"image has-text-centered\" };\nconst _hoisted_3$5 = { key: 0 };\nconst _hoisted_4$4 = {\n  class: \"flex-row flex-center\",\n  style: { \"padding\": \"20px 0px\" }\n};\nconst _hoisted_5$4 = [\"onClick\", \"disabled\"];\nconst _hoisted_6$3 = { key: 0 };\nconst _hoisted_7$3 = { key: 1 };\nconst _hoisted_8$2 = {\n  key: 2,\n  class: \"link has-text-centered\"\n};\nconst _hoisted_9$2 = [\"onClick\"];\nconst _sfc_main$9 = defineComponent({\n  __name: \"AddDevice\",\n  props: {\n    authResult: {},\n    identifier: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const { t } = useLocale();\n    const showFailure = ref(false);\n    const showSuccess = ref(false);\n    const newDevice = ref();\n    const { addDevice, addPending } = useAddDevice();\n    const { autofocusButton } = useAutofocusButton();\n    const title = computed(() => {\n      if (showFailure.value) {\n        return t(\"something-went-wrong\");\n      } else {\n        return t(\"add-passkey\");\n      }\n    });\n    function onButtonClick() {\n      return __async(this, null, function* () {\n        var _a;\n        newDevice.value = yield addDevice();\n        if ((_a = newDevice.value) == null ? void 0 : _a.id) {\n          showSuccess.value = true;\n          showFailure.value = false;\n          finishAuth();\n        } else {\n          showFailure.value = true;\n          showSuccess.value = false;\n        }\n      });\n    }\n    const finishAuth = () => {\n      useAuthEvent().emitEvent({\n        type: AuthEventType.AuthSuccess,\n        payload: {\n          identifier: props.identifier,\n          authResult: props.authResult\n        }\n      });\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createBaseVNode(\"div\", _hoisted_1$7, toDisplayString(title.value), 1),\n        createBaseVNode(\"figure\", _hoisted_2$5, [\n          showFailure.value ? (openBlock(), createBlock(unref(InlineSvg), {\n            key: 0,\n            src: unref(Icons).fingerprintFailed,\n            alt: \"Device failure\"\n          }, null, 8, [\"src\"])) : (openBlock(), createBlock(unref(InlineSvg), {\n            key: 1,\n            src: unref(Icons).passkey,\n            alt: \"Add a passkey\",\n            style: { \"margin\": \"5px\" }\n          }, null, 8, [\"src\"]))\n        ]),\n        showFailure.value ? (openBlock(), createElementBlock(\"div\", _hoisted_3$5, toDisplayString(unref(t)(\"failed-to-add-this-device\")), 1)) : (openBlock(), createBlock(_sfc_main$i, {\n          key: 1,\n          cta: unref(t)(\"log-into-your-account\")\n        }, null, 8, [\"cta\"])),\n        createBaseVNode(\"div\", _hoisted_4$4, [\n          createBaseVNode(\"button\", {\n            onClick: withModifiers(onButtonClick, [\"prevent\"]),\n            type: \"button\",\n            class: normalizeClass([\"button is-primary\", { \"is-loading\": unref(addPending) }]),\n            part: \"button\",\n            disabled: unref(addPending),\n            \"data-test\": \"save-device-button\",\n            ref_key: \"autofocusButton\",\n            ref: autofocusButton\n          }, [\n            showFailure.value ? (openBlock(), createElementBlock(\"span\", _hoisted_6$3, toDisplayString(unref(t)(\"try-again\")), 1)) : (openBlock(), createElementBlock(\"span\", _hoisted_7$3, toDisplayString(unref(t)(\"add-passkey\")), 1))\n          ], 10, _hoisted_5$4)\n        ]),\n        !showSuccess.value ? (openBlock(), createElementBlock(\"div\", _hoisted_8$2, [\n          createBaseVNode(\"div\", null, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(finishAuth, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"add-device-skip\"\n            }, toDisplayString(unref(t)(\"skip\")), 9, _hoisted_9$2)\n          ])\n        ])) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nconst _hoisted_1$6 = { class: \"view-add-device\" };\nconst _sfc_main$8 = defineComponent({\n  __name: \"AddDeviceView\",\n  props: {\n    authResult: {},\n    identifier: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$6, [\n        createVNode(_sfc_main$9, {\n          authResult: _ctx.authResult,\n          identifier: _ctx.identifier\n        }, null, 8, [\"authResult\", \"identifier\"])\n      ]);\n    };\n  }\n});\nconst _hoisted_1$5 = {\n  class: \"wrap-text\",\n  style: { \"margin-bottom\": \"12px !important\" }\n};\nconst _hoisted_2$4 = { class: \"passage-learnmore-header\" };\nconst _hoisted_3$4 = { class: \"passage-learnmore-body\" };\nconst _hoisted_4$3 = { class: \"passage-learnmore-header\" };\nconst _hoisted_5$3 = { class: \"passage-learnmore-body\" };\nconst _sfc_main$7 = defineComponent({\n  __name: \"LearnMoreDisabledFallbacks\",\n  setup(__props) {\n    const { t } = useLocale();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$j, null, {\n        cta: withCtx(() => [\n          createBaseVNode(\"div\", _hoisted_1$5, toDisplayString(unref(t)(\"passkeys-are-required\")) + toDisplayString(\" \"), 1),\n          createTextVNode(\" \" + toDisplayString(unref(t)(\"try-again-on-device-with-passkeys\")), 1)\n        ]),\n        body: withCtx(() => [\n          createBaseVNode(\"div\", _hoisted_2$4, toDisplayString(unref(t)(\"what-are-passkeys\")), 1),\n          createBaseVNode(\"div\", _hoisted_3$4, toDisplayString(unref(t)(\"passkeys-are-a-simpler-and-more-secure-alternative\")), 1),\n          createBaseVNode(\"div\", _hoisted_4$3, toDisplayString(unref(t)(\"devices-that-support-passkeys\")), 1),\n          createBaseVNode(\"div\", _hoisted_5$3, toDisplayString(unref(t)(\"devices-with-a-biometric-sensor-are-likely-to-support-passkeys\")), 1)\n        ]),\n        _: 1\n      });\n    };\n  }\n});\nconst _hoisted_1$4 = { class: \"auth-flex-container\" };\nconst _hoisted_2$3 = { class: \"title has-text-centered\" };\nconst _hoisted_3$3 = {\n  class: \"image has-text-centered\",\n  style: { \"margin\": \"5px auto\" }\n};\nconst _hoisted_4$2 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"spacer\" }, null, -1);\nconst _hoisted_5$2 = { class: \"flex-row flex-wrap flex-center\" };\nconst _hoisted_6$2 = { class: \"link\" };\nconst _hoisted_7$2 = [\"onClick\"];\nconst _sfc_main$6 = defineComponent({\n  __name: \"DisableFallbacks\",\n  setup(__props) {\n    const { t } = useLocale();\n    const { emitEvent: emitEvent2 } = useAuthEvent();\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      emitEvent2({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$4, [\n        createBaseVNode(\"div\", _hoisted_2$3, toDisplayString(unref(t)(\"device-not-supported\")), 1),\n        createBaseVNode(\"figure\", _hoisted_3$3, [\n          createVNode(unref(InlineSvg), {\n            src: unref(Icons).passkeyArrow,\n            alt: \"Device not supported\",\n            style: { \"margin\": \"5px\" }\n          }, null, 8, [\"src\"])\n        ]),\n        createVNode(_sfc_main$7),\n        _hoisted_4$2,\n        createBaseVNode(\"div\", _hoisted_5$2, [\n          createBaseVNode(\"div\", _hoisted_6$2, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(changeEmail, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"change-email-button\"\n            }, toDisplayString(unref(t)(\"back\")), 9, _hoisted_7$2)\n          ])\n        ])\n      ]);\n    };\n  }\n});\nconst _sfc_main$5 = defineComponent({\n  __name: \"DisableFallbackView\",\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$6);\n    };\n  }\n});\nconst _hoisted_1$3 = { class: \"auth-flex-container\" };\nconst _hoisted_2$2 = { class: \"title has-text-centered\" };\nconst _hoisted_3$2 = {\n  class: \"image has-text-centered\",\n  style: { \"margin\": \"5px auto\" }\n};\nconst _hoisted_4$1 = {\n  class: \"wrap-text\",\n  style: { \"margin-bottom\": \"12px !important\" }\n};\nconst _hoisted_5$1 = { class: \"wrap-text\" };\nconst _hoisted_6$1 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"spacer\" }, null, -1);\nconst _hoisted_7$1 = { class: \"flex-row flex-wrap flex-center\" };\nconst _hoisted_8$1 = { class: \"link\" };\nconst _hoisted_9$1 = [\"onClick\"];\nconst _sfc_main$4 = defineComponent({\n  __name: \"LoginNotSupported\",\n  setup(__props) {\n    const { t } = useLocale();\n    const { emitEvent: emitEvent2 } = useAuthEvent();\n    function changeEmail() {\n      localStorage.removeItem(\"email\");\n      emitEvent2({\n        type: AuthEventType.ChangeIdentifier,\n        payload: void 0\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$3, [\n        createBaseVNode(\"div\", _hoisted_2$2, toDisplayString(unref(t)(\"login-not-supported\")), 1),\n        createBaseVNode(\"figure\", _hoisted_3$2, [\n          createVNode(unref(InlineSvg), {\n            src: unref(Icons).passkeyArrow,\n            alt: \"Device not supported\",\n            style: { \"margin\": \"5px\" }\n          }, null, 8, [\"src\"])\n        ]),\n        createBaseVNode(\"div\", _hoisted_4$1, toDisplayString(unref(t)(\"passkeys-are-now-required\")), 1),\n        createBaseVNode(\"div\", _hoisted_5$1, toDisplayString(unref(t)(\"please-contact-support-to-regain-access\")), 1),\n        _hoisted_6$1,\n        createBaseVNode(\"div\", _hoisted_7$1, [\n          createBaseVNode(\"div\", _hoisted_8$1, [\n            createBaseVNode(\"a\", {\n              onClick: withModifiers(changeEmail, [\"prevent\"]),\n              role: \"button\",\n              \"data-test\": \"change-email-button\"\n            }, toDisplayString(unref(t)(\"back\")), 9, _hoisted_9$1)\n          ])\n        ])\n      ]);\n    };\n  }\n});\nconst _sfc_main$3 = defineComponent({\n  __name: \"LoginNotSupportedView\",\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$4);\n    };\n  }\n});\nconst AuthRoute = {\n  component: _sfc_main$r\n};\nconst LoginRoute = {\n  component: _sfc_main$o\n};\nconst RegisterRoute = {\n  component: _sfc_main$n\n};\nconst RegisterDeviceRoute = {\n  component: _sfc_main$g\n};\nconst MagicLinkRoute = {\n  component: _sfc_main$k\n};\nconst WebauthnSignInRoute = {\n  component: _sfc_main$e\n};\nconst ActivateMagicLinkRoute = {\n  component: _sfc_main$p\n};\nconst OneTimePasscodeRoute = {\n  component: _sfc_main$a\n};\nconst AddDeviceRoute = {\n  component: _sfc_main$8\n};\nconst DisableFallbacksRoute = {\n  component: _sfc_main$5\n};\nconst LoginNotSupportedRoute = {\n  component: _sfc_main$3\n};\nconst ELEMENT_CUSTOMIZATION_FIELD_TO_CSS_VAR_NAME = {\n  passage_container_background_color: \"--passage-container-background-color-default\",\n  passage_container_max_width: \"--passage-container-max-width-default\",\n  passage_input_box_background_color: \"--passage-input-box-background-color-default\",\n  passage_input_box_border_radius: \"--passage-input-box-border-radius-default\",\n  passage_header_font_family: \"--passage-header-font-family-default\",\n  passage_body_font_family: \"--passage-body-font-family-default\",\n  passage_header_text_color: \"--passage-header-text-color-default\",\n  passage_body_text_color: \"--passage-body-text-color-default\",\n  passage_primary_button_background_color: \"--passage-primary-button-background-color-default\",\n  passage_primary_button_text_color: \"--passage-primary-button-text-color-default\",\n  passage_primary_button_hover_color: \"--passage-primary-button-background-hover-color-default\",\n  passage_primary_button_border_radius: \"--passage-primary-button-border-radius-default\",\n  passage_primary_button_border_color: \"--passage-primary-button-border-color-default\",\n  passage_primary_button_border_width: \"--passage-primary-button-border-width-default\",\n  passage_secondary_button_background_color: \"--passage-secondary-button-background-color-default\",\n  passage_secondary_button_text_color: \"-passage-secondary-button-text-color-default\",\n  passage_secondary_button_hover_color: \"--passage-secondary-button-background-hover-color-default\",\n  passage_secondary_button_border_radius: \"--passage-secondary-button-border-radius-default\",\n  passage_secondary_button_border_color: \"--passage-secondary-button-border-color-default\",\n  passage_secondary_button_border_width: \"--passage-secondary-button-border-width-default\"\n};\nconst PIXEL_ELEMENT_CUSTOMIZATION_FIELDS = {\n  passage_container_max_width: \"passage_container_max_width\",\n  passage_input_box_border_radius: \"passage_input_box_border_radius\",\n  passage_primary_button_border_radius: \"passage_primary_button_border_radius\",\n  passage_primary_button_border_width: \"passage_primary_button_border_width\",\n  passage_secondary_button_border_radius: \"passage_secondary_button_border_radius\",\n  passage_secondary_button_border_width: \"passage_secondary_button_border_width\"\n};\nfunction transformToPixelString(cssValue) {\n  return `${cssValue}px`;\n}\nfunction useElementCustomization() {\n  const setCustomElementStyles = (authContainerRef, elementCustomization) => {\n    Object.entries(elementCustomization).forEach((entry) => {\n      const [cssAttribute, cssValue] = entry;\n      let transformedCssValue = cssValue;\n      if (Object.values(PIXEL_ELEMENT_CUSTOMIZATION_FIELDS).includes(cssAttribute)) {\n        transformedCssValue = transformToPixelString(cssValue);\n      }\n      authContainerRef.style.setProperty(\n        ELEMENT_CUSTOMIZATION_FIELD_TO_CSS_VAR_NAME[cssAttribute],\n        transformedCssValue\n      );\n    });\n  };\n  return {\n    setCustomElementStyles\n  };\n}\nclass Router {\n  constructor(homeRoute) {\n    this._homeRoute = AuthRoute;\n    this._history = [];\n    if (homeRoute !== void 0) {\n      this._homeRoute = homeRoute;\n    }\n  }\n  get homeRoute() {\n    return this._homeRoute;\n  }\n  set homeRoute(homeRoute) {\n    this._homeRoute = homeRoute;\n  }\n  get currentRoute() {\n    if (this._history.length === 0) {\n      return void 0;\n    }\n    return this._history[this._history.length - 1];\n  }\n  push(route, props) {\n    this._history.push(__spreadProps(__spreadValues({}, route), { props }));\n  }\n  resetRouter() {\n    this._history = [];\n  }\n}\nconst _hoisted_1$2 = { class: \"debug-router\" };\nconst _hoisted_2$1 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"section-label\" }, \"View\", -1);\nconst _hoisted_3$1 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"section-label\" }, \"Props\", -1);\nconst _hoisted_4 = { key: 0 };\nconst _hoisted_5 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Identifier\", -1);\nconst _hoisted_6 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Identifier Type\", -1);\nconst _hoisted_7 = { key: 1 };\nconst _hoisted_8 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Identifier\", -1);\nconst _hoisted_9 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Identifier Type\", -1);\nconst _hoisted_10 = { key: 2 };\nconst _hoisted_11 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Identifier\", -1);\nconst _hoisted_12 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Identifier Type\", -1);\nconst _hoisted_13 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Setup New Device\", -1);\nconst _hoisted_14 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"User Is Registering\", -1);\nconst _hoisted_15 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Verifying Identifier\", -1);\nconst _hoisted_16 = { key: 3 };\nconst _hoisted_17 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Identifier\", -1);\nconst _hoisted_18 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Identifier Type\", -1);\nconst _hoisted_19 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Setup New Device\", -1);\nconst _hoisted_20 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"User Is Registering\", -1);\nconst _hoisted_21 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Verifying Identifier\", -1);\nconst _hoisted_22 = { key: 4 };\nconst _hoisted_23 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"control-label\" }, \"Magic Link\", -1);\nconst _hoisted_24 = { key: 5 };\nconst _hoisted_25 = [\"onClick\"];\nconst identifier = `authenticator@passage.id`;\nconst _sfc_main$2 = defineComponent({\n  __name: \"DebugRouter\",\n  props: {\n    router: {},\n    appInfo: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const views = ref([\n      {\n        name: \"Main View\",\n        value: {\n          route: props.router.homeRoute,\n          key: \"MAINVIEW\"\n        }\n      },\n      {\n        name: \"Register Device\",\n        value: {\n          route: RegisterDeviceRoute,\n          key: \"REGISTERDEVICE\"\n        }\n      },\n      {\n        name: \"Webauthnn Login\",\n        value: {\n          route: WebauthnSignInRoute,\n          key: \"WEBAUTHNSIGNIN\"\n        }\n      },\n      {\n        name: \"One Time Passcode\",\n        value: {\n          route: OneTimePasscodeRoute,\n          key: \"OTP\"\n        }\n      },\n      {\n        name: \"Maigc Link\",\n        value: {\n          route: MagicLinkRoute,\n          key: \"MAGICLINK\"\n        }\n      },\n      {\n        name: \"Activate Magic Link\",\n        value: {\n          route: ActivateMagicLinkRoute,\n          key: \"ACTIVATEMAGICLINK\"\n        }\n      },\n      {\n        name: \"Add Device\",\n        value: {\n          route: AddDeviceRoute,\n          key: \"ADDDEVICE\"\n        }\n      },\n      {\n        name: \"Device Not Supported\",\n        value: {\n          route: DisableFallbacksRoute,\n          key: \"DEVICENOTSUPPORTED\"\n        }\n      },\n      {\n        name: \"Login Not Supported\",\n        value: {\n          route: LoginNotSupportedRoute,\n          key: \"LOGINNOTSUPPORTED\"\n        }\n      }\n    ]);\n    const selectedRoute = ref(views.value[0].value);\n    const browserFeatures = {\n      securityKey: true,\n      platform: true,\n      syncedCredential: true,\n      crossDeviceCredential: true,\n      conditionalUI: true,\n      isAvailable: true\n    };\n    const { passage } = usePassage();\n    passage.getCredentialAvailable().then((browserFeatures2) => registerDeviceProps.browserFeatures = browserFeatures2);\n    passage.getCurrentSession().getAuthToken().then((authToken) => {\n      addDeviceProps.authResult.auth_token = authToken;\n    }).catch(() => {\n    });\n    const identifierTypes = [\n      {\n        name: \"Email\",\n        value: IdentifierType.email\n      },\n      {\n        name: \"Phone\",\n        value: IdentifierType.phone\n      }\n    ];\n    const mainViewProps = reactive({\n      register: false,\n      appInfo: props.appInfo\n    });\n    const registerDeviceProps = reactive({\n      identifier,\n      identifierType: IdentifierType.email,\n      appInfo: props.appInfo,\n      browserFeatures\n    });\n    const webauthnSignInProps = reactive({\n      identifier,\n      identifierType: IdentifierType.email,\n      appInfo: props.appInfo\n    });\n    const otpProps = reactive({\n      identifier,\n      identifierType: IdentifierType.email,\n      setupNewDevice: false,\n      userIsRegistering: false,\n      identifierVerifying: false\n    });\n    const magicLinkProps = reactive({\n      identifier,\n      identifierType: IdentifierType.email,\n      setupNewDevice: false,\n      userIsRegistering: false,\n      identifierVerifying: false\n    });\n    const activateMagicLinkProps = reactive({\n      magicLink: \"\",\n      webauthnAllowed: true\n    });\n    const addDeviceProps = reactive({\n      authResult: {\n        redirect_url: props.appInfo.redirect_url,\n        auth_token: \"\"\n      }\n    });\n    function goToView() {\n      let viewProps = void 0;\n      switch (selectedRoute.value.key) {\n        case \"MAINVIEW\":\n          viewProps = mainViewProps;\n          break;\n        case \"REGISTERDEVICE\":\n          viewProps = registerDeviceProps;\n          break;\n        case \"WEBAUTHNSIGNIN\":\n          viewProps = webauthnSignInProps;\n          break;\n        case \"OTP\":\n          viewProps = otpProps;\n          break;\n        case \"MAGICLINK\":\n          viewProps = magicLinkProps;\n          break;\n        case \"ACTIVATEMAGICLINK\":\n          viewProps = activateMagicLinkProps;\n          break;\n        case \"ADDDEVICE\":\n          viewProps = addDeviceProps;\n          break;\n        case \"DEVICENOTSUPPORTED\":\n        case \"LOGINNOTSUPPORTED\":\n          viewProps = void 0;\n          break;\n      }\n      props.router.push(selectedRoute.value.route, viewProps);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$2, [\n        _hoisted_2$1,\n        createVNode(Dropdown, {\n          modelValue: selectedRoute.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => selectedRoute.value = $event),\n          items: views.value\n        }, null, 8, [\"modelValue\", \"items\"]),\n        _hoisted_3$1,\n        selectedRoute.value.key === \"REGISTERDEVICE\" ? (openBlock(), createElementBlock(\"div\", _hoisted_4, [\n          _hoisted_5,\n          withDirectives(createBaseVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => registerDeviceProps.identifier = $event),\n            type: \"text\",\n            class: \"input psg-input\"\n          }, null, 512), [\n            [vModelText, registerDeviceProps.identifier]\n          ]),\n          _hoisted_6,\n          createVNode(Dropdown, {\n            modelValue: registerDeviceProps.identifierType,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => registerDeviceProps.identifierType = $event),\n            items: identifierTypes\n          }, null, 8, [\"modelValue\"])\n        ])) : selectedRoute.value.key === \"WEBAUTHNSIGNIN\" ? (openBlock(), createElementBlock(\"div\", _hoisted_7, [\n          _hoisted_8,\n          withDirectives(createBaseVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => webauthnSignInProps.identifier = $event),\n            type: \"text\",\n            class: \"input psg-input\"\n          }, null, 512), [\n            [vModelText, webauthnSignInProps.identifier]\n          ]),\n          _hoisted_9,\n          createVNode(Dropdown, {\n            modelValue: webauthnSignInProps.identifierType,\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event) => webauthnSignInProps.identifierType = $event),\n            items: identifierTypes\n          }, null, 8, [\"modelValue\"])\n        ])) : selectedRoute.value.key === \"OTP\" ? (openBlock(), createElementBlock(\"div\", _hoisted_10, [\n          _hoisted_11,\n          withDirectives(createBaseVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => otpProps.identifier = $event),\n            type: \"text\",\n            class: \"input psg-input\"\n          }, null, 512), [\n            [vModelText, otpProps.identifier]\n          ]),\n          _hoisted_12,\n          createVNode(Dropdown, {\n            modelValue: otpProps.identifierType,\n            \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => otpProps.identifierType = $event),\n            items: identifierTypes\n          }, null, 8, [\"modelValue\"]),\n          _hoisted_13,\n          createVNode(Checkbox, {\n            modelValue: otpProps.setupNewDevice,\n            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => otpProps.setupNewDevice = $event)\n          }, null, 8, [\"modelValue\"]),\n          _hoisted_14,\n          createVNode(Checkbox, {\n            modelValue: otpProps.userIsRegistering,\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event) => otpProps.userIsRegistering = $event)\n          }, null, 8, [\"modelValue\"]),\n          _hoisted_15,\n          createVNode(Checkbox, {\n            modelValue: otpProps.identifierVerifying,\n            \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event) => otpProps.identifierVerifying = $event)\n          }, null, 8, [\"modelValue\"])\n        ])) : selectedRoute.value.key === \"MAGICLINK\" ? (openBlock(), createElementBlock(\"div\", _hoisted_16, [\n          _hoisted_17,\n          withDirectives(createBaseVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event) => magicLinkProps.identifier = $event),\n            type: \"text\",\n            class: \"input psg-input\"\n          }, null, 512), [\n            [vModelText, magicLinkProps.identifier]\n          ]),\n          _hoisted_18,\n          createVNode(Dropdown, {\n            modelValue: magicLinkProps.identifierType,\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => magicLinkProps.identifierType = $event),\n            items: identifierTypes\n          }, null, 8, [\"modelValue\"]),\n          _hoisted_19,\n          createVNode(Checkbox, {\n            modelValue: magicLinkProps.setupNewDevice,\n            \"onUpdate:modelValue\": _cache[12] || (_cache[12] = ($event) => magicLinkProps.setupNewDevice = $event)\n          }, null, 8, [\"modelValue\"]),\n          _hoisted_20,\n          createVNode(Checkbox, {\n            modelValue: magicLinkProps.userIsRegistering,\n            \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event) => magicLinkProps.userIsRegistering = $event)\n          }, null, 8, [\"modelValue\"]),\n          _hoisted_21,\n          createVNode(Checkbox, {\n            modelValue: magicLinkProps.identifierVerifying,\n            \"onUpdate:modelValue\": _cache[14] || (_cache[14] = ($event) => magicLinkProps.identifierVerifying = $event)\n          }, null, 8, [\"modelValue\"])\n        ])) : selectedRoute.value.key === \"ACTIVATEMAGICLINK\" ? (openBlock(), createElementBlock(\"div\", _hoisted_22, [\n          _hoisted_23,\n          withDirectives(createBaseVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[15] || (_cache[15] = ($event) => activateMagicLinkProps.magicLink = $event),\n            type: \"text\",\n            class: \"input psg-input\"\n          }, null, 512), [\n            [vModelText, activateMagicLinkProps.magicLink]\n          ])\n        ])) : (openBlock(), createElementBlock(\"div\", _hoisted_24, \"None\")),\n        createBaseVNode(\"button\", {\n          class: \"button\",\n          onClick: withModifiers(goToView, [\"prevent\"])\n        }, \"Go To View\", 8, _hoisted_25)\n      ]);\n    };\n  }\n});\nconst _hoisted_1$1 = /* @__PURE__ */ createBaseVNode(\"div\", { class: \"header-title\" }, \"Passage Element Debug\", -1);\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = { class: \"debug-panel-body\" };\nconst _sfc_main$1 = defineComponent({\n  __name: \"DebugPanel\",\n  props: {\n    router: {},\n    appInfo: {}\n  },\n  setup(__props) {\n    const debugBuild = false;\n    const debugPanel = ref();\n    const panelVisible = ref(false);\n    function closeDebugPanel() {\n      panelVisible.value = false;\n    }\n    let pos1 = 0;\n    let pos2 = 0;\n    let pos3 = 0;\n    let pos4 = 0;\n    function dragMouseDown(e) {\n      e = e || window.event;\n      e.preventDefault();\n      pos3 = e.clientX;\n      pos4 = e.clientY;\n      document.onmouseup = closeDragElement;\n      document.onmousemove = elementDrag;\n    }\n    function elementDrag(e) {\n      e = e || window.event;\n      e.preventDefault();\n      pos1 = pos3 - e.clientX;\n      pos2 = pos4 - e.clientY;\n      pos3 = e.clientX;\n      pos4 = e.clientY;\n      if (debugPanel.value) {\n        debugPanel.value.style.top = debugPanel.value.offsetTop - pos2 + \"px\";\n        debugPanel.value.style.left = debugPanel.value.offsetLeft - pos1 + \"px\";\n      }\n    }\n    function closeDragElement() {\n      document.onmouseup = null;\n      document.onmousemove = null;\n    }\n    return (_ctx, _cache) => {\n      return debugBuild && panelVisible.value ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: \"debug-panel\",\n        ref_key: \"debugPanel\",\n        ref: debugPanel\n      }, [\n        createBaseVNode(\"div\", {\n          class: \"debug-panel-header\",\n          onMousedown: dragMouseDown\n        }, [\n          _hoisted_1$1,\n          createBaseVNode(\"div\", {\n            class: \"panel-close\",\n            onClick: withModifiers(closeDebugPanel, [\"prevent\"])\n          }, \"\\xD7\", 8, _hoisted_2)\n        ], 32),\n        createBaseVNode(\"div\", _hoisted_3, [\n          createVNode(_sfc_main$2, {\n            \"app-info\": _ctx.appInfo,\n            router: _ctx.router\n          }, null, 8, [\"app-info\", \"router\"])\n        ])\n      ], 512)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nconst _hoisted_1 = {\n  key: 1,\n  class: \"notification is-danger has-text-centered\",\n  \"data-test\": \"invalid-app-id\"\n};\nconst _sfc_main = defineComponent({\n  __name: \"SmartRouter\",\n  props: {\n    homeRoute: {},\n    authContainerRef: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const router = reactive(new Router(props.homeRoute));\n    const currentRoute = computed(() => router.currentRoute);\n    const { t } = useLocale();\n    const { appInfo, loading, invalidAppId, passage } = useAppInfo();\n    const { initEventHandler: initEventHandler2 } = useAuthEvent();\n    const { setCustomElementStyles } = useElementCustomization();\n    const currentComponent = computed(() => {\n      var _a;\n      return (_a = currentRoute.value) == null ? void 0 : _a.component;\n    });\n    const currentProps = computed(() => {\n      var _a;\n      const props2 = (_a = currentRoute.value) == null ? void 0 : _a.props;\n      if (props2 === void 0) {\n        return {};\n      }\n      return props2;\n    });\n    const initialized = ref(false);\n    watch(appInfo, () => __async(this, null, function* () {\n      initialized.value = false;\n      if (appInfo.value === void 0 || passage.value === void 0) {\n        return;\n      }\n      yield initEventHandler2(appInfo.value, router, passage.value);\n      initialized.value = true;\n      if (props.authContainerRef) {\n        setCustomElementStyles(props.authContainerRef, appInfo.value.element_customization);\n      }\n    }));\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(Transition, {\n          name: \"fade\",\n          mode: \"out-in\",\n          appear: \"\"\n        }, {\n          default: withCtx(() => [\n            !unref(loading) && initialized.value ? (openBlock(), createBlock(resolveDynamicComponent(currentComponent.value), normalizeProps(mergeProps({ key: 0 }, currentProps.value)), {\n              otpInput: withCtx(() => [\n                renderSlot(_ctx.$slots, \"otpInput\")\n              ]),\n              loginInput: withCtx(() => [\n                renderSlot(_ctx.$slots, \"loginInput\")\n              ]),\n              _: 3\n            }, 16)) : createCommentVNode(\"\", true)\n          ]),\n          _: 3\n        }),\n        unref(appInfo) && initialized.value ? (openBlock(), createBlock(_sfc_main$1, {\n          key: 0,\n          router,\n          \"app-info\": unref(appInfo)\n        }, null, 8, [\"router\", \"app-info\"])) : createCommentVNode(\"\", true),\n        unref(invalidAppId) ? (openBlock(), createElementBlock(\"div\", _hoisted_1, toDisplayString(unref(t)(\"invalid-app-id\")), 1)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction useElementSetup(props) {\n  function storeProps() {\n    if (props.appId) {\n      createPassageInstance(props.appId, props.tokenStore);\n    }\n    const { updateDefaultCountryCode } = useDefaultCountryCode();\n    updateDefaultCountryCode(props.defaultCountryCode);\n    const { setBeforeAuth: setBeforeAuth2, setOnSuccess: setOnSuccess2, setOnEvent: setOnEvent2 } = useCallbacks();\n    setBeforeAuth2(props.beforeAuth);\n    setOnSuccess2(props.onSuccess);\n    setOnEvent2(props.onEvent);\n  }\n  storeProps();\n  onBeforeUpdate(() => {\n    storeProps();\n  });\n  const { languageLoading } = useStoreLocale(props);\n  const containerRef = ref();\n  useIntlTelInput(containerRef);\n  return {\n    languageLoading,\n    containerRef\n  };\n}\nexport { AuthRoute as A, LoginRoute as L, RegisterRoute as R, _sfc_main as _, useElementSetup as u };\n//# \n"],"mappings":"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,EAAG;EAC5B,MAAMC,eAAe,GAAGlH,GAAG,CAAC,CAAC;EAC7B,SAASmH,SAASA,CAAA,EAAG;IACnB,IAAID,eAAe,CAAC9I,KAAK,KAAK,KAAK,CAAC,IAAI8I,eAAe,CAAC9I,KAAK,KAAK,IAAI,EAAE;MACtE;IACF;IACA8I,eAAe,CAAC9I,KAAK,CAACgJ,KAAK,CAAC,CAAC;EAC/B;EACAlH,KAAK,CAACgH,eAAe,EAAE,MAAM;IAC3BC,SAAS,CAAC,CAAC;EACb,CAAC,CAAC;EACF,OAAO;IACLD;EACF,CAAC;AACH;AACA,SAASG,WAAWA,CAAA,EAAG;EACrB,MAAMC,GAAG,GAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;EACJ,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EAC7CF,KAAK,CAACG,WAAW,CAACF,QAAQ,CAACG,cAAc,CAACL,GAAG,CAAC,CAAC;EAC/C,OAAOC,KAAK;AACd;AACA,SAASK,SAASA,CAAA,EAAG;EACnB,MAAMC,IAAI,GAAGL,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC3CI,IAAI,CAACC,GAAG,GAAG,YAAY;EACvBD,IAAI,CAACE,IAAI,GAAG,oFAAoF;EAChG,OAAOF,IAAI;AACb;AACA,SAASG,SAASA,CAAA,EAAG;EACnB,MAAMV,GAAG,GAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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"},"metadata":{},"sourceType":"module","externalDependencies":[]}