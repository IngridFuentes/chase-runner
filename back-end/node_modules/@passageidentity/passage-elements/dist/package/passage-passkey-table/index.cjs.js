"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e=require("../customElements.js"),n=require("../useProfileElementSetup.js");const a=e.defineComponent({__name:"PasskeyTableView",props:{appInfo:{},webauthnAllowed:{type:Boolean}},setup(a){const o=a,{userInfo:t,loading:l,refreshDevices:r}=n.useCurrentUser(o.appInfo);return(a,o)=>e.unref(l)?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(n._sfc_main$1,{key:0,userInfo:e.unref(t),refreshDevices:e.unref(r),webauthnAllowed:a.webauthnAllowed},null,8,["userInfo","refreshDevices","webauthnAllowed"]))}}),o={key:1,class:"notification is-danger has-text-centered"},t=e.defineComponent({__name:"MainView",setup(t){const{appInfo:l,loading:r,invalidAppId:u,passage:s}=e.useAppInfo(),c=e.ref(!1),i=e.ref(!1);return e.watch(l,(()=>{return e=this,n=null,a=function*(){i.value=!1,void 0!==l.value&&void 0!==s.value&&(s.value.checkWebauthnConfig(l.value)&&(c.value=(yield s.value.createCredentialAvailable()).securityKey),i.value=!0)},new Promise(((o,t)=>{var l=e=>{try{u(a.next(e))}catch(n){t(n)}},r=e=>{try{u(a.throw(e))}catch(n){t(n)}},u=e=>e.done?o(e.value):Promise.resolve(e.value).then(l,r);u((a=a.apply(e,n)).next())}));var e,n,a})),(t,s)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.unref(r)||!i.value?(e.openBlock(),e.createBlock(n._sfc_main,{key:0,active:e.unref(r)||!i.value},null,8,["active"])):e.unref(u)?(e.openBlock(),e.createElementBlock("div",o," Passage-Profile Error: Invalid App ID. ")):e.createCommentVNode("",!0),e.unref(l)&&i.value?(e.openBlock(),e.createBlock(a,{key:2,appInfo:e.unref(l),webauthnAllowed:c.value},null,8,["appInfo","webauthnAllowed"])):e.createCommentVNode("",!0)],64))}}),l=e.defineComponent({__name:"PasskeyTable.ce",props:{appId:{},lang:{},defaultCountryCode:{},tokenStore:{}},setup(a){const o=a,{languageLoading:l,containerRef:r}=n.useProfileElementSetup(o);return(n,a)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{id:"passage-profile-container",ref_key:"containerRef",ref:r},[(e.openBlock(),e.createBlock(t,{key:n.appId}))],512)),[[e.vShow,!e.unref(l)]])}});function r(){e.safelyRegisterElement(l,"passkey-table")}r(),exports.registerPassageLoginElement=r;
//# 
